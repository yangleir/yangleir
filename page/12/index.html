<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://assz0a.coding-pages.com').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="学习笔记">
<meta property="og:url" content="http://assz0a.coding-pages.com/page/12/index.html">
<meta property="og:site_name" content="学习笔记">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yang Lei">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://assz0a.coding-pages.com/page/12/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>学习笔记</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">学习笔记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">81</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">5</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">135</span></a>

  </li>
        <li class="menu-item menu-item-tools">

    <a href="/tools" rel="section"><i class="fa fa-fw fa-wrench"></i>Tools</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/01/29/linchang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/29/linchang/" class="post-title-link" itemprop="url">西出阳关无故人</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-29 17:29:06" itemprop="dateCreated datePublished" datetime="2021-01-29T17:29:06+08:00">2021-01-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-30 08:34:51" itemprop="dateModified" datetime="2021-01-30T08:34:51+08:00">2021-01-30</time>
              </span>

          
            <span id="/2021/01/29/linchang/" class="post-meta-item leancloud_visitors" data-flag-title="西出阳关无故人" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/01/29/linchang/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/01/29/linchang/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>阳关是历史上有名的地方。</p>
<p>近期爆出这里的林场事件，涉及生态环境问题，省委高度重视，请求生态环境部等国家部委提供了权威的卫星遥感资料进行印证，得出了初步的调查结论。<br><a href="https://www.thepaper.cn/newsDetail_forward_10951013" target="_blank" rel="noopener">新闻参考</a>。</p>
<p>那么吃瓜群众可以自己利用GEE大数据和云计算平台看一看阳关的绿色到底是多了还是少了，记者的报道是真还是政府通告是真。</p>
<h2 id="敦煌林场背景"><a href="#敦煌林场背景" class="headerlink" title="敦煌林场背景"></a>敦煌林场背景</h2><p>阳关林场成立于1963年，距敦煌市区70公里，西北与库姆塔格沙漠相连，东南与阳关镇龙勒村接壤，是全民所有制林场。敦煌市相关资料显示，2000年阳关林场总经营面积为2.57万亩，其中防护林面积约6500亩，园地3270亩(包括约3000亩的葡萄园地)，其他用地约15900亩(包括生活用地和未利用地等)。截止目前，林场有农户227户687人，管护人员13人。其中，正式编制3人，长期聘用人员6人，护林员2人，其他人员2人。<br>（资料来自政府通报）</p>
<p><img src="/images/forest.png" alt></p>
<center>阳关位置图</center>

<p>阳关林场像小蝌蚪一样伸入到库姆塔格沙漠中，四周被沙丘包围，面积不大，从图中可以看出，阳关林场因为有来自于阿尔金山的冰川积雪融水补给，才有了季节性河流汇入，抵抗住沙漠的侵袭，出现一片生机。这里的植被以怪柳林、梭梭林、沙拐枣林和花棒林为主。<br><a href="https://new.qq.com/omn/20210129/20210129A0879700.html" target="_blank" rel="noopener">资料来源</a></p>
<p><img src="/images/294.jpg" alt></p>
<center>林场照片（敦煌自然资源局供图。）</center>

<h2 id="GEE"><a href="#GEE" class="headerlink" title="GEE"></a>GEE</h2><p>历史上的林场地区地面情况可以方便的使用GEE查看，可以导出Landsat卫星观测以来任一年的影像，还可以方便的制作成动态视频。<br>小编在这里把lANDSAT5和LANDSAT8观测林区地面覆盖历史卫星影像导出为视频和动画等格式，1984-2020的动态变化一目了然。</p>
<h2 id="影像和视频"><a href="#影像和视频" class="headerlink" title="影像和视频"></a>影像和视频</h2><p><img src="/images/1989.png" alt></p>
<center>林场1989</center>

<p><img src="/images/2020.png" alt></p>
<center>林场2020</center>

<p>动画效果：<br><img src="/images/out.gif" alt><br>2020年的绿色范围显然是变大了，《经济参考报》的报道不真实。</p>
<p>然后我们再利用GEE，来俯瞰一下大地脉动吧。<br><video id="video" controls preload="none"><br>    <source id="mp4" src="/images/final.mp4" type="video/mp4"><br></video></p>
<center>阳关三十七年：1984–2020</center>

<h2 id="CODE"><a href="#CODE" class="headerlink" title="CODE"></a>CODE</h2><p>首先打开： <a href="https://code.earthengine.google.com/" target="_blank" rel="noopener">https://code.earthengine.google.com/</a></p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var l8_col = ee.ImageCollection(<span class="string">"LANDSAT/LC08/C01/T1_RT_TOA"</span>);</span><br><span class="line">var dataset = ee.ImageCollection(l8_col</span><br><span class="line">                      .<span class="keyword">filter</span>(ee.Filter.eq(<span class="string">'WRS_PATH'</span>, <span class="number">137</span>))</span><br><span class="line">                      .<span class="keyword">filter</span>(ee.Filter.eq(<span class="string">'WRS_ROW'</span>, <span class="number">32</span>))</span><br><span class="line">                      .filterDate(<span class="string">"2020-06-03"</span>, <span class="string">"2020-12-14"</span>)</span><br><span class="line">                      .<span class="keyword">filter</span>(ee.Filter.lt(<span class="string">'CLOUD_COVER'</span>, <span class="number">10</span>))</span><br><span class="line">                      .<span class="keyword">select</span>([<span class="string">'B4'</span>, <span class="string">'B3'</span>, <span class="string">'B2'</span>]));</span><br><span class="line"><span class="keyword">print</span>(dataset)                       </span><br><span class="line">var subset1 = ee.Image(dataset.toList(<span class="number">100</span>).get(<span class="number">0</span>))  </span><br><span class="line"></span><br><span class="line">var land05 = ee.ImageCollection(<span class="string">'LANDSAT/LT05/C01/T1_TOA'</span>);</span><br><span class="line">var land04_dh = ee.ImageCollection(land05</span><br><span class="line"><span class="comment">// Filter at Dunhuang Linchang</span></span><br><span class="line">                      .<span class="keyword">filter</span>(ee.Filter.eq(<span class="string">'WRS_PATH'</span>, <span class="number">137</span>))</span><br><span class="line">                      .<span class="keyword">filter</span>(ee.Filter.eq(<span class="string">'WRS_ROW'</span>, <span class="number">32</span>))</span><br><span class="line">                      .filterDate(<span class="string">'1984-01-01'</span>, <span class="string">'2012-12-31'</span>)</span><br><span class="line">                      .<span class="keyword">filter</span>(ee.Filter.lt(<span class="string">'CLOUD_COVER'</span>, <span class="number">10</span>))</span><br><span class="line">                      .<span class="keyword">select</span>([<span class="string">'B3'</span>, <span class="string">'B2'</span>, <span class="string">'B1'</span>]));</span><br><span class="line"><span class="keyword">print</span>(land04_dh)</span><br><span class="line">var subset2 = ee.Image(land04_dh.toList(<span class="number">1000</span>).get(<span class="number">2</span>))                         </span><br><span class="line">                       </span><br><span class="line"></span><br><span class="line">var trueColor432Vis = &#123;</span><br><span class="line">  <span class="keyword">min</span>: <span class="number">0.0</span>,</span><br><span class="line">  <span class="keyword">max</span>: <span class="number">0.35</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Map.centerObject(geometry, <span class="number">12</span>);</span><br><span class="line">Map.addLayer(subset1,trueColor432Vis,<span class="string">'new'</span>);</span><br><span class="line">Map.addLayer(subset2, trueColor432Vis, <span class="string">'old'</span>);</span><br><span class="line"><span class="keyword">print</span>(subset1)</span><br><span class="line"><span class="keyword">print</span>(subset2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Load a Landsat 5 image collection.</span></span><br><span class="line">var collection = ee.ImageCollection(<span class="string">'LANDSAT/LT05/C01/T1_TOA'</span>)</span><br><span class="line">                       .filterBounds(geometry)</span><br><span class="line">                       .filterDate(<span class="string">'1984-01-01'</span>, <span class="string">'2012-12-31'</span>)</span><br><span class="line">                       .<span class="keyword">filter</span>(ee.Filter.lt(<span class="string">'CLOUD_COVER'</span>, <span class="number">10</span>))</span><br><span class="line">                       .<span class="keyword">select</span>([<span class="string">'B3'</span>, <span class="string">'B2'</span>, <span class="string">'B1'</span>])</span><br><span class="line">                       .map(function(<span class="keyword">image</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">image</span>.multiply(<span class="number">512</span>).uint8();</span><br><span class="line">                       &#125;);</span><br><span class="line">  </span><br><span class="line"><span class="comment">// Export (change dimensions or scale for higher quality).</span></span><br><span class="line"><span class="comment">// https://developers.google.com/earth-engine/guides/exporting</span></span><br><span class="line">Export.video.toDrive(&#123;</span><br><span class="line">  collection: collection,</span><br><span class="line">  description: <span class="string">'sfVideoExample'</span>,</span><br><span class="line">  dimensions: <span class="number">720</span>,</span><br><span class="line">  framesPerSecond: <span class="number">12</span>,</span><br><span class="line">  region: geometry</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Export images to Drive</span></span><br><span class="line">Export.<span class="keyword">image</span>.toDrive(&#123;</span><br><span class="line">  <span class="keyword">image</span>: subset1,</span><br><span class="line">  description: <span class="string">'linchang20200704'</span>,</span><br><span class="line">  <span class="keyword">scale</span>: <span class="number">30</span>,</span><br><span class="line">  region: geometry</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// Export images to Drive</span></span><br><span class="line">Export.<span class="keyword">image</span>.toDrive(&#123;</span><br><span class="line">  <span class="keyword">image</span>: subset2,</span><br><span class="line">  description: <span class="string">'linchang19860704'</span>,</span><br><span class="line">  <span class="keyword">scale</span>: <span class="number">30</span>,</span><br><span class="line">  region: geometry</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Classify using random forest and SVM</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// Random forest: https://developers.google.com/earth-engine/guides/classification?hl=en</span></span><br><span class="line"><span class="comment">// SVM: https://code.earthengine.google.com/6492b4aa3715c7d0c12da9a374ca1ff2</span></span><br></pre></td></tr></table></figure>

<p>进一步还以用机器学习的方法进行地面覆盖分类，但是小编比较懒，最近也比较忙，把这个任务交给更多热爱环保并致力于使用遥感技术监测自然的热情群众吧。<br>代码末有随机森林分类和支持向量SVM的分类链接，可以比较方便的移植到敦煌林区。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>记者有时候追求的是热点，而忽视了事实，使用GEE大数据中的30余年的卫星影像可以让吃瓜群众快速了解真相。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/01/25/comments-and-response/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/25/comments-and-response/" class="post-title-link" itemprop="url">学术圈，也是江湖</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-25 10:13:55" itemprop="dateCreated datePublished" datetime="2021-01-25T10:13:55+08:00">2021-01-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-05 21:57:50" itemprop="dateModified" datetime="2021-02-05T21:57:50+08:00">2021-02-05</time>
              </span>

          
            <span id="/2021/01/25/comments-and-response/" class="post-meta-item leancloud_visitors" data-flag-title="学术圈，也是江湖" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/01/25/comments-and-response/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/01/25/comments-and-response/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>做学术不仅是发论文和拿项目，这里也有江湖，也有打打杀杀，也有人情世故。</p>
<p>这里说下学术圈的打打杀杀，还有近期很火的圈内互相举报。</p>
<p>学术圈的打打杀杀一般有两种途径：学术途径和举报途径。其中学术途径比较西方化，举报途径比较中国特色，但两种都充满了血雨腥风，打起来谁还管知识分子的温文尔雅。</p>
<h1 id="学术途径：comment和response"><a href="#学术途径：comment和response" class="headerlink" title="学术途径：comment和response"></a>学术途径：comment和response</h1><p>这里的comments和response不是指审稿阶段的专家意见以及作者回复，而是文章发表在学术期刊之后，有专业人士发现问题并撰写论文进行质疑，然后期刊邀请原文作者回应，并在同一期发表质疑和回复。这种质疑和回复的文章一般出现在较高层次的学术期刊，特别是《Science》、《Nature》较多。学术质疑的文章往往充满火药味，文章观点针锋相对，特别适合吃瓜群众当做故事会来读，真的很精彩。</p>
<p>这类文章的特点一般是，质疑者说你有论文不对，然后原作者回复是你不会。当然他们会拿出详细的证据，质疑者提出的观点看起来招招致命，然而往往原作者却能一个一个巧妙化解，毕竟是能在《Science》发文的大佬。然鹅，就在群众吃瓜间隙，他俩又是两篇《Science》。</p>
<h2 id="《Science》"><a href="#《Science》" class="headerlink" title="《Science》"></a>《Science》</h2><p>以《Science》期刊2020年刊出来的任一质疑文章为例。这里选择的是<code>化学</code>领域关于某高效催化剂的一篇文章，原文、质疑文章和回复文章如下：</p>
<blockquote>
<p>原文.Song, Y. et al. Dry reforming of methane by stable Ni–Mo nanocatalysts on single-crystalline MgO. Science 367, 777–781 (2020).<br>质疑.Hu, Y. H. &amp; Ruckenstein, E. Comment on “Dry reforming of methane by stable Ni–Mo nanocatalysts on single-crystalline MgO”. Science 368, (2020).<br>回复.Song, Y. et al. Response to Comment on “Dry reforming of methane by stable Ni–Mo nanocatalysts on single-crystalline MgO”. Science 368, (2020).</p>
</blockquote>
<h3 id="质疑"><a href="#质疑" class="headerlink" title="质疑"></a>质疑</h3><p>Hu是该领域大专家，1995年就取得了卓越的研究成果。Hu对Song的文章过分夸大研究效果，忽视他的早期成果而感到不公平或者不满意，Hu首先写道：</p>
<blockquote>
<p>自1995年我们报道了一种高效、稳定、无毒的Ni/MgO固溶催化剂用于甲烷干重整以来，Ni/MgO固溶催化剂得到了广泛的研究， 并被公认为是抑制该工艺焦炭形成和烧结的<strong>最有效</strong>催化剂之一。最近，Song等人报道了Mo掺杂的Ni/MgO催化剂用于干重整。遗憾的是，以开发基于Ni/MgO的高效干重整催化剂为宣称目的，Song等人<strong>忽略了</strong>已报道的Ni/MgO催化剂在没有焦炭形成和烧结的情况下具有优异的干重整性能，并表示 “快速的焦炭形成和烧结阻碍了其[Ni/MgO]在工业规模上的实施”。</p>
</blockquote>
<p>然后写道：</p>
<blockquote>
<p>进一步，Song等人的Mo掺杂Ni/MgO催化剂的最佳性能比我1995年报道的高效稳定的Ni/MgO固溶催化剂差。</p>
</blockquote>
<p>再接着拿出数据证明自己的观点：</p>
<blockquote>
<p>Mo掺杂的Ni/MgO催化剂的诱导时间如此之长，似乎对其应用提出了一个问题。相反，1995年我们开发了NiO/MgO(20:80)固溶催化剂，并对其进行了测试(用H2还原后，表示为Ni/MgO)，在790℃下进行干重整，活性气体(CH4/CO2不含惰性气体)的高GHSV为60升/g/小时。<br>…</p>
</blockquote>
<p>Hu总是把Song的2020年的最新研究成果和自己1995年的研究成果比较，而且开门见山地宣称Song研究比他的差。这…就是在要Song滴命。</p>
<p>最后：</p>
<blockquote>
<p>综上所述，<strong>25年前</strong>，NiO/MgO固溶体被证明是一种高效稳定的甲烷干重整催化剂，已被广泛研究，并被公认为是抑制碳沉积和烧结最有效的催化剂之一，但Song等人忽视了这一事实，高估了Mo掺杂Ni/MgO催化剂用于甲烷干重整的新颖性和重要性。</p>
</blockquote>
<h3 id="回复"><a href="#回复" class="headerlink" title="回复"></a>回复</h3><p>Hu的质疑简直要命，如果质疑做实，那是相当没脸面，以后还怎么在圈里混，怎么带自己的研究生。Song毕竟是可发表在《Science》期刊的作者，他的回复除了理性思维外，也有简单粗暴的一面：<br>首先摘要两句话</p>
<blockquote>
<p>Hu和Ruckenstein指出，尽管我们提出了单晶边缘纳米催化剂(NOSCE)机制的证据，但我们的研究结果被过度宣称，并不是新的。他们的论点没有考虑到我们的Ni-Mo/MgO催化剂和他们的NiO/MgO制剂之间的根本区别。</p>
</blockquote>
<p>然后开篇第一句指出Hu不是该领域的原创，狠狠地打了一巴掌Hu，这一下子脑袋瓜子嗡嗡地：</p>
<blockquote>
<p>正如我们的论文(1)所述，Ni在干重整中的使用可以追溯到1928年(2)，Ni/MgO的使用可以追溯到1974年(3)，而不是Hu和Ruckenstein(4)所说的那样。</p>
</blockquote>
<p>然后Song针对Hu的质疑一一反驳：</p>
<blockquote>
<p>那么，Hu和Ruckenstein就声称他们的工作在转化率方面比我们和其他的人更胜一筹。为了对催化活性进行公平的比较，最好把重点放在反应物转化的总量上，因为条件和参数有很大的不同，同时也要适当地调查催化剂的耐久性(因此要对焦化和烧结的稳定性进行比较)。…(略)<br>Hu和Ruckenstein还认为，低剂量的进料反应物会导致催化活性位点没有得到充分的利用。然而，较快的流速会减少催化剂和反应物之间的接触时间，并导致转化率降低，因为没有足够的时间进行反应。<br>也许最麻烦的是声称，在DRM活性的NiMoCat（诱导）的延迟是低性能的indi-cation由于缓慢的NiO扩散到MgO的表面，尽管我们广泛的分析和ex-planation上的 “激活 “阶段。</p>
</blockquote>
<p>接下来Song罗列观点：</p>
<blockquote>
<p>1）我们在催化剂合成过程中使用了强还原剂，没有形成NiO。最近，我们的工业合作伙伴在DRM之前测试了NiMoCat的逐渐氧化，发现其活性完全停止了。<br>…(略)</p>
</blockquote>
<p>最后还是证明我是优越的：</p>
<blockquote>
<p>最后，我们通过制作NiO/MoO/MgO的固溶体来制备对照品，并分析活性，以考察制备方法的效果(1)。结果明确显示反应后有严重的焦炭形成。部分Ni根本没有被还原，50wt%的废催化剂是不需要的碳。该样品显示了我们在con-trol实验中看到的最快、最高的结焦，这清楚地表明NiMoCat在组成和设计上的优越性。</p>
</blockquote>
<p>到这里，一回合结束了。总体上彼此还算尊重，虽有火药的刺激<code>味道</code>，但还算科学的<code>味道</code>占主，没有出现国内学者举报时的那股复合型<code>味道</code>，比如上升到道德高度，互相举报，互相人身攻击，恨不得把对方拉下马，关进监狱最好等。</p>
<h2 id="《Nature》"><a href="#《Nature》" class="headerlink" title="《Nature》"></a>《Nature》</h2><p>自然，和《Science》并肩的《Nature》也发表comments和response。稍微不同的是栏目名称是“Matters Arising”，也属于Article。<br>如最近一期刊出了浙江大学Li对韩国学者Hong的质疑文章：</p>
<blockquote>
<p>1.Hong, S. et al. Ultralow-dielectric-constant amorphous boron nitride. Nature 582, 511–514 (2020).<br>2.Hong, S. et al. Reply to: On the measured dielectric constant of amorphous boron nitride. Nature 590, E8–E10 (2021).<br>3.Li, L. &amp; Chen, X. M. On the measured dielectric constant of amorphous boron nitride. Nature 590, E6–E7 (2021).</p>
</blockquote>
<p>Li质疑：你的研究让我很兴奋（exciting），但有些问题需要还需要澄清。<br>韩国大叔回复：你搞错了。</p>
<p>作为外行人也看不懂谁对输错，但这你来我往，一人又一篇Nature是真的啊。Exciting！！</p>
<h2 id="遥感的学术争鸣"><a href="#遥感的学术争鸣" class="headerlink" title="遥感的学术争鸣"></a>遥感的学术争鸣</h2><p>遥感（和测绘）并非一个容易在Science和Nature发表文章的学科，即使发表了，作为数据驱动的学科也不如材料、化学、生物等试验驱动的学科那么容易惹人质疑，那么遥感方向有没有这样类型的质疑文章呢？</p>
<p>当然有。因为小编比较懒，仅仅以开放期刊Remote Sensing举个精彩的例子（SAR监测意大利Morandi桥坍塌事件）。Remote Sensing是国内硕士研究生和博士的灌水乐园，但这也无法掩盖Remote Sensing上确实有好的研究成果的事实。它真的刊登了学术争鸣文章，而且数量不少。</p>
<h3 id="Ponte-Morandi"><a href="#Ponte-Morandi" class="headerlink" title="Ponte Morandi"></a>Ponte Morandi</h3><p>莫兰迪桥（意大利语：Ponte Morandi）是意大利A10高速公路Polcevera高架桥（意大利语：viadotto Polcevera）的其中一段，位于利古里亚大区首府热那亚，建造于1967年，由意大利土木工程师里卡尔多·莫兰迪设计，故名莫兰迪桥，是欧洲首条混凝土斜张桥。2018年8月14日在暴风雨中突然断裂，导致43人丧生、16人受伤。<a href="https://zh.wikipedia.org/zh-cn/%E8%8E%AB%E8%98%AD%E8%BF%AA%E6%A9%8B" target="_blank" rel="noopener">来源</a><br><img src="/images/Genova-panorama_dal_santuario_di_ns_incoronata3.jpg" alt></p>
<center>坍塌前</center>

<p><img src="/images/Ponte_morandi_crollato.jpg" alt></p>
<center>坍塌后</center>

<h3 id="SAR监测意大利Morandi桥坍塌事件"><a href="#SAR监测意大利Morandi桥坍塌事件" class="headerlink" title="SAR监测意大利Morandi桥坍塌事件"></a>SAR监测意大利Morandi桥坍塌事件</h3><blockquote>
<p>原文.Milillo, P. et al. Pre-Collapse Space Geodetic Observations of Critical Infrastructure: The Morandi Bridge, Genoa, Italy. Remote Sensing 11, 1403 (2019).<br>质疑.Lanari, R. et al. Comment on “Pre-Collapse Space Geodetic Observations of Critical Infrastructure: The Morandi Bridge, Genoa, Italy” by Milillo et al. (2019). Remote Sensing 12, 4011 (2020).<br>回复.Milillo, P. et al. Reply to Lanari, R., et al. Comment on “Pre-Collapse Space Geodetic Observations of Critical Infrastructure: The Morandi Bridge, Genoa, Italy” by Milillo et al. (2019). Remote Sensing 12, 4016 (2020).</p>
</blockquote>
<p>原文章提出了一种评估桥梁坍塌前变形的方法，应用基于合成孔径雷达SAR的观测结果对Morandi桥（Polcevera高架桥）进行15年的监测调查，发现其在2018年8月14日倒塌之前，其变形的幅度会越来越大，坍塌段旁边的甲板的特点是，相对增加了位移。<br>原作者和质疑者均为意大利科学家，其中原作者（第一和通讯）Pietro Milillo（1989年生）发表文章时在NASA从事研究工作，合作单位中有Italian Space Agency和Italian Ministry of the Environment，看上去阵容强大。提出质疑的一方为Riccardo Lanari（1964年生），是IEEE的高级会员，为InSAR领域的权威，目前在意大利National Research Council任职，听上去以很牛的样子。或许大家想到同意大利操InSAR，相煎何急，读完后，会发现这一仗必须打。</p>
<h3 id="质疑-1"><a href="#质疑-1" class="headerlink" title="质疑"></a>质疑</h3><p>看似是一篇学术论文，却非比寻常的敏感。<br>先看Riccardo Lanari质疑的缘由：</p>
<blockquote>
<p>桥梁坍塌后，意大利民防部门与意大航天局请意大利一些在合成孔径方面具有较高资质的研究小组，基于欧洲C波段Sentinel-1和意大利X波段COSMO-SkyMed收集的合成孔径雷达数据(CSK)星座对其进行雷达干涉测量（InSAR）分析，以捕捉任何可能的与结构失效相关的早期位移。这些分析并没有显示出桥体的显著位移与倒塌的段相对应。<br>最近，2019年Milillo等人在处理ENVISAT、Sentinel-1和CSK传感器收集的SAR数据的基础上进行了InSAR分析。特别是，由于这种多轨道SAR数据集具有空间分辨率高、重访时间短的特点，他们对从上升轨道和下降轨道收集的3米3米分辨率CSK数据的处理代表了其分析的基石。作者得出结论，在2017年3月12日至2018年8月初期间，与位于坍塌桥墩旁的桥面股附近的点对应的变形幅度随时间变化。这些结果显然与我们在桥梁坍塌后立即进行的快速分析的结果不一致。<br>我们对每个数据集进行独立处理后得出的结论是，在位于坍塌段旁边的甲板股附近的像素中，我们没有发现任何证据表明其中报告的坍塌前位移。</p>
</blockquote>
<p>也就是说意大利政府在桥梁坍塌后组织了一批精干力量进行InSAR的变形监测评估，然而国家队没有发现任何桥梁的形变。之所以说这件事情可能非常敏感，因为不仅仅是学术争鸣，可能更涉及到事故的问责和善后，也可能影响到意大利政府的相关国家安全决策，当然还有InSAR研究队伍的课题立项。</p>
<p>最后Riccardo Lanari写道：</p>
<blockquote>
<p>不幸的是，在过去几十年中先进的InSAR技术得到广泛发展，促进了其在不同科学背景的广泛大规模利用，<strong>有些用户甚至不是InSAR领域的专家</strong>。利用InSAR对构筑物进行变形测必须有资格，在某些情况下，需要由专家指导他们开展InSAR产品的解释。这一点在分析人造结构和基础设施的情况下尤其需要，因为这些结构和基础设施的故障或倒塌造成了严重法律问题和人员伤亡，例如Morandi桥的情况。<br>因此，我们认为，Milillo等人[2]所研究的与Morandi桥相关的事件前InSAR分析，是一个错误。</p>
</blockquote>
<p>显然Riccardo Lanari认为Pietro Milillo不是专家，他的结论具有严重的误导性。原作者看到后，不知道是不是脑袋瓜子嗡嗡的，反正吃瓜群众读后有点上头。</p>
<h3 id="回复-1"><a href="#回复-1" class="headerlink" title="回复"></a>回复</h3><p>1989年出生的Pietro Milillo，面对1964出生的学术权威，回复非常简介和有说服力，如下：</p>
<blockquote>
<p>我们认为：（1）他们无法检测到塌陷前的运动，因为他们使用的是标准方法；（2）通过改变视点，形变信号变得可以观察。<br>即使使用同样的软件，他们也没有发现同样的结果，原因是他们采用了标准的方法，使用了通用的处理链。幸运的是，该软件非常灵活，它使我们能够实现非标准分析。</p>
</blockquote>
<p>然后写道：</p>
<blockquote>
<p>Lanari等人没有考虑到可以探索不同的方法。我们认为，作为研究者和科学家，我们的责任是调查新的信号，研究新的方法，以了解是否可以获得任何信息，为什么桥会坍塌?探索新的东西可能是具有挑战性的，可能导致错误或片面结果。然而，我们更愿意走这条道路，承担可能的风险，而不是停留在已经知道和标准化的东西上。<br>和常规方法相反，我们感兴趣的恰恰是标准方法所忽略的信号。我们的目的是在别人只发现噪音的地方找到信息。</p>
</blockquote>
<p>读到这，是不是为89年出生意大利小哥感动。</p>
<p>最后：</p>
<blockquote>
<p>Funding: This research received no external funding.</p>
</blockquote>
<p>也就是Pietro Milillo自费发表这篇回复文章，而Remote Sensing的版面费约15000元。是不是更加感动了，不仅掏心，还自己掏钱。</p>
<h1 id="举报途径"><a href="#举报途径" class="headerlink" title="举报途径"></a>举报途径</h1><p>接下来是我国的学术圈了，可能我国学者对质疑最常见的处理方式是举报，这也许是知识分子对政府公平公正和高效办事的期待吧。然鹅…看一下饶毅。</p>
<h2 id="饶毅质疑"><a href="#饶毅质疑" class="headerlink" title="饶毅质疑"></a>饶毅质疑</h2><p>背景不必多说，饶毅质疑了一位资深院士裴钢，裴钢1999年当选为中国科学院院士。饶毅质疑的焦点和上面的意大利Morandi事情类似，也是结论无法重复。然而，正常的科学质疑经过不断发酵，已经改变了味道。为什么变了味道？这或许和中国当下的大背景有关吧，中国有些知识分子长期以来对一些位高权重者的学术垄断和学术压制不满，当然还有一大批吃瓜群众看热闹，希望事情闹大，看看怎么收场，看看那些高高在上的人是怎么打回原型的。</p>
<p>现在这个事情已经起变化，由学术事件变为新闻事件、全民吐槽和娱乐事件，震惊学术圈的“图片误用”又是把事件推向一波新高潮，看看这些新闻题目，就知道事情的味道变了：</p>
<blockquote>
<p>昨夜饶毅正式举报裴钢，学术打假迎来最为悲壮的激情时刻<br>饶毅公开举报裴钢，上演中国学术打假封神之战！<br>饶毅深夜举报裴钢院士学术不端！网友评：低情商学术造假，高情商图片误用</p>
</blockquote>
<p>关心这件事情的人已经不仅仅是能看懂下面这篇焦点论文的科学家，而是全国老百姓，并且赋予了强烈的感情色彩。再次Exciting。<br><img src="/images/dajia.png" alt></p>
<p>饶毅化身科学鲁迅，揭发学术黑暗和学术不端，确实充满了激情。但是如果是科学质疑，他也错过了写PNAS Comment文章的好机会啊，质疑文章能全世界来读，往好了想学术争鸣能促进科学发展，造福全人类。而举报呢，在当前大背景下，只能弄一个“葫芦案”的故事，制造了一个“图片误用”的大结局。在这里，二十年来目睹的怪现状，还会再目睹几个二十年呢？</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/01/22/share-rs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/22/share-rs/" class="post-title-link" itemprop="url">海洋数据资源共享</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-22 21:37:51" itemprop="dateCreated datePublished" datetime="2021-01-22T21:37:51+08:00">2021-01-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-11-18 10:10:32" itemprop="dateModified" datetime="2021-11-18T10:10:32+08:00">2021-11-18</time>
              </span>

          
            <span id="/2021/01/22/share-rs/" class="post-meta-item leancloud_visitors" data-flag-title="海洋数据资源共享" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/01/22/share-rs/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/01/22/share-rs/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这里分享一些遥感、测绘、海洋等地球科学领域的开放资源。</p>
<h2 id="潮汐实测"><a href="#潮汐实测" class="headerlink" title="潮汐实测"></a>潮汐实测</h2><ul>
<li>Permanent Service for Mean Sea Level (PSMSL)： <a href="http://www.psmsl.org/" target="_blank" rel="noopener">http://www.psmsl.org/</a></li>
<li>UHSLC – University of Hawaii Sea Level Center： <a href="http://uhslc.soest.hawaii.edu/network/" target="_blank" rel="noopener">http://uhslc.soest.hawaii.edu/network/</a><br>夏威夷的这个网站含有逐时的潮位数据，也包括我国10个左右的逐时潮位数据，但数据自上个世纪以来未更新。</li>
<li>法国Corsica 卫星高度计定标场10分钟采样的潮汐数据: <a href="https://www.aviso.altimetry.fr/en/data/calval/in-situ/absolute-calibration/download-tide-gauge-data.html" target="_blank" rel="noopener">https://www.aviso.altimetry.fr/en/data/calval/in-situ/absolute-calibration/download-tide-gauge-data.html</a></li>
<li>中国珠海万山卫星高度计定标场(需是定标合作伙伴计划成员)高频验潮数据: <a href="ftp://1.203.103.214" target="_blank" rel="noopener">ftp://1.203.103.214</a></li>
<li>中国海洋信息中心: <a href="http://mds.nmdis.org.cn/pages/dataViewDetail.html?dataSetId=5" target="_blank" rel="noopener">http://mds.nmdis.org.cn/pages/dataViewDetail.html?dataSetId=5</a><br>信息中心公开了我国6个海洋站的月均潮位数据，搜集并公布了日本29个站点的逐时(一小时一个)潮位数据。我国海洋系统布设有120多个海洋站点，观测了半个多世纪的沿海潮位数据，目前（长期以来）把潮位数据当做保密数据，科研需求的申请非常困难，但是花钱往往就行，呵呵。<br>值得表扬的是，信息中心近两年逐渐开放了一部分海洋站点数据，比如14个台站的逐时的波浪、温盐和气象资料。</li>
</ul>
<h2 id="海平面变化数据"><a href="#海平面变化数据" class="headerlink" title="海平面变化数据"></a>海平面变化数据</h2><ul>
<li>Sea Level Research Group of colorado: <a href="https://sealevel.colorado.edu/" target="_blank" rel="noopener">https://sealevel.colorado.edu/</a><br><img src="/images/gmsl_2020rel1_seasons_rmvd_4.png" alt></li>
<li>AVISO 海平面变化在线分析:<a href="https://www.aviso.altimetry.fr/en/data/products/ocean-indicators-products/mean-sea-level/products-and-images-selection-without-saral-old.html" target="_blank" rel="noopener">https://www.aviso.altimetry.fr/en/data/products/ocean-indicators-products/mean-sea-level/products-and-images-selection-without-saral-old.html</a><br><img src="/images/aviso.png" alt></li>
</ul>
<h2 id="卫星测高数据"><a href="#卫星测高数据" class="headerlink" title="卫星测高数据"></a>卫星测高数据</h2><ul>
<li>AVISO: <a href="https://www.aviso.altimetry.fr" target="_blank" rel="noopener">https://www.aviso.altimetry.fr</a><br>主要的资源在AVISO的FTP(<a href="ftp://ftp-access.aviso.altimetry.fr)，" target="_blank" rel="noopener">ftp://ftp-access.aviso.altimetry.fr)，</a> 包含了Jason-1/2/3，Saral等卫星的GDR、IGDR、SGDR等数据。 此外这里还有许多辅助数据，比如DAC，MSS，Tide等等。我国HY-2A的再分析数据也可以在这下载，目录为 <code>/uncross-calibrated/open-ocean/non-time-critical/l2p/sla/h2/</code>。</li>
<li>中国海洋卫星数据服务系统: <a href="https://osdds.nsoas.org.cn" target="_blank" rel="noopener">https://osdds.nsoas.org.cn</a><br>HY-2A和HY-2B的数据使用FTP比较方便，(<a href="ftp://osdds-ftp.nsoas.org.cn/HY-2B/)。" target="_blank" rel="noopener">ftp://osdds-ftp.nsoas.org.cn/HY-2B/)。</a> 现在已经公开了SGDR，GDR，IGDR等。</li>
<li>Sentinel3高度计分两个地址下载，陆地数据：<a href="https://scihub.copernicus.eu/" target="_blank" rel="noopener">https://scihub.copernicus.eu/</a> ， 海洋数据：<a href="https://coda.eumetsat.int/" target="_blank" rel="noopener">https://coda.eumetsat.int/</a> （现在coda网站仅仅有1年的Sentinel3数据，历史数据需要到eumetsat的数据中心下载，<a href="https://www.eumetsat.int/eumetsat-data-centre）" target="_blank" rel="noopener">https://www.eumetsat.int/eumetsat-data-centre）</a></li>
<li>Icesat-2下载：<a href="https://nsidc.org/data/icesat-2/data-sets，" target="_blank" rel="noopener">https://nsidc.org/data/icesat-2/data-sets，</a> 在线预览：<a href="https://openaltimetry.org/data/icesat2/" target="_blank" rel="noopener">https://openaltimetry.org/data/icesat2/</a><br><img src="/images/openalti.png" alt></li>
<li>CryoSat: <a href="ftp://science-pds.cryosat.esa.int/SIR_GDR" target="_blank" rel="noopener">ftp://science-pds.cryosat.esa.int/SIR_GDR</a><br>和传统高度计数据的品类不同，Crysat有很多种数据，根据需求选择下载。</li>
<li>RADS: <a href="http://rads.tudelft.nl/" target="_blank" rel="noopener">http://rads.tudelft.nl/</a><br>RADS提供了文本格式的测高结果，免编程处理nc格式，也可以配合开发者remkos的开源项目使用<a href="https://github.com/remkos/rads" target="_blank" rel="noopener">https://github.com/remkos/rads</a></li>
</ul>
<h2 id="地球物理调查（水深、重力、磁力等等）"><a href="#地球物理调查（水深、重力、磁力等等）" class="headerlink" title="地球物理调查（水深、重力、磁力等等）"></a>地球物理调查（水深、重力、磁力等等）</h2><ul>
<li>美国NGDC：<a href="https://maps.ngdc.noaa.gov/" target="_blank" rel="noopener">https://maps.ngdc.noaa.gov/</a></li>
<li>日本godac：<a href="http://www.godac.jamstec.go.jp" target="_blank" rel="noopener">http://www.godac.jamstec.go.jp</a><br>日本开放的调查数据比NGDC的较新，质量更高，在西太平洋区域更丰富。<br><img src="/images/jap.png" alt></li>
<li>德国BSH（Federal Maritime and Hydrographic Agency）：<a href="https://www.bsh.de/EN/DATA/data_node.html" target="_blank" rel="noopener">https://www.bsh.de/EN/DATA/data_node.html</a></li>
<li>中国海洋信息中心：呵呵<br>主要放了一些外国搜集的数据，而我国观测数据为保密数据。</li>
</ul>
<h2 id="常用模型"><a href="#常用模型" class="headerlink" title="常用模型"></a>常用模型</h2><ul>
<li>NAO: <a href="https://www.miz.nao.ac.jp/staffs/nao99/index_En.html" target="_blank" rel="noopener">https://www.miz.nao.ac.jp/staffs/nao99/index_En.html</a></li>
<li>FES2014: <a href="ftp://ftp-access.aviso.altimetry.fr/auxiliary/tide_model/" target="_blank" rel="noopener">ftp://ftp-access.aviso.altimetry.fr/auxiliary/tide_model/</a></li>
<li>DTU MSS：<a href="ftp://ftp.space.dtu.dk/pub/DTU18/" target="_blank" rel="noopener">ftp://ftp.space.dtu.dk/pub/DTU18/</a></li>
<li>重力场: <a href="http://icgem.gfz-potsdam.de/home" target="_blank" rel="noopener">http://icgem.gfz-potsdam.de/home</a><br>有了这个在线计算的网站，免去编译源代码。<br><img src="/images/gra.png" alt></li>
</ul>
<h2 id="GNSS"><a href="#GNSS" class="headerlink" title="GNSS"></a>GNSS</h2><ul>
<li>陆态网: <a href="http://www.cgps.ac.cn/index.htm" target="_blank" rel="noopener">http://www.cgps.ac.cn/index.htm</a><br>这是中国做的很好的一个数据共享项目，把10多年的陆态网GNSS计算结果免费对外公开。含有坐标长时间序列、对流层、电离层等产品。现需要申请注册一个FTP账号。</li>
<li>IGS：<a href="https://cddis.nasa.gov/archive/gnss/products/" target="_blank" rel="noopener">https://cddis.nasa.gov/archive/gnss/products/</a></li>
<li>Nevada Geodetic Laboratory：<a href="http://geodesy.unr.edu/" target="_blank" rel="noopener">http://geodesy.unr.edu/</a></li>
</ul>
<h2 id="卫星遥感影像"><a href="#卫星遥感影像" class="headerlink" title="卫星遥感影像"></a>卫星遥感影像</h2><p>GEE: <a href="https://earthengine.google.com/" target="_blank" rel="noopener">https://earthengine.google.com/</a><br>有了GEE，再也不用到处下载数据了。GEE有众多的数据资源，常见的MODIS，Sentinel1/2/3/5，Landsat等等，还有非常多的专题数据，如LIDAR测量的荷兰0.5m分辨率的DEM，LIDAR测量的澳大利亚5m的DEM。GEE是真正意义上的大数据、云计算和AI集大成者。<br><img src="/images/gee.png" alt></p>
<h2 id="Worldview开放数据"><a href="#Worldview开放数据" class="headerlink" title="Worldview开放数据"></a>Worldview开放数据</h2><p><a href="https://www.maxar.com/open-data/" target="_blank" rel="noopener">https://www.maxar.com/open-data/</a></p>
<h2 id="sentinel-hub-在线浏览"><a href="#sentinel-hub-在线浏览" class="headerlink" title="sentinel-hub 在线浏览"></a>sentinel-hub 在线浏览</h2><p><a href="https://apps.sentinel-hub.com/sentinel-playground/" target="_blank" rel="noopener">https://apps.sentinel-hub.com/sentinel-playground/</a></p>
<h2 id="数据共享平台"><a href="#数据共享平台" class="headerlink" title="数据共享平台"></a>数据共享平台</h2><ul>
<li>极地中心：<a href="https://www.chinare.org.cn/data" target="_blank" rel="noopener">https://www.chinare.org.cn/data</a><br>共享了历次的极地科学考察现场调查资料，包含很多学科的很多数据，但是目前看，许多数据没有整理到能用的程度，仅仅是放在网上了，希望再好好改进一下。</li>
<li>中国海洋卫星数据服务系统: <a href="https://osdds.nsoas.org.cn" target="_blank" rel="noopener">https://osdds.nsoas.org.cn</a><br>除了测高，还有HY-1和GF-3.</li>
<li>中国海洋信息中心: <a href="http://mds.nmdis.org.cn/" target="_blank" rel="noopener">http://mds.nmdis.org.cn/</a><br>共享了很多外国数据。呵呵</li>
<li>日本航天局卫星共享平台gportal：<a href="https://gportal.jaxa.jp/gpr/" target="_blank" rel="noopener">https://gportal.jaxa.jp/gpr/</a></li>
<li>ESA卫星共享平台：<a href="https://scihub.copernicus.eu/" target="_blank" rel="noopener">https://scihub.copernicus.eu/</a><br>上面提到卫星测高（Sentinel-3），此外还有其他Sentinel卫星资源，如SAR和水色等。</li>
<li>自然资源卫星遥感云服务平台：<a href="http://sasclouds.com/chinese/home/" target="_blank" rel="noopener">http://sasclouds.com/chinese/home/</a><br>仅检索，不能下载。</li>
<li>载人航天：<a href="http://www.msadc.cn" target="_blank" rel="noopener">http://www.msadc.cn</a><br><img src="/images/tg.png" alt></li>
<li>Beaufort Gyre Exploration Project：<a href="https://www.whoi.edu/website/beaufortgyre/home" target="_blank" rel="noopener">https://www.whoi.edu/website/beaufortgyre/home</a><br>Beaufort专项数据，含有潜标、海底声呐等。</li>
<li>National Snow and Ice Data Center： <a href="https://nsidc.org/" target="_blank" rel="noopener">https://nsidc.org/</a><br>最丰富的的极地数据平台。</li>
<li>Data Publisher for Earth &amp; Environmental Science（pangaea）：<a href="https://pangaea.de/" target="_blank" rel="noopener">https://pangaea.de/</a><br>德国的地球科学和极地相关数据共享平台。</li>
<li>ERA5:<a href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-single-levels?tab=overview" target="_blank" rel="noopener">https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-single-levels?tab=overview</a></li>
</ul>
<h2 id="爬虫数据资源"><a href="#爬虫数据资源" class="headerlink" title="爬虫数据资源"></a>爬虫数据资源</h2><ul>
<li>三峡库区每日库水位下载：<a href="https://blog.cuger.cn/p/54193/" target="_blank" rel="noopener">https://blog.cuger.cn/p/54193/</a><br>爬虫抓取</li>
<li>大气：<a href="https://quotsoft.net/air/" target="_blank" rel="noopener">https://quotsoft.net/air/</a><br>好心人整理了中国环境监测站的污染物数据。</li>
</ul>
<h2 id="2021年4月后增加"><a href="#2021年4月后增加" class="headerlink" title="2021年4月后增加"></a>2021年4月后增加</h2><h3 id="水深"><a href="#水深" class="headerlink" title="水深"></a>水深</h3><!-- US American National Oceanographic and Atmospheric Administration (https://maps.ngdc.noaa.gov/viewers/bathymetry)
Japan Agency for Marine-Earth Science and Technology (http://www.godac.jamstec.go.jp/darwin/e) -->
<p>German Datacenter for bathymetric data (<a href="https://www.bsh.de/EN/DATA/Oceanographic_Data_Center/Surveying_data/surveying_data_node" target="_blank" rel="noopener">https://www.bsh.de/EN/DATA/Oceanographic_Data_Center/Surveying_data/surveying_data_node</a>).</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2020/09/21/streetmap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/21/streetmap/" class="post-title-link" itemprop="url">OpenStreetMap开源高精度海岸线数据介绍</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-21 21:05:08" itemprop="dateCreated datePublished" datetime="2020-09-21T21:05:08+08:00">2020-09-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-19 12:25:44" itemprop="dateModified" datetime="2020-12-19T12:25:44+08:00">2020-12-19</time>
              </span>

          
            <span id="/2020/09/21/streetmap/" class="post-meta-item leancloud_visitors" data-flag-title="OpenStreetMap开源高精度海岸线数据介绍" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/09/21/streetmap/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/09/21/streetmap/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="OpenStreetMap"><a href="#OpenStreetMap" class="headerlink" title="OpenStreetMap"></a>OpenStreetMap</h2><p>OpenStreetMap（简称OSM）是一个网上地图协作计划，目标是创造一个内容自由且能让所有人编辑的世界地图。由于大众参与的持续修正以及采用了更加可靠的数据源，OSM的海岸线精度和分辨率比GMT开源岸线GSHHG更高。</p>
<p>German FOSSGIS（<a href="https://www.fossgis.de/）" target="_blank" rel="noopener">https://www.fossgis.de/）</a> 已经从OSM海岸线中制作了shapefile格式的文件，下载地址为<a href="https://osmdata.openstreetmap.de/data/land-polygons.html。" target="_blank" rel="noopener">https://osmdata.openstreetmap.de/data/land-polygons.html。</a> 注意下载WGS-84投影的<code>Large polygons not split</code>版本，文件大小约600M。下载后可以利用开源GIS软件QGIS软件快速打开数据集，并导出感兴趣的区域为文本格式，从而可以使用别的绘图软件进行绘图（如GMT）。</p>
<h2 id="使用QGIS提取区域shp"><a href="#使用QGIS提取区域shp" class="headerlink" title="使用QGIS提取区域shp"></a>使用QGIS提取区域shp</h2><p>下面是基本的数据选取和导出步骤。</p>
<ul>
<li>读入全球的shp文件</li>
<li>缩放到目标区域</li>
<li><code>toggle edit</code></li>
<li><code>Edit</code>-<code>Split feature</code>,绘制一条线分割出目标区域。</li>
<li>Select feature</li>
<li>save selected feature as shp</li>
</ul>
<p>如果是导出某一个闭合的多边形，如海岛，则不用分割，直接选择select feature，然后在layers中右键选择export-save selected feature as</p>
<p><code>如果想要导出一般海岛（或任意区域）的房屋、道路等信息，可以从https://www.openstreetmap.org 网站操作，缩放到感兴趣区域，然后点击左上角的Export，导出osm格式文件，使用QGIS打开后，可以转换为shp格式。</code></p>
<h2 id="shp转文本格式或者kml"><a href="#shp转文本格式或者kml" class="headerlink" title="shp转文本格式或者kml"></a>shp转文本格式或者kml</h2><p>保证已经安装GMT，然后命令行：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ogr2ogr</span> <span class="selector-tag">-f</span> <span class="selector-tag">OGR_GMT</span> <span class="selector-tag">sy</span><span class="selector-class">.gmt</span> <span class="selector-tag">sy</span><span class="selector-class">.shp</span></span><br><span class="line"><span class="selector-tag">gmt</span> <span class="selector-tag">gmt2kml</span> <span class="selector-tag">sy</span><span class="selector-class">.gmt</span>  <span class="selector-tag">-Wthick</span>,<span class="selector-tag">white</span> <span class="selector-tag">-Fl</span> &gt;<span class="selector-tag">sy</span><span class="selector-class">.kml</span></span><br></pre></td></tr></table></figure>

<h2 id="使用GMT导出GSHHG海岸线"><a href="#使用GMT导出GSHHG海岸线" class="headerlink" title="使用GMT导出GSHHG海岸线"></a>使用GMT导出GSHHG海岸线</h2><p>GMT可以绘制地图，也可以导出岸线数据，并基于岸线进行空间分析。下面是简单的岸线导出、绘图和转换代码。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ps</span>=example_border.<span class="keyword">ps</span></span><br><span class="line">gmt psbasemap  -JM4.<span class="number">5</span>i -K -Bag `gmt gmtinfo <span class="keyword">sy</span>.gmt -I0.<span class="number">000001</span>`&gt; $<span class="keyword">ps</span></span><br><span class="line">gmt pscoast -M -W1 -Df -R &gt;<span class="keyword">cn</span>.txt # -Df means full resolution</span><br><span class="line">gmt psxy -R -J <span class="keyword">cn</span>.txt -W0.<span class="number">4</span><span class="keyword">p</span>,<span class="keyword">red</span> -O -K&gt;&gt; $<span class="keyword">ps</span></span><br><span class="line">gmt psxy -R -J <span class="keyword">sy</span>.gmt -W0.<span class="number">8</span><span class="keyword">p</span>,black -O&gt;&gt; $<span class="keyword">ps</span></span><br><span class="line">gmt gmt2kml <span class="keyword">cn</span>.txt  -Wthick,white -Fl &gt;<span class="keyword">cn</span>.kml</span><br></pre></td></tr></table></figure>

<h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p><img src="/images/2.png" alt><br><img src="/images/3.png" alt></p>
<p>白线为GSHHG岸线，红线为OSM岸线。表明OSM更为准确，在一些对岸线精度较高的场景中可以使用OSM。</p>
<p>其他参考：<br>GMT提供了一个例子：<a href="https://docs.generic-mapping-tools.org/dev/gallery/ex51.html#example-51" target="_blank" rel="noopener">https://docs.generic-mapping-tools.org/dev/gallery/ex51.html#example-51</a><br>QGIS：<a href="https://www.qgis.org/en/site/" target="_blank" rel="noopener">https://www.qgis.org/en/site/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2020/09/03/proj/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/03/proj/" class="post-title-link" itemprop="url">PROJ 坐标转换的几个例子</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-09-03 08:08:27 / 修改时间：08:13:16" itemprop="dateCreated datePublished" datetime="2020-09-03T08:08:27+08:00">2020-09-03</time>
            </span>

          
            <span id="/2020/09/03/proj/" class="post-meta-item leancloud_visitors" data-flag-title="PROJ 坐标转换的几个例子" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/09/03/proj/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/09/03/proj/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="PROJ-转ITRF地心坐标到经纬度"><a href="#PROJ-转ITRF地心坐标到经纬度" class="headerlink" title="PROJ 转ITRF地心坐标到经纬度"></a>PROJ 转ITRF地心坐标到经纬度</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ echo <span class="number">4097216.6805</span>  <span class="number">4429119.0287</span> <span class="number">-2065771.3676</span> <span class="number">0</span> | cct -I +proj=cart +ellps=GRS80</span><br><span class="line"> <span class="number">47.2292116930</span>  <span class="number">-19.0183060232</span>     <span class="number">1552.9924</span>        <span class="number">0.0000</span></span><br></pre></td></tr></table></figure>

<h2 id="PROJ-转经纬度到ITRF地心坐标"><a href="#PROJ-转经纬度到ITRF地心坐标" class="headerlink" title="PROJ 转经纬度到ITRF地心坐标"></a>PROJ 转经纬度到ITRF地心坐标</h2> <figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ echo <span class="number">47.2292116930</span>  <span class="number">-19.0183060232</span>     <span class="number">1552.9924</span> <span class="number">0</span> | cct +proj=cart +ellps=GRS80</span><br><span class="line"><span class="number">4097216.6805</span>   <span class="number">4429119.0287</span>  <span class="number">-2065771.3676</span>        <span class="number">0.0000</span></span><br></pre></td></tr></table></figure>

<h2 id="文件的批量转换"><a href="#文件的批量转换" class="headerlink" title="文件的批量转换"></a>文件的批量转换</h2> <figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> $ cat points_xyz.dat | head</span><br><span class="line"><span class="number">2919786.0</span>        <span class="number">-5383745.0</span>      <span class="number">1774604.0</span></span><br><span class="line"><span class="number">4097216.6805</span>     <span class="number">4429119.0287</span>    <span class="number">-2065771.3676</span></span><br><span class="line"><span class="number">6347491.3770</span>     <span class="number">-22944.8191</span>     <span class="number">622823.1488</span></span><br><span class="line"><span class="number">4913652.948</span>      <span class="number">3945922.493</span>     <span class="number">995383.145</span></span><br><span class="line">+<span class="number">2765120.9</span>       <span class="number">-4449250.25</span>     <span class="number">-3626405.6</span></span><br><span class="line"><span class="number">-3530185.489</span>     <span class="number">4118797.337</span>     <span class="number">3344036.931</span></span><br><span class="line"><span class="number">4696990.000</span>      <span class="number">723994.000</span>      <span class="number">4239678.000</span></span><br><span class="line"><span class="number">-2341332.8840</span>    <span class="number">-3539049.5090</span>   <span class="number">4745791.3600</span></span><br><span class="line"><span class="number">918129.40</span>        <span class="number">-4346071.20</span>     <span class="number">4561977.80</span></span><br><span class="line"><span class="number">-4052051.767</span>     <span class="number">4212836.215</span>     <span class="number">-2545106.027</span></span><br><span class="line"></span><br><span class="line"> $ cat points_xyz.dat | cct -I +proj=cart +ellps=GRS80 | head</span><br><span class="line"><span class="number">-61.5275339092</span>   <span class="number">16.2622989639</span>      <span class="number">-25.6724</span>           inf</span><br><span class="line"> <span class="number">47.2292116930</span>  <span class="number">-19.0183060232</span>     <span class="number">1552.9924</span>           inf</span><br><span class="line"> <span class="number">-0.2071110447</span>    <span class="number">5.6414771807</span>       <span class="number">83.4568</span>           inf</span><br><span class="line"> <span class="number">38.7663016596</span>    <span class="number">9.0351340011</span>     <span class="number">2439.1542</span>           inf</span><br><span class="line"><span class="number">-58.1398674816</span>  <span class="number">-34.8737126913</span>       <span class="number">42.0708</span>           inf</span><br><span class="line"><span class="number">130.5995927060</span>   <span class="number">31.8240613970</span>      <span class="number">314.6402</span>           inf</span><br><span class="line">  <span class="number">8.7626079453</span>   <span class="number">41.9274508625</span>       <span class="number">98.7752</span>           inf</span><br><span class="line"><span class="number">-123.4874696602</span>   <span class="number">48.3897817140</span>       <span class="number">31.7442</span>           inf</span><br><span class="line"><span class="number">-78.0713675911</span>   <span class="number">45.9558003990</span>      <span class="number">200.8294</span>           inf</span><br><span class="line"><span class="number">133.8855132190</span>  <span class="number">-23.6701238732</span>      <span class="number">603.3581</span>           inf</span><br></pre></td></tr></table></figure>
<p> 注意到第四列是时间信息，如果文件中缺少，则转换结果中提示<code>inf</code>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2020/08/16/GAT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/16/GAT/" class="post-title-link" itemprop="url">GAT, The Generic Altimetry Tools</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-08-16 14:41:28 / 修改时间：14:54:20" itemprop="dateCreated datePublished" datetime="2020-08-16T14:41:28+08:00">2020-08-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8D%AB%E6%98%9F%E6%B5%8B%E9%AB%98/" itemprop="url" rel="index">
                    <span itemprop="name">卫星测高</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/08/16/GAT/" class="post-meta-item leancloud_visitors" data-flag-title="GAT, The Generic Altimetry Tools" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/08/16/GAT/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/08/16/GAT/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="卫星测高通用工具GAT"><a href="#卫星测高通用工具GAT" class="headerlink" title="卫星测高通用工具GAT"></a>卫星测高通用工具GAT</h2><p>我开源了卫星雷达高度计（卫星测高）的一些基本程序，取名<a href="https://github.com/GenericAltimetryTools" target="_blank" rel="noopener">The Generic Altimetry Tools</a>，简称GAT。名字的选择特别向<a href="https://github.com/GenericMappingTools/gmt" target="_blank" rel="noopener">GMT</a>致敬，GMT帮助了全世界无数的地球科学研究科研人员。<br>GAP程序面向卫星测高的科研人员，学生等群体，主要目的是对卫星测高数据进行数据处理，因此采用数据处理能力较强的matlab语言和PYTHON语言编写，并调用GMT的基本程序，现在可以实现如下功能：</p>
<ul>
<li>Netcdf文件格式的读取</li>
<li>SSH，SLA的计算</li>
<li>卫星测高交叉点分析</li>
<li>卫星测高绝对定标</li>
<li>卫星测高的湿延迟评估</li>
<li>卫星测高河湖的水位计算</li>
<li>卫星测高波形读取和绘图</li>
</ul>
<p>计划加入的功能：</p>
<ul>
<li>卫星测高交叉点平差</li>
<li>卫星测高共线平差</li>
<li>卫星测高重力反演</li>
<li>卫星测高水深反演</li>
<li>卫星测高中尺度涡探测</li>
<li>卫星测高的海平面变化分析</li>
<li>卫星测高波形重定</li>
<li>卫星测高极地海冰厚度计算</li>
<li>卫星测高海冰识别</li>
<li>卫星测高极地波形分类</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2020/08/16/linux-tools/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/16/linux-tools/" class="post-title-link" itemprop="url">命令工具常用操作</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-08-16 10:29:04" itemprop="dateCreated datePublished" datetime="2020-08-16T10:29:04+08:00">2020-08-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-22 08:45:27" itemprop="dateModified" datetime="2021-10-22T08:45:27+08:00">2021-10-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/08/16/linux-tools/" class="post-meta-item leancloud_visitors" data-flag-title="命令工具常用操作" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/08/16/linux-tools/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/08/16/linux-tools/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这里列举一些常用的，又不容易记忆的linux工具命令</p>
<h3 id="zotero-添加SCIhub"><a href="#zotero-添加SCIhub" class="headerlink" title="zotero 添加SCIhub"></a>zotero 添加SCIhub</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Edit-Preference-Config</span> <span class="selector-tag">editor-extensions</span><span class="selector-class">.zotero</span><span class="selector-class">.findPDFs</span><span class="selector-class">.resolvers</span></span><br></pre></td></tr></table></figure>
<p>添加</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"name"</span>:<span class="string">"Sci-Hub"</span>,</span><br><span class="line">    <span class="attr">"method"</span>:<span class="string">"GET"</span>,</span><br><span class="line">    <span class="attr">"url"</span>:<span class="string">"https://sci-hub.ren/&#123;doi&#125;"</span>,</span><br><span class="line">    <span class="attr">"mode"</span>:<span class="string">"html"</span>,</span><br><span class="line">    <span class="attr">"selector"</span>:<span class="string">"#pdf"</span>,</span><br><span class="line">    <span class="attr">"attribute"</span>:<span class="string">"src"</span>,</span><br><span class="line">    <span class="attr">"automatic"</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后，使用<code>Zotero Connector</code>或者<code>Find Available PDF</code>均可下载已有的PDF文件。</p>
<h3 id="nvidia"><a href="#nvidia" class="headerlink" title="nvidia"></a>nvidia</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi # 查看显卡信息</span><br><span class="line">watch -n <span class="number">0.1</span> nvidia-smi #每隔<span class="number">0.1</span>s更新</span><br><span class="line">lspci|grep NVIDIA # 查看显卡驱动</span><br><span class="line">lspci | grep -i vga</span><br><span class="line">sudo sh NVIDIA-Linux-x86_64<span class="number">-440.64</span>.run # 安装Nvidia驱动</span><br><span class="line"># 或者下面代码安装cuda</span><br><span class="line">sudo chmod +x cuda_11<span class="number">.0</span><span class="number">.3</span>_450<span class="number">.51</span><span class="number">.06</span>_linux.run</span><br><span class="line">sudo ./cuda_11<span class="number">.0</span><span class="number">.3</span>_450<span class="number">.51</span><span class="number">.06</span>_linux.run</span><br></pre></td></tr></table></figure>
<p>添加路径</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.bashrc</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="string">"/usr/local/cuda-11.0/bin:<span class="variable">$PATH</span>"</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">LD_LIBRARY_PATH</span>=<span class="string">"/usr/local/cuda-11.0/lib64:<span class="variable">$LD_LIBRARY_PATH</span>"</span></span><br><span class="line">source ~/.bashrc</span><br><span class="line">nvcc -V # 查看cuda安装</span><br></pre></td></tr></table></figure>

<p>删除cuda。（有时候需要删除后，重新安装别的版本）</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/usr/local/cuda-11.0/bin/</span></span><br><span class="line">sudo <span class="string">./cuda-uninstaller</span></span><br><span class="line">sudo rm -rf <span class="string">/usr/local/cuda-11.0</span></span><br></pre></td></tr></table></figure>

<p>安装cupti</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libcupti-dev</span><br><span class="line">export LD_LIBRARY_PATH=<span class="variable">$LD_LIBRARY_PATH</span><span class="symbol">:/usr/local/cuda/extras/CUPTI/lib64</span></span><br></pre></td></tr></table></figure>

<h3 id="Sphinx"><a href="#Sphinx" class="headerlink" title="Sphinx"></a>Sphinx</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">conda <span class="keyword">install</span> Sphinx</span><br><span class="line">sphinx-<span class="keyword">build</span> <span class="comment">--version</span></span><br><span class="line">sphinx-quickstart docs</span><br><span class="line">sphinx-<span class="keyword">build</span> -b html docs docs/_build/html</span><br></pre></td></tr></table></figure>

<h3 id="Colab"><a href="#Colab" class="headerlink" title="Colab"></a>Colab</h3><p>Colaboratory is built on top of Jupyter Notebook.</p>
<p>GPU可以快速提高训练的速度。Colab提供K80显卡，价格一万多元。</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 查看显存情况</span></span><br><span class="line">!/opt/bin/nvidia-smi</span><br><span class="line"></span><br><span class="line"><span class="meta"># 查看GPU</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="title">tf</span>.test.gpu_device_name()</span><br><span class="line"><span class="meta"># 在使用哪个GPU</span></span><br><span class="line"><span class="title">from</span> tensorflow.python.client <span class="keyword">import</span> device_lib</span><br><span class="line"><span class="title">device_lib</span>.list_local_devices()</span><br><span class="line"></span><br><span class="line"><span class="meta"># 查看CPU</span></span><br><span class="line">!cat  /<span class="keyword">proc</span>/cpuinfo</span><br><span class="line"></span><br><span class="line"><span class="meta"># RAM大小</span></span><br><span class="line">!cat /<span class="keyword">proc</span>/meminfo</span><br></pre></td></tr></table></figure>

<p>使用google drive数据的方法：<a href="https://colab.research.google.com/notebooks/io.ipynb" target="_blank" rel="noopener">https://colab.research.google.com/notebooks/io.ipynb</a></p>
<figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> drive</span><br><span class="line">drive.mount(<span class="string">'/content/drive'</span>)</span><br><span class="line"><span class="keyword">import</span> <span class="built_in">os</span></span><br><span class="line"><span class="built_in">os</span>.chdir(<span class="string">'/content/drive/My Drive/'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Conda"><a href="#Conda" class="headerlink" title="Conda"></a>Conda</h3><p>Conda 比较慢，可以使用mamba加速：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda <span class="keyword">install</span> -c conda-forge mamba</span><br></pre></td></tr></table></figure>
<p>之后，使用mamba替代conda使用。</p>
<p>Conda是一种python包管理工具，可以对环境进行封闭管理，不同环境之间不相互干扰。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">conda <span class="comment">--version # 版本号</span></span><br><span class="line">conda env list <span class="comment"># 列出所有环境</span></span><br><span class="line">conda list -n python_3.9 <span class="comment"># 列出非当前环境的包</span></span><br><span class="line">conda list <span class="comment"># 列出当前环境的包</span></span><br><span class="line">conda <span class="keyword">create</span> -n env_name package_name <span class="comment"># 创建环境，如conda create -n python2 python=2.7 </span></span><br><span class="line">conda <span class="keyword">activate</span> python2<span class="number">.7</span> <span class="comment"># 激活某环境</span></span><br><span class="line">conda deactivate <span class="comment"># 退出当前环境</span></span><br><span class="line">conda <span class="keyword">install</span> package_name <span class="comment">#在当前环境中安装包</span></span><br><span class="line">conda remove <span class="keyword">package</span> <span class="comment">#删除当前环境中的包</span></span><br><span class="line">conda <span class="keyword">install</span> <span class="comment">--name env_name package_name #在指定环境中安装包</span></span><br><span class="line">conda remove <span class="comment">-- name env_name package </span></span><br><span class="line">conda <span class="keyword">create</span> -n tensorflow_env tensorflow <span class="comment">#安装tensorflow的CPU版本</span></span><br><span class="line">conda <span class="keyword">install</span> tensorflow <span class="comment"># 在当前环境下安装tensorflow</span></span><br><span class="line">conda <span class="keyword">search</span> tensorflow <span class="comment"># 查找版本</span></span><br></pre></td></tr></table></figure>

<p>删除环境之前需要先<code>deactivate</code></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda deactivate tensorflow_env</span><br><span class="line">conda <span class="built_in">remove</span> -n tensorflow_env <span class="comment">--all</span></span><br></pre></td></tr></table></figure>

<p>添加conda-forge channel并设置为最高优先级</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda<span class="built_in"> config </span>--<span class="builtin-name">add</span> channels conda-forge</span><br></pre></td></tr></table></figure>

<p>查看现在的channel状态和优先级</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda<span class="built_in"> config </span>--<span class="builtin-name">get</span> channels</span><br></pre></td></tr></table></figure>

<p>激活某个环境，在环境中设置channel的严格优先。注，如果该环境中已经安装了若干库，则需要先更新所有的库以保证大多数库从conda-forge下载，以保持库的一致性。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># activate my environment</span></span><br><span class="line">conda activate my_env</span><br><span class="line"><span class="comment"># update all packages if needed</span></span><br><span class="line">conda update --all</span><br><span class="line"><span class="comment"># set channel priority as strict</span></span><br><span class="line">conda<span class="built_in"> config </span>--<span class="builtin-name">set</span> channel_priority strict</span><br></pre></td></tr></table></figure>


<p>使用添加频道 conda config –add 频道 —（你的频道） 您添加的最后一个频道获得最高优先级……所以请保持顺序。您可以添加频道，即使您已经拥有它们，以便更改优先级顺序.</p>
<p>恢复原来的源,删除添加的源和设置。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda<span class="built_in"> config </span>--remove-key channels</span><br></pre></td></tr></table></figure>

<h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><p>理解image、container。image可以共用，比如Ubuntu环境，而且非常精简。container是每次启动后的封闭容器，一个Ubuntu可以启动无数个container，彼此不相干。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">docker</span> <span class="string">images</span></span><br><span class="line"><span class="attr">docker</span> <span class="string">info</span></span><br><span class="line"><span class="attr">docker</span> <span class="string">run -it ubuntu bash</span></span><br><span class="line"><span class="attr">docker</span> <span class="string">ps</span></span><br><span class="line"><span class="attr">docker</span> <span class="string">ps -aq</span></span><br><span class="line"><span class="attr">docker</span> <span class="string">start (id)</span></span><br><span class="line"><span class="attr">docker</span> <span class="string">restart</span></span><br><span class="line"><span class="attr">docker</span> <span class="string">kill</span></span><br><span class="line"><span class="attr">docker</span> <span class="string">kill $(docker ps -aq)</span></span><br><span class="line"><span class="attr">docker</span> <span class="string">start -d (id)</span></span><br></pre></td></tr></table></figure>
<p>退出容器：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">exit</span></span><br></pre></td></tr></table></figure>
<p>退出，但是还在后台运行，<code>Ctrl+P+Q</code>.<br>退出后再次进入<code>docker start -d (id)</code>或者<code>docker exec -it 3e17550b10c8 bash</code>。此外还有<code>attach</code>可以进入正在运行的窗口。</p>
<p>查看日志</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f -t <span class="comment">--details 3e17550b10c8</span></span><br></pre></td></tr></table></figure>

<h3 id="hexo"><a href="#hexo" class="headerlink" title="hexo"></a>hexo</h3><p>下面是简单的上传博客文章的hexo命令，其中<code>hexo d -m &quot;message&quot;</code> 可以产生<code>commit</code>。</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="type">post</span> <span class="string">"linux tools"</span></span><br><span class="line">hexo g</span><br><span class="line">hexo d -m <span class="string">"linux tools"</span></span><br></pre></td></tr></table></figure>

<p>插入公式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">uninstall</span> hexo-math <span class="comment">--save</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-renderer-mathjax <span class="comment">--save</span></span><br></pre></td></tr></table></figure>

<p>配置参考：</p>
<blockquote>
<p><a href="https://www.jianshu.com/p/9b9c241146bc" target="_blank" rel="noopener">https://www.jianshu.com/p/9b9c241146bc</a></p>
</blockquote>
<blockquote>
<p>行内的公式用<code>$</code>公式内容<code>$</code>包裹起来，在公式中右键即可查看公式$\TeX$代码。<br>同样右键可查看公式代码。</p>
</blockquote>
<p>例如：<br>\begin{equation} \sum_{k=1}^{n} \frac{1}{1+8 \sin ^{2} \frac{k \pi}{n}}=\frac{n\left(2^{n}+1\right)}{3\left(2^{n}-1\right)} \end{equation}</p>
<p>文章抬头需要加入类似：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">hexo中插入数学公式</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="number">-05</span><span class="number">-09</span> <span class="number">12</span><span class="string">:40:16</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">tags:</span> </span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p>常用git命令</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">status</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"add dac"</span></span><br><span class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> master</span><br></pre></td></tr></table></figure>

<p>更新代码到本地。如果本地没有修改，可以直接使用：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">git pull</span></span><br></pre></td></tr></table></figure>

<p>撤销不小心add的文件</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset data<span class="regexp">/era5/</span><span class="number">4</span>d<span class="regexp">/south/</span>era5.pl.*.nc</span><br></pre></td></tr></table></figure>

<p><code>.gitignore</code>修改无效的问题<br><code>.gitignore</code>只能忽略那些原来没有被track的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore是无效的，所以我们需要使用rm命令清除一下相关的缓存内容.这样文件将以未追踪的形式出现，对某个文件取消跟踪。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rm -r <span class="comment">--cached .</span></span><br><span class="line">git <span class="keyword">add</span> .</span><br><span class="line">git <span class="keyword">commit</span> -m <span class="string">'update .gitignore'</span></span><br></pre></td></tr></table></figure>

<p>git撤回commit</p>
<blockquote>
<p>写完代码后，我们一般这样<br>git add . //添加所有文件<br>git commit -m “本功能全部完成”<br>执行完commit后，想撤回commit，怎么办？<br>这样凉拌：<br>git reset –soft HEAD^</p>
</blockquote>
<p>不再追踪某文件</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">rm</span> --cached <span class="keyword">test</span>/ja3_check/mypoints.kml</span><br></pre></td></tr></table></figure>

<h3 id="批量解压gz"><a href="#批量解压gz" class="headerlink" title="批量解压gz"></a>批量解压gz</h3><p>我下载了很多个文件夹，每个文件夹下都是<code>gz</code>压缩文件，现在想批量解压指定文件夹的文件。</p>
<p>文件下载如下：</p>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ ls | head</span><br><span class="line">cycle_0066/</span><br><span class="line">cycle_0067/</span><br><span class="line">cycle_0068/</span><br><span class="line">cycle_0069/</span><br><span class="line">cycle_0070/</span><br><span class="line">cycle_0071/</span><br><span class="line">cycle_0072/</span><br><span class="line">cycle_0073/</span><br><span class="line">cycle_0074/</span><br><span class="line">cycle_0075/</span><br><span class="line"></span><br><span class="line">$ ls cycle_0099 | head</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0001_20150704T020146_20150704T024914_20180712T075832.nc.gz</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0002_20150704T025439_20150704T034613_20180712T075832.nc.gz</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0003_20150704T034614_20150704T043339_20180712T075832.nc.gz</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0004_20150704T043901_20150704T053040_20180712T075832.nc.gz</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0005_20150704T053041_20150704T062248_20180712T075832.nc.gz</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0006_20150704T062321_20150704T071508_20180712T075833.nc.gz</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0007_20150704T071509_20150704T080720_20180712T075833.nc.gz</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0008_20150704T080722_20150704T085935_20180712T075833.nc.gz</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0009_20150704T085936_20150704T095149_20180712T075833.nc.gz</span><br><span class="line">global_sl<span class="built_in">a_l2p</span>_ntc_h2_C0099_P0010_20150704T095150_20150704T104402_20180712T075833.nc.gz</span><br></pre></td></tr></table></figure>
<p>解压cycle_0068和cycle_0069两个文件夹下的全部gz文件，并删除gz原始文件。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip -d cycle_006[<span class="number">8</span><span class="number">-9</span>]<span class="comment">/*.gz</span></span><br></pre></td></tr></table></figure>

<h3 id="批量转换图片格式"><a href="#批量转换图片格式" class="headerlink" title="批量转换图片格式"></a>批量转换图片格式</h3><p>把pdf转为png，并设置density 300，表示图像每英寸面积内的像素点数，数值越高图片质量越高</p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for <span class="meta">file</span> <span class="meta">in</span> <span class="comment">*.pdf;</span> <span class="meta">do</span> magick convert -density 300 $<span class="meta">file</span> $&#123;<span class="meta">file</span>%%.<span class="comment">*&#125;.png;</span> done</span><br></pre></td></tr></table></figure>
<h3 id="视频编辑"><a href="#视频编辑" class="headerlink" title="视频编辑"></a>视频编辑</h3><p>截取视频</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ffmpeg  -i ./linchang.mp4 -vcodec copy -acodec copy -ss <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> -to <span class="number">00</span>:<span class="number">00</span>:<span class="number">16</span> ./cutout1.mp4 -y</span><br><span class="line">$ ffmpeg  -i ./linchang.mp4 -vcodec copy -acodec copy -ss <span class="number">00</span>:<span class="number">00</span>:<span class="number">29</span> -to <span class="number">00</span>:<span class="number">00</span>:<span class="number">48</span> ./cutout2.mp4 -y</span><br></pre></td></tr></table></figure>
<p>合并视频(对于MP4格式，需要先转ts再合并)</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ffmpeg -<span class="selector-tag">i</span> cutout1<span class="selector-class">.mp4</span> -c copy -bsf:v h264_mp4toannexb -f mpegts input1<span class="selector-class">.ts</span>   </span><br><span class="line">$ ffmpeg -<span class="selector-tag">i</span> cutout2<span class="selector-class">.mp4</span> -c copy -bsf:v h264_mp4toannexb -f mpegts input2<span class="selector-class">.ts</span>   </span><br><span class="line">$ ffmpeg -<span class="selector-tag">i</span> <span class="string">"concat:input1.ts|input2.ts"</span> -c copy -bsf:<span class="selector-tag">a</span> aac_adtstoasc -movflags +faststart output.mp4</span><br></pre></td></tr></table></figure>
<p>慢速，三倍慢速</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ffmpeg -i <span class="number">2021</span><span class="number">-02</span><span class="number">-19</span><span class="number">-22</span><span class="number">-38</span><span class="number">-32.</span>mp4 -vf  <span class="string">"setpts=3*PTS"</span> test2.mp4</span><br></pre></td></tr></table></figure>
<h3 id="Latex转word"><a href="#Latex转word" class="headerlink" title="Latex转word"></a>Latex转word</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">pandoc</span> <span class="selector-tag">template</span><span class="selector-class">.tex</span> <span class="selector-tag">-o</span> <span class="selector-tag">output</span><span class="selector-class">.docx</span> <span class="selector-tag">-w</span> <span class="selector-tag">docx</span>  <span class="selector-tag">--pdf-engine</span> <span class="selector-tag">pdflatex</span></span><br></pre></td></tr></table></figure>

<h3 id="Linux-解压乱码问题"><a href="#Linux-解压乱码问题" class="headerlink" title="Linux 解压乱码问题"></a>Linux 解压乱码问题</h3><p>使用下面的编码即可。</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip -O CP936 <span class="keyword">test</span>.<span class="keyword">zip</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2020/06/23/wavenumber-grdfft-spectrum1d/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/23/wavenumber-grdfft-spectrum1d/" class="post-title-link" itemprop="url">wavenumber的模拟计算(二)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-23 17:57:28" itemprop="dateCreated datePublished" datetime="2020-06-23T17:57:28+08:00">2020-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-26 09:11:29" itemprop="dateModified" datetime="2021-02-26T09:11:29+08:00">2021-02-26</time>
              </span>

          
            <span id="/2020/06/23/wavenumber-grdfft-spectrum1d/" class="post-meta-item leancloud_visitors" data-flag-title="wavenumber的模拟计算(二)" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/23/wavenumber-grdfft-spectrum1d/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/23/wavenumber-grdfft-spectrum1d/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>上一篇使用了MATLAB模拟二维波动网格，使用GMT做谱分析和绘图。本文进一步简化模拟代码，仅使用GMT一种语言可完成波数谱的模拟，并展示一维和二维波数谱的差异。</p>
<h2 id="GMT有几种计算波数谱的程序"><a href="#GMT有几种计算波数谱的程序" class="headerlink" title="GMT有几种计算波数谱的程序"></a>GMT有几种计算波数谱的程序</h2><p>GMT有spectrum1D和grdfft可以计算波数谱。</p>
<ul>
<li>spectrum1D:一维谱分析。</li>
<li>grdfft:二维谱分析，含x,y和径向三个方向的计算。</li>
</ul>
<h2 id="模拟代码"><a href="#模拟代码" class="headerlink" title="模拟代码"></a>模拟代码</h2><p>下面利用完全GMT工具进行波数谱的模拟，首先利用grdmath模拟出一个规范的正弦波二维矩阵，形成网格文件。然后使用grdfft计算三个方向的谱，使用spectrum1D计算X方向的一维波数谱。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env bash</span><br><span class="line">ps=testgrd.ps</span><br><span class="line"></span><br><span class="line"># gmt grdmath -R<span class="number">-50</span>/<span class="number">50</span>/<span class="number">-50</span>/<span class="number">50</span> -I0<span class="number">.2</span> X Y ADD SIN = x.nc</span><br><span class="line">gmt grdmath -R<span class="number">-50</span>/<span class="number">50</span>/<span class="number">-50</span>/<span class="number">50</span> -I0<span class="number">.2</span> X SIN = x.nc</span><br><span class="line"></span><br><span class="line">gmt makecpt -Crainbow -T<span class="number">-1</span>/<span class="number">1</span>/<span class="number">0.1</span> &gt; t.cpt</span><br><span class="line">gmt grdimage x.nc -R<span class="number">-30</span>/<span class="number">30</span>/<span class="number">-30</span>/<span class="number">30</span> -JX3i -Ct.cpt -Bxa -Bya -BWSne -P -K -Y7i &gt; $ps</span><br><span class="line"></span><br><span class="line">gmt grd2xyz x.nc | awk '&#123;if ($<span class="number">2</span> == <span class="number">0</span>) print $<span class="number">0</span>&#125;' &gt; x.txt</span><br><span class="line">gmt psxy -R -J -O -K x.txt -Sc0<span class="number">.03</span>i -Gblack &gt;&gt; $ps</span><br><span class="line"># Do grdfft</span><br><span class="line">gmt grdfft x.nc -Er+w+n -Gfft.txt</span><br><span class="line">gmt grdfft x.nc -Ex+w+n -Gfftx.txt</span><br><span class="line">gmt grdfft x.nc -Ey+w+n -Gffty.txt</span><br><span class="line">gmt math fftx.txt -C1 SQR ffty.txt SQR ADD SQRT = fftrr.txt</span><br><span class="line"></span><br><span class="line"># Plot specrum result from grdfft</span><br><span class="line">gmt psbasemap -R1/<span class="number">20</span>/<span class="number">1e-14</span>/<span class="number">1e-2</span> -JX<span class="number">-2.8</span>il/<span class="number">3</span>il -Bxa1pf2g3+l<span class="string">"Wavelength"</span> -Bya1pg+l<span class="string">"power spectrum"</span> -BwNsE -K -X3<span class="number">.2</span>i -O &gt;&gt; $ps</span><br><span class="line">gmt psxy -R fft.txt  -J -W0<span class="number">.5</span>p,red, -O -K &gt;&gt; $ps</span><br><span class="line">gmt psxy -R fftx.txt  -J -W0<span class="number">.5</span>p,blue, -O -K &gt;&gt; $ps</span><br><span class="line">gmt psxy -R ffty.txt  -J -W0<span class="number">.5</span>p,green, -O -K &gt;&gt; $ps</span><br><span class="line">gmt psxy -R fftrr.txt  -J -W0<span class="number">.5</span>p,black, -O -K &gt;&gt; $ps</span><br><span class="line"></span><br><span class="line">gmt psbasemap -R0<span class="number">.05</span>/<span class="number">1e0</span>/<span class="number">1e-14</span>/<span class="number">1e-2</span> -JX2<span class="number">.8</span>il/<span class="number">3</span>il -BSE -Bxa1p+l<span class="string">"wavenumber/cycle"</span> -O -K&gt;&gt; $ps</span><br><span class="line"></span><br><span class="line">gmt pslegend -D+w1<span class="number">.2</span>i+jBL+o0<span class="number">.1</span>i/<span class="number">0.1</span>i -R -J -O -K -F+p1p+glightgray --FONT_ANNOT_PRIMARY=<span class="number">10</span>p,<span class="number">1</span>,black &lt;&lt; <span class="literal">EOF</span> &gt;&gt; $ps</span><br><span class="line">S <span class="number">0.2</span>i - <span class="number">0.5</span>i - <span class="number">1</span>p,red, <span class="number">0.5</span>i r</span><br><span class="line">S <span class="number">0.2</span>i - <span class="number">0.5</span>i - <span class="number">1</span>p,blue <span class="number">0.5</span>i x</span><br><span class="line">S <span class="number">0.2</span>i - <span class="number">0.5</span>i - <span class="number">1</span>p,green, <span class="number">0.5</span>i y</span><br><span class="line"><span class="literal">EOF</span></span><br><span class="line"></span><br><span class="line"># Do spectrum1D</span><br><span class="line">gmt psxy -R<span class="number">-30</span>/<span class="number">30</span>/<span class="number">-1</span>/<span class="number">1</span> -JX3i/<span class="number">3</span>i x.txt -i0,<span class="number">2</span> -Bxaf -Byaf -BWSne -O -K -X<span class="number">-3.2</span>i -Y<span class="number">-4.5</span>i &gt;&gt; $ps</span><br><span class="line">gmt psxy -R -J x.txt -i0,<span class="number">2</span> -Sc0<span class="number">.03</span>i -Gred -O -K &gt;&gt; $ps</span><br><span class="line"></span><br><span class="line">awk '&#123;print $<span class="number">1</span>,$<span class="number">3</span>&#125;' x.txt | gmt spectrum1d  -S256 -W --GMT_FFT=brenner -N -i1 -D0<span class="number">.2</span>  &gt; fft_spec.txt</span><br><span class="line">gmt psbasemap -R1/<span class="number">20</span>/<span class="number">1e-12</span>/<span class="number">1e2</span> -JX<span class="number">-2.8</span>il/<span class="number">3</span>il -Bxa1pf2g3+l<span class="string">"Wavelength"</span> -Bya1pg+l<span class="string">"power spectrum"</span> -BwNsE -K -X3<span class="number">.2</span>i -O &gt;&gt; $ps</span><br><span class="line">gmt psxy -R fft_spec.txt -J -W0<span class="number">.5</span>p,red, -O -K &gt;&gt; $ps</span><br><span class="line">gmt psbasemap -R0<span class="number">.05</span>/<span class="number">1e0</span>/<span class="number">1e-12</span>/<span class="number">1e2</span> -JX2<span class="number">.8</span>il/<span class="number">3</span>il -BSE -Bxa1p+l<span class="string">"wavenumber/cycle"</span> -O &gt;&gt; $ps</span><br><span class="line"></span><br><span class="line">awk '&#123;print $<span class="number">3</span>&#125;' x.txt| gmt gmtmath STDIN -Sl STD  SQR =</span><br><span class="line"></span><br><span class="line">gmt psconvert  $ps -P -Tg -A</span><br></pre></td></tr></table></figure>

<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><h3 id="z-sin-x"><a href="#z-sin-x" class="headerlink" title="z=sin(x)"></a>z=sin(x)</h3><p><img src="/images/testgrd.png" alt></p>
<p>上为二维FFT在三个方向的谱分析结果，黑色曲线为sqrt(x^2+y^2),径向的能量谱不与一维的平方和（开根号）相等。下为一维（彩图中横线的采样）谱分析结果（形状与二维FFT的X方向一致，但能量大小不一样）。</p>
<h3 id="z-sin-x-y"><a href="#z-sin-x-y" class="headerlink" title="z=sin(x+y)"></a>z=sin(x+y)</h3><p><img src="/images/testgrd2.png" alt></p>
<p>上图把函数改变，数据x和y方向周期依然是2pi,但是r方向是2pi*cos(pi/2)，即4.44。这样可以帮助理解r方向是什么方向。运行时，把下面的代码取消注释。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># gmt grdmath -R<span class="number">-50</span>/<span class="number">50</span>/<span class="number">-50</span>/<span class="number">50</span> -I0<span class="number">.2</span> X Y ADD SIN = x.nc</span><br></pre></td></tr></table></figure>

<h2 id="注意的问题"><a href="#注意的问题" class="headerlink" title="注意的问题"></a>注意的问题</h2><ul>
<li>spectrum1D得到的波数谱符合能量守恒定律，即输入信号的方差等于功率谱密度的积分，也就是谱和X轴围起来的面积。例如正弦波的方差为0.5，而功率密度的积分也恰好为0.5。</li>
<li>grdfft得到的波数谱不是密度谱，所以不遵循能量守恒。</li>
<li>grdfft的三个方向的谱的关系是什么？r^2=x^2+y^2？</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://yangleir.github.io/2020/02/15/wavenumber/" target="_blank" rel="noopener">wavenumber的模拟计算</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2020/06/13/math-fun/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/13/math-fun/" class="post-title-link" itemprop="url">math fun</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-13 17:54:25 / 修改时间：18:01:49" itemprop="dateCreated datePublished" datetime="2020-06-13T17:54:25+08:00">2020-06-13</time>
            </span>

          
            <span id="/2020/06/13/math-fun/" class="post-meta-item leancloud_visitors" data-flag-title="math fun" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/13/math-fun/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/13/math-fun/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="阿基米德螺旋线"><a href="#阿基米德螺旋线" class="headerlink" title="阿基米德螺旋线"></a>阿基米德螺旋线</h3><p><img src="/images/luoxuanxian.jpg" alt></p>
<h3 id="心形线"><a href="#心形线" class="headerlink" title="心形线"></a>心形线</h3><p><img src="/images/heart.jpg" alt></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://jingyan.baidu.com/article/0bc808fc23808a1bd585b944.html" target="_blank" rel="noopener">参考</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2020/06/07/anni/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/07/anni/" class="post-title-link" itemprop="url">GMT 制作GIF动画</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-07 15:14:42" itemprop="dateCreated datePublished" datetime="2020-06-07T15:14:42+08:00">2020-06-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-03-01 12:19:33" itemprop="dateModified" datetime="2021-03-01T12:19:33+08:00">2021-03-01</time>
              </span>

          
            <span id="/2020/06/07/anni/" class="post-meta-item leancloud_visitors" data-flag-title="GMT 制作GIF动画" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/07/anni/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/07/anni/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="问：GMT自带的movie程序怎么制作动画？是否简单易用？"><a href="#问：GMT自带的movie程序怎么制作动画？是否简单易用？" class="headerlink" title="问：GMT自带的movie程序怎么制作动画？是否简单易用？"></a>问：GMT自带的movie程序怎么制作动画？是否简单易用？</h3><p>答：<a href="https://docs.generic-mapping-tools.org/dev/movie.html#s" target="_blank" rel="noopener">movie</a>是GMT的一个动画制作程序，设计的比较复杂，上手时间长，不易用。希望尝试的话，可以运行自带例子，你会发现它设计的使用方法和经典GMT是差别很大的，个人学习的使用经历比较糟糕。</p>
<h3 id="问：那怎么利用GMT做GIF动画？"><a href="#问：那怎么利用GMT做GIF动画？" class="headerlink" title="问：那怎么利用GMT做GIF动画？"></a>问：那怎么利用GMT做GIF动画？</h3><p>答：可以使用<a href="https://imagemagick.org" target="_blank" rel="noopener">ImageMagick</a>工具，只需要一行命令即可。</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">magick convert -<span class="keyword">delay</span> <span class="number">64</span> -<span class="keyword">loop</span> <span class="number">0</span> *.png  <span class="keyword">out</span>.gif</span><br></pre></td></tr></table></figure>
<p>首先使用GMT制作每帧png，然后用上面的命令把连续的png图像制作成GIF动画。（GMT movie的基本原理可能也是如此，但设计的复杂度太高）</p>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><p>这里以GNSS浮标观测的海面波动为例，希望展示波浪的时间变化规律。动画设置每一帧显示一个小时的波浪功率谱图像，不同帧使用不同的颜色表达。</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env bash</span></span><br><span class="line">gmt <span class="builtin-name">set</span> FORMAT_DATE_MAP <span class="string">"o dd"</span> FORMAT_CLOCK_MAP hh:mm </span><br><span class="line"><span class="attribute">gnss1</span>=./gnss_b1_hlf_allppk.txt</span><br><span class="line"><span class="attribute">R</span>=-R32400/119700/-0.565631/0.828242</span><br><span class="line"><span class="comment"># ==========================================================================================================</span></span><br><span class="line"><span class="keyword">for</span>((<span class="attribute">i</span>=1;i&lt;=23;i++));  </span><br><span class="line"><span class="keyword">do</span>   </span><br><span class="line">	echo <span class="variable">$i</span></span><br><span class="line">	((name = <span class="variable">$i</span> + 100))</span><br><span class="line">	<span class="attribute">ps</span>=a00$name.ps</span><br><span class="line">	<span class="attribute">r</span>=$(($RANDOM%255))</span><br><span class="line">	<span class="attribute">g</span>=$(($RANDOM%255))</span><br><span class="line">	<span class="attribute">b</span>=$(($RANDOM%255))</span><br><span class="line">	</span><br><span class="line">	((max =  <span class="variable">$i</span> * 3600))</span><br><span class="line">	((min = (<span class="variable">$i</span>-1) * 3600))</span><br><span class="line">	echo <span class="variable">$min</span></span><br><span class="line"></span><br><span class="line">	gmt psbasemap -R2019-03-31T09:00:00/2019-04-01T09:00:00/-0.565631/0.828242 -Bpxa4Hf1h -Bsxa1Df1D -Bpya0.4g0.2f0.2+l<span class="string">"WSSE(HPF)/m"</span> -JX10c/4c -BWSne -K &gt; <span class="variable">$ps</span></span><br><span class="line">	gmt psbasemap -R2/20/1e-4/1e0 -JX-10cl/10cl -Bxa2f3g3+l<span class="string">"period:second"</span> -Bya-1pg+l<span class="string">"power spectrum:m@+2@+/cycle/s"</span> -BWNse -K  -Y2.7i -O &gt;&gt; <span class="variable">$ps</span></span><br><span class="line">	</span><br><span class="line">	awk <span class="string">'NR&lt;'</span><span class="string">"<span class="variable">$max</span>"</span><span class="string">' &amp;&amp; NR&gt;'</span><span class="string">"<span class="variable">$min</span>"</span><span class="string">'  &#123;print $1,$2&#125;'</span> <span class="variable">$gnss1</span> | gmt spectrum1d  -S256 -W <span class="attribute">--GMT_FFT</span>=brenner -N -i1 -D1 &gt; pow5.txt</span><br><span class="line">	awk <span class="string">' NR&lt;'</span><span class="string">"<span class="variable">$max</span>"</span><span class="string">'   &#123;print $1,$2&#125;'</span> <span class="variable">$gnss1</span>| gmt psxy  <span class="variable">$R</span>  -JX10c/4c -W0.5p,lightgray -P -K -O -Y-2.7i &gt;&gt; <span class="variable">$ps</span></span><br><span class="line">	awk <span class="string">'NR&lt;'</span><span class="string">"<span class="variable">$max</span>"</span><span class="string">' &amp;&amp; NR&gt;'</span><span class="string">"<span class="variable">$min</span>"</span><span class="string">'  &#123;print $1,$2&#125;'</span> <span class="variable">$gnss1</span>| gmt psxy  <span class="variable">$R</span>  -JX10c/4c -W0.5p,<span class="variable">$r</span>/<span class="variable">$g</span>/<span class="variable">$b</span> -P -K -O  &gt;&gt; <span class="variable">$ps</span></span><br><span class="line">	gmt psxy -R2/20/1e-4/1e0 -JX-10cl/10cl -K pow5.txt -W2.25p,<span class="variable">$r</span>/<span class="variable">$g</span>/<span class="variable">$b</span> -O -Y2.7i -i0,1 &gt;&gt; <span class="variable">$ps</span></span><br><span class="line"></span><br><span class="line">	gmt psbasemap -R0.05/0.5/1e-4/0.5 -JX10cl/10cl -Bxa2f3g3+l<span class="string">"Frequency:cycle/second"</span> -BS  -O &gt;&gt; <span class="variable">$ps</span></span><br><span class="line">gmt psconvert <span class="variable">$ps</span> -A -Tg</span><br><span class="line">done</span><br><span class="line">magick convert -delay 64 -loop 0 *.png  out.gif</span><br></pre></td></tr></table></figure>

<h3 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h3><p><img src="/images/wave_spectrum.gif" alt></p>
<h3 id="在一张图上"><a href="#在一张图上" class="headerlink" title="在一张图上"></a>在一张图上</h3><p>如果是做PPT展示用，动画较好。如果是插入论文，则需要把不同时间的曲线叠加到一张图上。同样使用<code>for</code>循环，代码如下:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env bash</span></span><br><span class="line"><span class="comment"># Testing gmt spectrum1d power spectrum values</span></span><br><span class="line">gmt <span class="builtin-name">set</span> FORMAT_DATE_MAP <span class="string">"o dd"</span> FORMAT_CLOCK_MAP hh:mm </span><br><span class="line"><span class="attribute">ps</span>=test.ps</span><br><span class="line"></span><br><span class="line"><span class="comment"># ==========================================================================================================</span></span><br><span class="line"><span class="comment"># Use GMT spectrum to calculate power spetrum of SSH</span></span><br><span class="line"><span class="attribute">gnss1</span>=./gnss_b1_hlf_allppk.txt</span><br><span class="line"><span class="attribute">gnss2</span>=./gnss_b2_hlf_allppk.txt</span><br><span class="line"></span><br><span class="line">gmt psbasemap -R2019-03-31T09:00:00/2019-04-01T09:00:00/-0.565631/0.828242 -Bpxa4Hf1h -Bsxa1Df1D -Bpya0.4g0.2f0.2+l<span class="string">"WSSE(HPF)/m"</span> -JX10c/4c -BWSne -K &gt; <span class="variable">$ps</span></span><br><span class="line">gmt psbasemap -R2/20/1e-4/1e0 -JX-10cl/10cl -Bxa2f3g3+l<span class="string">"period:second"</span> -Bya-1pg+l<span class="string">"power spectrum:m@+2@+/cycle/s"</span> -BWNse -K  -Y2.7i -O &gt;&gt; <span class="variable">$ps</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">R</span>=-R32400/119700/-0.565631/0.828242</span><br><span class="line">echo period &gt; period1_wind.txt</span><br><span class="line"><span class="comment"># echo period &gt; period_l.txt</span></span><br><span class="line"><span class="comment"># GNSS buoy1 set i&lt;=23;</span></span><br><span class="line"><span class="comment"># GNSS buoy2 set i&lt;=24;</span></span><br><span class="line"><span class="keyword">for</span>((<span class="attribute">i</span>=1;i&lt;=23;i++));  </span><br><span class="line"><span class="keyword">do</span>   </span><br><span class="line">	echo <span class="variable">$i</span></span><br><span class="line">	<span class="attribute">r</span>=$(($RANDOM%255))</span><br><span class="line">	<span class="attribute">g</span>=$(($RANDOM%255))</span><br><span class="line">	<span class="attribute">b</span>=$(($RANDOM%255))</span><br><span class="line">	# ((<span class="attribute">a</span>=1+2**3-4%3))</span><br><span class="line">	((max =  <span class="variable">$i</span> * 3600))</span><br><span class="line">	((min = (<span class="variable">$i</span>-1) * 3600))</span><br><span class="line">	echo <span class="variable">$min</span></span><br><span class="line">	# echo $(expr <span class="variable">$i</span> \* 3 + 1);  </span><br><span class="line">	# awk 中使用变量的小技巧“‘val’”</span><br><span class="line">	</span><br><span class="line">	awk <span class="string">'NR&lt;'</span><span class="string">"<span class="variable">$max</span>"</span><span class="string">' &amp;&amp; NR&gt;'</span><span class="string">"<span class="variable">$min</span>"</span><span class="string">'  &#123;print $1,$2&#125;'</span> <span class="variable">$gnss1</span> | gmt spectrum1d  -S256 -W <span class="attribute">--GMT_FFT</span>=brenner -N -i1 -D1 &gt; pow5.txt</span><br><span class="line">	awk <span class="string">'NR&lt;'</span><span class="string">"<span class="variable">$max</span>"</span><span class="string">' &amp;&amp; NR&gt;'</span><span class="string">"<span class="variable">$min</span>"</span><span class="string">'  &#123;print $1,$2&#125;'</span> <span class="variable">$gnss1</span>| gmt psxy  <span class="variable">$R</span>  -JX10c/4c -W0.5p,<span class="variable">$r</span>/<span class="variable">$g</span>/<span class="variable">$b</span> -P -K -O -Y-2.7i &gt;&gt; <span class="variable">$ps</span></span><br><span class="line">	gmt psxy -R2/20/1e-4/1e0 -JX-10cl/10cl -K pow5.txt -W2.25p,<span class="variable">$r</span>/<span class="variable">$g</span>/<span class="variable">$b</span> -O -Y2.7i -i0,1 &gt;&gt; <span class="variable">$ps</span></span><br><span class="line"></span><br><span class="line">	gmt gmtselect -R2/7/1e-4/1e0 pow5.txt | sort -k 2 | tail -n 1| awk <span class="string">'&#123;print '</span><span class="string">"<span class="variable">$i</span>+8"</span><span class="string">',$1&#125;'</span> &gt;&gt; period1_wind.txt</span><br><span class="line">done</span><br><span class="line">gmt psbasemap -R0.05/0.5/1e-4/1e0 -JX10cl/10cl -Bxa2f3g3+l<span class="string">"Frequency:cycle/second"</span> -BS  -O -K&gt;&gt; <span class="variable">$ps</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###B2</span></span><br><span class="line">gmt psbasemap -R2019-03-31T09:00:00/2019-04-01T09:00:00/-0.565631/0.828242 -Bpxa4Hf1h -Bsxa1Df1D -Bpya0.4g0.2f0.2+l<span class="string">"WSSE(HPF)/m"</span> -JX10c/4c -BwSnE -K  -X11c -Y-2.7i -O &gt;&gt; <span class="variable">$ps</span></span><br><span class="line">gmt psbasemap -R2/20/1e-4/1e0 -JX-10cl/10cl -Bxa2f3g3+l<span class="string">"period:second"</span> -Bya-1pg+l<span class="string">"power spectrum:m@+2@+/cycle/s"</span> -BwNsE -K  -Y2.7i -O &gt;&gt; <span class="variable">$ps</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">R</span>=-R32400/119700/-0.565631/0.828242</span><br><span class="line">echo period &gt; period2_wind.txt</span><br><span class="line"><span class="comment"># GNSS buoy1 set i&lt;=23;</span></span><br><span class="line"><span class="comment"># GNSS buoy2 set i&lt;=24;</span></span><br><span class="line"><span class="keyword">for</span>((<span class="attribute">i</span>=1;i&lt;=24;i++));  </span><br><span class="line"><span class="keyword">do</span>   </span><br><span class="line">	echo <span class="variable">$i</span></span><br><span class="line">	<span class="attribute">r</span>=$(($RANDOM%255))</span><br><span class="line">	<span class="attribute">g</span>=$(($RANDOM%255))</span><br><span class="line">	<span class="attribute">b</span>=$(($RANDOM%255))</span><br><span class="line">	# ((<span class="attribute">a</span>=1+2**3-4%3))</span><br><span class="line">	((max =  <span class="variable">$i</span> * 3600))</span><br><span class="line">	((min = (<span class="variable">$i</span>-1) * 3600))</span><br><span class="line">	echo <span class="variable">$min</span></span><br><span class="line">	# echo $(expr <span class="variable">$i</span> \* 3 + 1);  </span><br><span class="line">	# awk 中使用变量的小技巧“‘val’”</span><br><span class="line">	</span><br><span class="line">	awk <span class="string">'NR&lt;'</span><span class="string">"<span class="variable">$max</span>"</span><span class="string">' &amp;&amp; NR&gt;'</span><span class="string">"<span class="variable">$min</span>"</span><span class="string">'  &#123;print $1,$2&#125;'</span> <span class="variable">$gnss2</span> | gmt spectrum1d  -S256 -W <span class="attribute">--GMT_FFT</span>=brenner -N -i1 -D1 &gt; pow5.txt</span><br><span class="line">	awk <span class="string">'NR&lt;'</span><span class="string">"<span class="variable">$max</span>"</span><span class="string">' &amp;&amp; NR&gt;'</span><span class="string">"<span class="variable">$min</span>"</span><span class="string">'  &#123;print $1,$2&#125;'</span>  <span class="variable">$gnss2</span>| gmt psxy  <span class="variable">$R</span>  -JX10c/4c -W0.5p,<span class="variable">$r</span>/<span class="variable">$g</span>/<span class="variable">$b</span> -P -K -O -Y-2.7i &gt;&gt; <span class="variable">$ps</span></span><br><span class="line">	gmt psxy -R2/20/1e-4/1e0 -JX-10cl/10cl -K pow5.txt -W2.25p,<span class="variable">$r</span>/<span class="variable">$g</span>/<span class="variable">$b</span> -O -Y2.7i -i0,1 &gt;&gt; <span class="variable">$ps</span></span><br><span class="line">	gmt gmtselect -R2/7/1e-4/1e0 pow5.txt | sort -k 2 | tail -n 1| awk <span class="string">'&#123;print '</span><span class="string">"<span class="variable">$i</span>+8"</span><span class="string">',$1&#125;'</span> &gt;&gt; period2_wind.txt</span><br><span class="line">done</span><br><span class="line">gmt psbasemap -R0.05/0.5/1e-4/1e0 -JX10cl/10cl -Bxa2f3g3+l<span class="string">"Frequency:cycle/second"</span> -BS  -O &gt;&gt; <span class="variable">$ps</span></span><br><span class="line"></span><br><span class="line">gmt psconvert <span class="variable">$ps</span> -A -Tf</span><br><span class="line">rm gmt.* h_f.txt smooth_track* t.d</span><br></pre></td></tr></table></figure>

<p><img src="/images/one_figure_more_color.png" alt></p>
<h3 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h3><p><a href="https://www.jianguoyun.com/p/DXyywDoQ2PCQBxjrxaAD" target="_blank" rel="noopener">GNSS data 1</a><br><a href="https://www.jianguoyun.com/p/DedS1rAQ2PCQBxirpOMD" target="_blank" rel="noopener">GNSS data 2</a></p>
<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><ul>
<li><a href="http://www.graphicsmagick.org" target="_blank" rel="noopener">GraphicsMagick</a>是从<a href="https://imagemagick.org/" target="_blank" rel="noopener">ImageMagick</a>中分离出来的，推荐下载ImageMagick。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yang Lei"
      src="/images/xingchi.jpg">
  <p class="site-author-name" itemprop="name">Yang Lei</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">135</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">81</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://getmyte.com/" title="https:&#x2F;&#x2F;getmyte.com&#x2F;" rel="noopener" target="_blank">getmyte</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.economist.com/" title="https:&#x2F;&#x2F;www.economist.com&#x2F;" rel="noopener" target="_blank">Economist</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://l7.antv.vision/en/" title="https:&#x2F;&#x2F;l7.antv.vision&#x2F;en&#x2F;" rel="noopener" target="_blank">AntV</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yang Lei</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0
  </div>

        






  <script>
  function leancloudSelector(url) {
    url = encodeURI(url);
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.getAttribute('id'));
      var title = visitors.getAttribute('data-flag-title');

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .then(() => {
                leancloudSelector(url).innerText = counter.time + 1;
              })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              })
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.getAttribute('id'));
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (let item of results) {
            let { url, time } = item;
            leancloudSelector(url).innerText = time;
          }
          for (let url of entries) {
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=a05sUJqbxBXDbnppdO8OVgiC-gzGzoHsz')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method: method,
          headers: {
            'X-LC-Id': 'a05sUJqbxBXDbnppdO8OVgiC-gzGzoHsz',
            'X-LC-Key': 'YRcXfwqMVEWtFfgTumCdt2il',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el: '#valine-comments',
      verify: false,
      notify: false,
      appId: 'a05sUJqbxBXDbnppdO8OVgiC-gzGzoHsz',
      appKey: 'YRcXfwqMVEWtFfgTumCdt2il',
      placeholder: "Just go go",
      avatar: 'mm',
      meta: guest,
      pageSize: '10' || 10,
      visitor: false,
      lang: 'zh-cn' || 'zh-cn',
      path: location.pathname,
      recordIP: false,
      serverURLs: ''
    });
  }, window.Valine);
});
</script>

</body>
</html>

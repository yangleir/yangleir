<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://assz0a.coding-pages.com').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="学习笔记">
<meta property="og:url" content="http://assz0a.coding-pages.com/index.html">
<meta property="og:site_name" content="学习笔记">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yang Lei">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://assz0a.coding-pages.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>学习笔记</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">学习笔记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">62</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">5</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">96</span></a>

  </li>
        <li class="menu-item menu-item-tools">

    <a href="/tools" rel="section"><i class="fa fa-fw fa-wrench"></i>Tools</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/12/12/fluid2d/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/12/fluid2d/" class="post-title-link" itemprop="url">Fluid2d 流体动力学软件</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-12-12 20:23:29 / 修改时间：21:52:46" itemprop="dateCreated datePublished" datetime="2021-12-12T20:23:29+08:00">2021-12-12</time>
            </span>

          
            <span id="/2021/12/12/fluid2d/" class="post-meta-item leancloud_visitors" data-flag-title="Fluid2d 流体动力学软件" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/12/12/fluid2d/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/12/12/fluid2d/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Fluid2d"><a href="#Fluid2d" class="headerlink" title="Fluid2d"></a>Fluid2d</h3><p>Fluid2d是通用的Python-Fortran CFD代码包，它包含了大量的二维流体方程。该软件对于学生学习流体力学或地球物理流体动力学很有帮助，也可以是授课老师的教学实践工具。 其思想是在计算流时可视化动态流，且参数变化的影响可以立即看到。 二维流体的关键量是涡度，如果你的涡度动力学很弱，这个代码是为你准备的。 你应该迅速成为专家一样的专家。由于动画的强大功能，用户可以了解基本流体性质，进一步超越教科书而触及学术研究的问题是很容易的。  </p>
<p>有几个功能特别好： </p>
<ul>
<li>代码可处理许多不同的方程组:transport, Euler, quasi-geostrophic, Boussinesq, thermal wind equations。  </li>
<li>代码处理一个允许具有复杂几何形状的掩模系统(具有任意形状的封闭域)  </li>
<li>代码往往具有非常低的dissipation水平  </li>
<li>允许研究边界层问题的no-slip条件  </li>
<li>代码是并行的，如果需要高分辨率，可以在集群上运行。</li>
</ul>
<h3 id="下载和安装"><a href="#下载和安装" class="headerlink" title="下载和安装"></a>下载和安装</h3><p>软件主页：<a href="http://pagesperso.univ-brest.fr/~roullet/fluid2d/index.html" target="_blank" rel="noopener">http://pagesperso.univ-brest.fr/~roullet/fluid2d/index.html</a><br>最新版下载地址：<a href="https://github.com/pvthinker/Fluid2d" target="_blank" rel="noopener">https://github.com/pvthinker/Fluid2d</a></p>
<p>安装步骤：</p>
<p>作者提供了一个快速编译和安装脚本<code>install.sh</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">pydir=<span class="variable">$HOME</span>/.fluid2d</span><br><span class="line">default=core/defaults.json</span><br><span class="line">srcdir=`<span class="built_in">pwd</span>`</span><br><span class="line">myexpdir=<span class="variable">$srcdir</span>/myexp</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"--------------------------------------------------------------------------------"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">" Installing Fluid2d"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"It is recommended to create a virtual environnement. "</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"If you are using anaconda then you may create the 'pyrsw' environment with"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"&gt; conda env create -f environment.yml"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"then whenever you want to use Fluid2d, switch to this environement with"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"&gt; conda activate fluid2d"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Are you ok with you environment? (y/n)"</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$ok</span> = <span class="string">"n"</span> ]; <span class="keyword">then</span></span><br><span class="line">   <span class="built_in">exit</span> 42</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="string">"<span class="variable">$pydir</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"  Create <span class="variable">$pydir</span>"</span></span><br><span class="line">    mkdir <span class="variable">$pydir</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ ! -f <span class="string">"<span class="variable">$pydir</span>/<span class="variable">$default</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"  Copy <span class="variable">$default</span> in <span class="variable">$pydir</span>"</span></span><br><span class="line">    cp <span class="variable">$default</span> <span class="variable">$pydir</span>/</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ ! -d <span class="string">"<span class="variable">$myexpdir</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"  Create <span class="variable">$myexpdir</span>"</span></span><br><span class="line">    mkdir <span class="variable">$myexpdir</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  Copy reference experiments in <span class="variable">$myexpdir</span>"</span></span><br><span class="line">cp -pR <span class="variable">$srcdir</span>/experiments/* <span class="variable">$myexpdir</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for bash users</span></span><br><span class="line">cat &gt; <span class="variable">$pydir</span>/activate.sh &lt;&lt; EOF</span><br><span class="line"><span class="built_in">export</span> PYTHONPATH=`<span class="built_in">pwd</span>`/core</span><br><span class="line"><span class="built_in">echo</span> Python now knows that Fluid2d is <span class="keyword">in</span> `<span class="built_in">pwd</span>`</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># for csh, tcsh users</span></span><br><span class="line">cat &gt; <span class="variable">$pydir</span>/activate.csh &lt;&lt; EOF</span><br><span class="line">setenv PYTHONPATH `<span class="built_in">pwd</span>`/core</span><br><span class="line"><span class="built_in">echo</span> Python now knows that Fluid2d is <span class="keyword">in</span> `<span class="built_in">pwd</span>`</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># for fish users</span></span><br><span class="line">cat &gt; <span class="variable">$pydir</span>/activate.fish &lt;&lt; EOF</span><br><span class="line"><span class="built_in">set</span> -gx PYTHONPATH `(<span class="built_in">pwd</span>)`/core</span><br><span class="line"><span class="built_in">echo</span> Python now knows that Fluid2d is <span class="keyword">in</span> `(<span class="built_in">pwd</span>)`</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># compile the modules with module</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"--------------------------------------------------------------------------------"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">" Compile modules with f2py"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"># try</span></span><br><span class="line">    make</span><br><span class="line">    </span><br><span class="line">&#125; || &#123;</span><br><span class="line">    <span class="comment">#catch</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Unable to compile"</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Are you sure f2py is installed?"</span></span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># copy the experiment into</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  Before starting, please read this note carefully"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  As it configured, Fluid2d will store the results in"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"      *** <span class="variable">$HOME</span>/data/fluid2d ***"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  If you don't run the code from your laptop then it is likely that"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  you are not allowed to store large binary files on <span class="variable">$HOME</span>/data"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  because this is your home."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  In this case, edit <span class="variable">$HOME</span>/.fluid2d/defaults.json"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  and set 'datadir' default value (in the output section) to a"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  place where you are authorized to store large binary files."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  In the jargon, this place is usually a 'work' directory."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  If you are unsure where to store your results check that"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  with your system administrator."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  Once you know where to store the results, then you're good to go"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  Each time you open a new terminal you need to"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"     source ~/.fluid2d/activate.sh  if you're under bash"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"     source ~/.fluid2d/activate.csh  if you're under csh/tcsh"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"     source ~/.fluid2d/activate.fish  if you're under fish"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  To run your first experiment"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"      cd <span class="variable">$myexpdir</span>/Vortex"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"      python3 vortex.py"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  Write your new experiments in <span class="variable">$myexpdir</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"  or wherever you want, but not in <span class="variable">$srcdir</span>/experiments !"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">""</span></span><br></pre></td></tr></table></figure>

<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>运行之前需要在主目录下新建文件夹：</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">mkdir</span> <span class="class"><span class="keyword">data</span></span></span><br><span class="line"><span class="title">cd</span> <span class="class"><span class="keyword">data</span> </span></span><br><span class="line"><span class="title">mkdir</span> fluid2d</span><br></pre></td></tr></table></figure>

<p>执行例子：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> myexp/ShearInstab</span><br><span class="line"><span class="keyword">python3</span> shear_instability.<span class="keyword">py</span></span><br></pre></td></tr></table></figure>

<p>结果输出：</p>
<p><img src="/images/shear.gif" alt></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/12/12/gnssbuoy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/12/gnssbuoy/" class="post-title-link" itemprop="url">gnss浮标数据共享</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-12-12 15:20:18 / 修改时间：20:07:21" itemprop="dateCreated datePublished" datetime="2021-12-12T15:20:18+08:00">2021-12-12</time>
            </span>

          
            <span id="/2021/12/12/gnssbuoy/" class="post-meta-item leancloud_visitors" data-flag-title="gnss浮标数据共享" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/12/12/gnssbuoy/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/12/12/gnssbuoy/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="共享动机"><a href="#共享动机" class="headerlink" title="共享动机"></a>共享动机</h3><p>GNSS浮标一种古老而又新颖的测量设备，在海洋具有广泛的应用场景。当前我国海洋调查数据共享普遍较弱，而GNSS浮标的研究由于更加小众，网上很难找到此类数据。为了促进国内学者进行相关研究工作，决定公开GNSS浮标数据。此外在前面的公众号文章中，也已经承诺数据共享，此次公开数据也是执行上次的承诺。</p>
<h3 id="数据表"><a href="#数据表" class="headerlink" title="数据表"></a>数据表</h3><table>
<thead>
<tr>
<th>时间</th>
<th>地点</th>
<th>基站</th>
<th>航迹</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>20140707-0709</td>
<td>青岛千里岩</td>
<td>Y</td>
<td>Y</td>
<td>卫星高度计定标</td>
</tr>
<tr>
<td>20140915-0919</td>
<td>青岛千里岩</td>
<td>Y</td>
<td>N</td>
<td>卫星高度计定标</td>
</tr>
<tr>
<td>20141015-1015</td>
<td>青岛田横岛</td>
<td>Y</td>
<td>N</td>
<td>卫星高度计定标</td>
</tr>
<tr>
<td>20150410-0410</td>
<td>青岛田横岛</td>
<td>Y</td>
<td>N</td>
<td>卫星高度计定标</td>
</tr>
<tr>
<td>20150502-0502</td>
<td>珠海担杆岛</td>
<td>Y</td>
<td>Y</td>
<td>卫星高度计定标</td>
</tr>
<tr>
<td>20150629-0701</td>
<td>青岛千里岩</td>
<td>Y</td>
<td>N</td>
<td>卫星高度计定标</td>
</tr>
<tr>
<td>20190331-0401</td>
<td>青岛小麦岛</td>
<td>Y</td>
<td>Y</td>
<td>机载高度计定标</td>
</tr>
<tr>
<td>20190714-0715</td>
<td>威海成山头</td>
<td>Y</td>
<td>Y</td>
<td>卫星高度计定标</td>
</tr>
<tr>
<td>20190826-0827</td>
<td>威海成山头</td>
<td>Y</td>
<td>Y</td>
<td>卫星高度计定标</td>
</tr>
<tr>
<td>20210520-0524</td>
<td>青岛小麦岛</td>
<td>N</td>
<td>Y</td>
<td>低成本浮标测试</td>
</tr>
</tbody></table>
<h3 id="数据下载"><a href="#数据下载" class="headerlink" title="数据下载"></a>数据下载</h3><p><a href="https://zenodo.org/record/5774652" target="_blank" rel="noopener">https://zenodo.org/record/5774652</a></p>
<h3 id="数据描述"><a href="#数据描述" class="headerlink" title="数据描述"></a>数据描述</h3><p>数据格式主要为GNSS通用RINEX格式。少数试验数据为硬件厂家格式，使用者需要使用相关软件进行格式转换。</p>
<h3 id="数据解算软件"><a href="#数据解算软件" class="headerlink" title="数据解算软件"></a>数据解算软件</h3><p>很多软件可以用于解算动态的浮标数据，比如：</p>
<ul>
<li><a href="http://geoweb.mit.edu/gg/" target="_blank" rel="noopener">GAMIT</a></li>
<li><a href="http://www.bernese.unibe.ch/" target="_blank" rel="noopener">Bernese GNSS</a></li>
<li><a href="http://www.rtklib.com/" target="_blank" rel="noopener">RTKLIB</a></li>
<li><a href="http://pride.whu.edu.cn/indexone.shtml" target="_blank" rel="noopener">PRIDE PPP-AR</a></li>
<li><a href="https://webapp.geod.nrcan.gc.ca/geod/tools-outils/ppp.php" target="_blank" rel="noopener">CSRS-PPP</a><br>我们发现RtkLib容易上手，PPPpride对廉价芯片数据的处理更加优秀，CSRS-PPP更加智能化。GAMIT有点老，但是很经典，Bernese功能强大，是收费软件。此外还有一些其他的商业或者免费软件可以GNSS数据，无法一一列举。</li>
</ul>
<h3 id="浮标应用场景"><a href="#浮标应用场景" class="headerlink" title="浮标应用场景"></a>浮标应用场景</h3><p>本次共享的GNSS浮标数据主要是卫星高度计定标项目所采集，因此也主要用于了海面高度和海浪测量。GNSS浮标可以准确的获得地心坐标系下的三维海面起伏，数据频率通常使用1Hz，可以有效的提取潮汐信息和波浪信息。</p>
<ul>
<li>卫星高度计定标</li>
<li>机载高度计定标</li>
<li>远海潮汐测量</li>
<li>波浪全要素测量</li>
<li>大地水准面评估</li>
</ul>
<p>它还有很多应用没有挖掘，更多信息见：<a href="https://mp.weixin.qq.com/s?__biz=Mzg3MDU0MjYwMw==&mid=2247484478&idx=1&sn=0b724d0a3e9818c1c0e69e5e45bdbb6e&chksm=ce8d785af9faf14cccef5a21da24b1c0bc1aacb3c2b2bb7a083a21106c1d73b39cac74647d57&token=1728212089&lang=zh_CN#rd" target="_blank" rel="noopener">小型低成本GNSS浮标研发及初步结果</a></p>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>数据引用格式：</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@dataset&#123;lei_yang_2021_5774652,</span><br><span class="line">  <span class="attr">author</span>       = &#123;Lei Yang&#125;,</span><br><span class="line">  <span class="attr">title</span>        = &#123;GNSS buoy data&#125;,</span><br><span class="line">  <span class="attr">month</span>        = dec,</span><br><span class="line">  <span class="attr">year</span>         = <span class="number">2021</span>,</span><br><span class="line">  <span class="attr">publisher</span>    = &#123;Zenodo&#125;,</span><br><span class="line">  <span class="attr">doi</span>          = &#123;<span class="number">10.5281</span>/zenodo.<span class="number">5774652</span>&#125;,</span><br><span class="line">  <span class="attr">url</span>          = &#123;https://doi.org/<span class="number">10.5281</span>/zenodo.<span class="number">5774652</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果数据对您的研究有用，也可以考虑引用如下论文：<br>[1]LIN Z, LEI Y, YONGSHENG X, 等. Retrieving wave parameters with PPP mode from GNSS buoy measurements[J]. IEEE Geoscience and Remote Sensing Letters, 2020, Early Access. DOI:10.1109/LGRS.2020.3041846.<br>[2]LEI Y, XINGHUA Z, P. M S, 等. First Calibration Results of Jason-2 and Saral/AltiKa Satellite Altimeters from the Qianliyan Permanent Facilities[J]. Advances in Space Research, 2017, 59(12): 2831–2842. DOI:<a href="https://doi.org/10.1016/j.asr.2017.02.044" target="_blank" rel="noopener">https://doi.org/10.1016/j.asr.2017.02.044</a>.<br>[3]YANG L, XU Y, ZHOU X, 等. Calibration of an Airborne Interferometric Radar Altimeter over the Qingdao Coast Sea, China[J]. Remote Sensing, 2020, 12(10): 1651. DOI:10.3390/rs12101651.<br>[4]杨磊, 周兴华, 王朝阳, 等. 基于GNSS浮标和验潮资料的HY-2A卫星雷达高度计绝对定标[J]. 海洋学报, 2017, 39(1): 111–120.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/10/27/pygmt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/27/pygmt/" class="post-title-link" itemprop="url">pygmt</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-10-27 21:10:45 / 修改时间：22:37:36" itemprop="dateCreated datePublished" datetime="2021-10-27T21:10:45+08:00">2021-10-27</time>
            </span>

          
            <span id="/2021/10/27/pygmt/" class="post-meta-item leancloud_visitors" data-flag-title="pygmt" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/10/27/pygmt/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/10/27/pygmt/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近学习了<code>GMT</code>的python库<code>pygmt</code>，感觉相当值得推荐。下面简单介绍安装和使用。</p>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><p>基本的准备工作和安装步骤如下：</p>
<ul>
<li>安装<code>miniconda</code>；</li>
<li>安装<code>conda</code>加速器<code>mamba</code>，提高python库的安装速度（可选）；</li>
<li>安装<code>jupyter lab</code>（可选）;</li>
<li>安装<code>pygmt</code>;</li>
</ul>
<h2 id="miniconda"><a href="#miniconda" class="headerlink" title="miniconda"></a>miniconda</h2><p>Miniconda是一款小巧的python环境管理工具，其安装程序中包含conda软件包管理器和Python。一旦安装了Miniconda，就可以使用conda命令安装任何其他软件工具包并创建环境等。去官网<a href="https://conda.io/en/latest/miniconda.html" target="_blank" rel="noopener">https://conda.io/en/latest/miniconda.html</a> 下载安装包即可完成安装。</p>
<p>安装后，创建一个新的独立python环境(随便取名，此处为<code>gmt</code>)，以备pygmt的安装和调用：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">conda</span> <span class="string">create -n gmt python=3.9</span></span><br><span class="line"><span class="attr">conda</span> <span class="string">activate gmt</span></span><br></pre></td></tr></table></figure>

<h2 id="mamba"><a href="#mamba" class="headerlink" title="mamba"></a>mamba</h2><p>虽然conda是个安装软件的神器，但镜像不稳定，下载安装软件的速度有时很慢。对于几十Mb甚至上百Mb的软件往往下不动，下了半天可能失败。特别是安装的软件多了后，对软件依赖关系的解析时间特别长。mamba加速神器，可以用来并行下载和安装，大大加快速度，减少失败几率。</p>
<p>首先，mamba本身需要先通过conda来安装：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda <span class="keyword">install</span> -c conda-forge mamba</span><br></pre></td></tr></table></figure>
<p>mamba安装成功后，后续所有软件安装都可将conda替换为mamba了。</p>
<h2 id="jupyter-lab"><a href="#jupyter-lab" class="headerlink" title="jupyter lab"></a>jupyter lab</h2><p>JupyterLab是Jupyter主打的最新数据科学生产工具，作为一种基于web的集成开发环境，你可以使用它编写notebook、操作终端、编辑markdown文本、打开交互模式、查看csv文件及图片等功能。pygmt对jupyter lab有很好的衔接，可以方便的查看和记录中间过程，显示绘图结果。安装命令为：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mamba <span class="keyword">install</span> -c conda-forge jupyterlab</span><br></pre></td></tr></table></figure>

<h2 id="pygmt"><a href="#pygmt" class="headerlink" title="pygmt"></a>pygmt</h2><p>pygmt可以在python中直接使用GMT进行数据处理和绘图，实现了和python的交互操作。下面命令将自动安装pygmt以及依赖，包括<code>proj,gdal,netcdf</code>等：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mamba <span class="keyword">install</span> -c conda-forge pygmt</span><br></pre></td></tr></table></figure>

<p>在命令栏输入<code>jupyter lab</code>，启动<code>jupyter lab</code>，新建一个lab，查看版本并绘制一个简单的例子：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import pygmt</span><br><span class="line">pygmt.show_versions()</span><br><span class="line"></span><br><span class="line">fig = pygmt.Figure()</span><br><span class="line">fig.coast(<span class="attribute">region</span>=<span class="string">"g"</span>, <span class="attribute">frame</span>=<span class="literal">True</span>, <span class="attribute">shorelines</span>=1)</span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>
<p><img src="/images/pygmt/g.png" alt></p>
<h2 id="遥感影像绘制"><a href="#遥感影像绘制" class="headerlink" title="遥感影像绘制"></a>遥感影像绘制</h2><p>遥感影像绘制不是GMT常用的功能，因此疑问也较多，这里从遥感数据的下载、格式转换、拉伸、裁剪，到最终绘制，给出完整的步骤。</p>
<h3 id="数据下载"><a href="#数据下载" class="headerlink" title="数据下载"></a>数据下载</h3><p>免费下载worldview开放数据：<a href="https://www.maxar.com/open-data/" target="_blank" rel="noopener">https://www.maxar.com/open-data/</a> 。<br>本例子采用数据土耳其地震影像（<a href="https://www.maxar.com/open-data/turkey-earthquake）" target="_blank" rel="noopener">https://www.maxar.com/open-data/turkey-earthquake）</a> 。</p>
<p>使用GMT查看影像信息：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">!gmt grdinfo <span class="number">10300500</span>A4F8E700.tif</span><br><span class="line"># 分辨率约为<span class="number">4.32089651661e-06</span>*<span class="number">120000</span>=<span class="number">0.5</span>m</span><br></pre></td></tr></table></figure>
<blockquote>
<p>10300500A4F8E700.tif: Title: Grid imported via GDAL<br>10300500A4F8E700.tif: Command:<br>10300500A4F8E700.tif: Remark:<br>10300500A4F8E700.tif: Pixel node registration used [Geographic grid]<br>10300500A4F8E700.tif: Grid file format: gd = Import/export through GDAL<br>10300500A4F8E700.tif: x_min: 26.8895518746 x_max: 27.0835860536 x_inc: 4.32089651661e-06 name: x n_columns: 44906<br>10300500A4F8E700.tif: y_min: 37.6434216334 y_max: 37.8210061593 y_inc: 4.32089651661e-06 name: y n_rows: 41099<br>10300500A4F8E700.tif: v_min: 0 v_max: 229 name: z<br>10300500A4F8E700.tif: scale_factor: 1 add_offset: 0<br>+proj=longlat +datum=WGS84 +no_defs</p>
</blockquote>
<p>或者也可以使用gdal查看：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">print</span>(<span class="string">"GDAL info"</span>)</span><br><span class="line"><span class="comment"># 使用gdal查看</span></span><br><span class="line">!gdalinfo 10300500A4F8E700.tif</span><br></pre></td></tr></table></figure>
<blockquote>
<p>信息略</p>
</blockquote>
<p>或者也可以使用pygmt.grdinfo查看,不过格式不太美观，没有换行：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">pygmt</span><span class="selector-class">.grdinfo</span>("10300500<span class="selector-tag">A4F8E700</span><span class="selector-class">.tif</span>")</span><br></pre></td></tr></table></figure>
<blockquote>
<p>信息略</p>
</blockquote>
<h3 id="降低影像分辨率"><a href="#降低影像分辨率" class="headerlink" title="降低影像分辨率"></a>降低影像分辨率</h3><p>降低分辨率为9m（0.000075*120000=9m），并改为Byte格式（GMT不识别TIF的float32格式）:</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!gdal_translate -tr <span class="number">0.000075</span> <span class="number">0.000075</span> -r average -ot Byte  <span class="number">10300500</span>A4F8E700.tif <span class="number">10300500</span>A4F8E700_lowbyte.tif</span><br></pre></td></tr></table></figure>
<p>这里的<code>gdal</code>程序应该可以在安装pygmt之后可以自动调佣，因为同时已经安装了gdal依赖，并创建了这些可执行文件。</p>
<h3 id="绘图"><a href="#绘图" class="headerlink" title="绘图"></a>绘图</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fig = pygmt.Figure()</span><br><span class="line"></span><br><span class="line"><span class="attribute">data</span>=<span class="string">"10300500A4F8E700_lowbyte.tif+b0,1,2"</span></span><br><span class="line"></span><br><span class="line">fig.grdimage(</span><br><span class="line">    <span class="attribute">grid</span>=data,</span><br><span class="line">    frame=[<span class="string">"af"</span>],</span><br><span class="line">    <span class="attribute">projection</span>=<span class="string">"M6.5i"</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>

<p><img src="/images/pygmt/test0.png" alt></p>
<h3 id="色调"><a href="#色调" class="headerlink" title="色调"></a>色调</h3><p>如果喜欢亮色，可以适当拉伸灰度值：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!gdal_translate -tr <span class="number">0.000075</span> <span class="number">0.000075</span> -scale <span class="number">0</span> <span class="number">200</span> <span class="number">0</span> <span class="number">255</span> -r average -ot Byte  <span class="number">10300500</span>A4F8E700.tif <span class="number">10300500</span>A4F8E700_lowbyte2.tif</span><br></pre></td></tr></table></figure>
<p>重复<code>绘图</code>的代码，效果：<br><img src="/images/pygmt/test4.png" alt></p>
<h3 id="局部"><a href="#局部" class="headerlink" title="局部"></a>局部</h3><p>为了保持清晰，局部绘图使用原始分辨率。为了防止图像过大，处理时间长，将裁剪成小区域绘图，并转格式和拉伸：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">!gdalwarp  -te <span class="number">26.966</span> <span class="number">37.7</span> <span class="number">27.0</span> <span class="number">37.7166</span> <span class="number">10300500</span>A4F8E700.tif <span class="number">10300500</span>A4F8E700_small.tif</span><br><span class="line">!gdal_translate -scale <span class="number">0</span> <span class="number">200</span> <span class="number">0</span> <span class="number">255</span> -r average -ot Byte  <span class="number">10300500</span>A4F8E700_small.tif <span class="number">10300500</span>A4F8E700_lowbyte4.tif</span><br></pre></td></tr></table></figure>
<p>重复<code>绘图</code>的代码：<br><img src="/images/pygmt/test.png" alt></p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul>
<li>遥感影像一般为底图，在此基础上可以使用pygmt任意添加<code>点、线、面、文字</code>等要素，除了可以识别文本格式，它已经可以读取<code>shp</code>格式。</li>
<li>导出的最终图的格式可以通过后缀修改。比如可以导出高清pdf图片，方便的插入latex使用。</li>
<li>本例使用的遥感影像已经转为经纬度坐标，无需再次转换坐标。如果是UTM，则可以通过gdal快速转换。</li>
<li>本例子未展示地震前后对比，大家可以下载数据后自行对比。</li>
</ul>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>可以下载本例子的jupyter 版本：<a href="https://www.jianguoyun.com/p/DY8Q0ugQ2PCQBxjvv5cE" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DY8Q0ugQ2PCQBxjvv5cE</a> </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/10/22/tensorflowGPU/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/22/tensorflowGPU/" class="post-title-link" itemprop="url">TensorFlow GPU 在Ubuntu 18.04的安装</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-22 08:46:27" itemprop="dateCreated datePublished" datetime="2021-10-22T08:46:27+08:00">2021-10-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-24 21:38:29" itemprop="dateModified" datetime="2021-10-24T21:38:29+08:00">2021-10-24</time>
              </span>

          
            <span id="/2021/10/22/tensorflowGPU/" class="post-meta-item leancloud_visitors" data-flag-title="TensorFlow GPU 在Ubuntu 18.04的安装" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/10/22/tensorflowGPU/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/10/22/tensorflowGPU/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在Ubuntu上安装TensorFlow GPU版本，首先需要：</p>
<ul>
<li>一张NVIDIA GPU显卡和Ubuntu系统；</li>
<li>NVIDIA 显卡驱动，最新为<code>495.29.05</code>（2021年10月22日）；</li>
<li>CUDA toolkit；</li>
<li>cudNN SDK；</li>
<li>CUPTI；</li>
<li>TensorFlow作为深度学习的框架。</li>
</ul>
<p>以NVIDIA 2080ti为例，安装步骤如下：</p>
<h3 id="安装-NVIDIA-显卡驱动"><a href="#安装-NVIDIA-显卡驱动" class="headerlink" title="安装 NVIDIA 显卡驱动"></a>安装 NVIDIA 显卡驱动</h3><p>在官网：<a href="https://www.nvidia.com/download/index.aspx?lang=en-us" target="_blank" rel="noopener">https://www.nvidia.com/download/index.aspx?lang=en-us</a> 下载最新的显卡驱动。<br><img src="/images/gpu/driver.png" alt></p>
<p>完成后运行<code>nvidia-smi</code>，查看显卡信息：<br><img src="/images/gpu/smi.png" alt></p>
<p>正常显示则表示驱动安装成功。</p>
<blockquote>
<p>Ubuntu初次插入GPU显卡后会自动安装驱动，也能正常使用显卡，但是版本可能较低，和TensorFlow的GPU需求不匹配。</p>
</blockquote>
<h3 id="CUDA-toolkit"><a href="#CUDA-toolkit" class="headerlink" title="CUDA toolkit"></a>CUDA toolkit</h3><p>去谷歌网站查看版本匹配，确定TensorFlow、cuda toolkit、和cuDNN的版本对应正确。<br><img src="/images/gpu/toolkit.png" alt></p>
<p>以TensorFlow2.5为例，需要的cuDNN8.1和CUDA 11.2。</p>
<blockquote>
<p>注意这个CUDA 11.2不是驱动的版本，可以和上面的显卡驱动显示的<code>11.5</code>不一致。<br><img src="/images/gpu/toolkit2.png" alt></p>
</blockquote>
<p>下载：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https:<span class="comment">//developer.download.nvidia.com/compute/cuda/11.2.2/local_installers/cuda_11.2.2_460.32.03_linux.run</span></span><br><span class="line">sudo chmod +x cuda_11<span class="number">.2</span><span class="number">.2</span>_460<span class="number">.32</span><span class="number">.03</span>_linux.run</span><br><span class="line">sudo ./cuda_11<span class="number">.2</span><span class="number">.2</span>_460<span class="number">.32</span><span class="number">.03</span>_linux.run</span><br></pre></td></tr></table></figure>
<h4 id="坑-1"><a href="#坑-1" class="headerlink" title="坑-1"></a>坑-1</h4><blockquote>
<p>cuda toolkit包中含有了显卡驱动，因为之前已安装，这里不要再安装，否则显卡驱动冲突。</p>
</blockquote>
<p>此处可参考：<a href="https://zhuanlan.zhihu.com/p/122286055" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/122286055</a><br><img src="/images/gpu/ken1.jpg" alt></p>
<p>去掉driver前面的X，执行install，等一会安装成功。</p>
<h4 id="添加到路径"><a href="#添加到路径" class="headerlink" title="添加到路径"></a>添加到路径</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.bashrc</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="string">"/usr/local/cuda-11.2/bin:<span class="variable">$PATH</span>"</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">LD_LIBRARY_PATH</span>=<span class="string">"/usr/local/cuda-11.2/lib64:<span class="variable">$LD_LIBRARY_PATH</span>"</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">CUDA_HOME</span>=/usr/local/cuda-11.2</span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure>

<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">nvcc -V</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/gpu/nvcc.jpg" alt></p>
<h3 id="cuDNN"><a href="#cuDNN" class="headerlink" title="cuDNN"></a>cuDNN</h3><p>从官网（<a href="https://developer.nvidia.com/rdp/cudnn-download）" target="_blank" rel="noopener">https://developer.nvidia.com/rdp/cudnn-download）</a> 下载cuDNN。先注册，然后找到对应的8.1版本，并下载deb版本。</p>
<p>可参考：<a href="https://zhuanlan.zhihu.com/p/126997172" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/126997172</a></p>
<p><img src="/images/gpu/cudnn.png" alt></p>
<p>下载内容为：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">libcudnn8_8<span class="number">.1</span><span class="number">.1</span><span class="number">.33</span><span class="number">-1</span>+cuda11<span class="number">.2</span>_amd64.deb</span><br><span class="line">libcudnn8-dev_8<span class="number">.1</span><span class="number">.1</span><span class="number">.33</span><span class="number">-1</span>+cuda11<span class="number">.2</span>_amd64.deb</span><br><span class="line">libcudnn8-samples_8<span class="number">.1</span><span class="number">.1</span><span class="number">.33</span><span class="number">-1</span>+cuda11<span class="number">.2</span>_amd64.deb</span><br></pre></td></tr></table></figure>

<p>依次安装：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i llibcudnn8_8<span class="number">.1</span><span class="number">.1</span><span class="number">.33</span><span class="number">-1</span>+cuda11<span class="number">.2</span>_amd64.deb</span><br><span class="line">sudo dpkg -i libcudnn8-dev_8<span class="number">.1</span><span class="number">.1</span><span class="number">.33</span><span class="number">-1</span>+cuda11<span class="number">.2</span>_amd64.deb</span><br><span class="line">sudo dpkg -i libcudnn8-samples_8<span class="number">.1</span><span class="number">.1</span><span class="number">.33</span><span class="number">-1</span>+cuda11<span class="number">.2</span>_amd64.deb</span><br></pre></td></tr></table></figure>

<h4 id="测试cuDNN"><a href="#测试cuDNN" class="headerlink" title="测试cuDNN"></a>测试cuDNN</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp -r <span class="regexp">/usr/</span>src<span class="regexp">/cudnn_samples_v8/</span> <span class="variable">$HOME</span></span><br><span class="line">cd  ~<span class="regexp">/cudnn_samples_v8/m</span>nistCUDNN</span><br><span class="line">sudo make clean </span><br><span class="line">sudo make</span><br></pre></td></tr></table></figure>

<p>遇到错误：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">test</span>.c:1:10: fatal <span class="keyword">error</span>: FreeImage.<span class="keyword">h</span>: <span class="keyword">No</span> such <span class="keyword">file</span> or directory</span><br><span class="line">     1 | #<span class="keyword">include</span> <span class="string">"FreeImage.h"</span></span><br></pre></td></tr></table></figure>

<p>解决方法：</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install libfreeimage3 libfreeimage-<span class="built_in">dev</span></span><br></pre></td></tr></table></figure>

<p>进行测试：</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="string">./mnistCUDNN</span></span><br></pre></td></tr></table></figure>
<p>显示<code>Test passed!</code>。</p>
<h3 id="CUPTI"><a href="#CUPTI" class="headerlink" title="CUPTI"></a>CUPTI</h3><p>该程序没有约定版本，直接通过<code>apt</code>安装。</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install libcupti-<span class="built_in">dev</span></span><br></pre></td></tr></table></figure>
<p>并编辑<code>~/.bashrc</code>添加到路径。</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LD_LIBRARY_PATH=<span class="variable">$LD_LIBRARY_PATH</span><span class="symbol">:/usr/local/cuda/extras/CUPTI/lib64</span></span><br></pre></td></tr></table></figure>

<h3 id="Tensorflow"><a href="#Tensorflow" class="headerlink" title="Tensorflow"></a>Tensorflow</h3><h4 id="坑2"><a href="#坑2" class="headerlink" title="坑2"></a>坑2</h4><blockquote>
<p>不要使用conda安装，使用pip安装。</p>
</blockquote>
<p>使用conda反复安装TensorFlow，总是无法调用GPU，后来使用pip安装（也是官方教程的方法）发现安装包要比conda的包大一倍。</p>
<p>使用下面的命令测试：</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br></pre></td></tr></table></figure>
<p>会出现<code>Successfully opened dynamic library libcudart.so.11.0</code>，表示成功。</p>
<p>接着使用</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tf</span><span class="selector-class">.config</span><span class="selector-class">.list_physical_devices</span>(<span class="string">'GPU'</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/images/gpu/finish.png" alt></p>
<p>至此，安装成功。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://medium.com/analytics-vidhya/configure-tensorflow-gpu-with-ubuntu-18-04-2021-update-aee264e887ae" target="_blank" rel="noopener">https://medium.com/analytics-vidhya/configure-tensorflow-gpu-with-ubuntu-18-04-2021-update-aee264e887ae</a><br><a href="https://www.bilibili.com/read/cv9164113" target="_blank" rel="noopener">https://www.bilibili.com/read/cv9164113</a><br><a href="https://towardsdatascience.com/installing-tensorflow-gpu-in-ubuntu-20-04-4ee3ca4cb75d" target="_blank" rel="noopener">https://towardsdatascience.com/installing-tensorflow-gpu-in-ubuntu-20-04-4ee3ca4cb75d</a><br><a href="https://zhuanlan.zhihu.com/p/122286055" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/122286055</a><br><a href="https://zhuanlan.zhihu.com/p/126997172" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/126997172</a><br><a href="https://www.tensorflow.org/install/source#gpu" target="_blank" rel="noopener">https://www.tensorflow.org/install/source#gpu</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/09/04/gmt-trend/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/04/gmt-trend/" class="post-title-link" itemprop="url">使用GMT计算二维网格数据的均值、标准差和趋势</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-09-04 17:39:55 / 修改时间：18:37:52" itemprop="dateCreated datePublished" datetime="2021-09-04T17:39:55+08:00">2021-09-04</time>
            </span>

          
            <span id="/2021/09/04/gmt-trend/" class="post-meta-item leancloud_visitors" data-flag-title="使用GMT计算二维网格数据的均值、标准差和趋势" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/09/04/gmt-trend/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/09/04/gmt-trend/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>下面介绍GMT中<code>blockmean</code>和<code>grdmath</code>的统计计算功能，包含均值、标准差和趋势。</p>
<h2 id="案例：高度计大气湿延迟的中国周边海域分布"><a href="#案例：高度计大气湿延迟的中国周边海域分布" class="headerlink" title="案例：高度计大气湿延迟的中国周边海域分布"></a>案例：高度计大气湿延迟的中国周边海域分布</h2><p>以中国周边海域的高度计湿延迟为例，计算湿延迟的空间均值、标准差和趋势。</p>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">REM             GMT EXAMPLE xxxx</span></span><br><span class="line"><span class="comment">REM             2021-03-14 leiyang@fio.org.cn</span></span><br><span class="line"><span class="comment">REM Purpose:    Using blockmean, grdmath to calculate the STD abd trend </span></span><br><span class="line"><span class="comment">REM</span></span><br><span class="line">gmt gmtset FORMAT_GEO_MAP = dddF MAP_FRAME_WIDTH=<span class="number">2</span>p</span><br><span class="line">gmt gmtset FONT_ANNOT_PRIMARY <span class="number">7</span>p,Helvetica,black FONT_LABEL <span class="number">7</span>p,Helvetica,black </span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> ps=jason_wet_global_new.ps</span><br><span class="line"><span class="built_in">set</span> R=<span class="number">105</span>/<span class="number">130</span>/<span class="number">15</span>/<span class="number">45</span></span><br><span class="line"><span class="built_in">set</span> J=M5c</span><br><span class="line"></span><br><span class="line"><span class="comment">REM Calculate mean value and plot mean wet path delay</span></span><br><span class="line">gmt makecpt -Cvik -T50/<span class="number">350</span>/<span class="number">5</span>&gt; t.cpt</span><br><span class="line"><span class="comment">REM use Jason-2 data of cycle 1-294 (6years), downloaded from RADS.</span></span><br><span class="line"><span class="comment">rem gawk "!/NaN/ &amp;&amp; NR&gt;13 &amp;&amp; $3&gt;100 &#123;print $3,$2,(-$4)*1000&#125;" D:\rads\wet\radsdata_ok\j2*c*.asc &gt; model.dd</span></span><br><span class="line">gmt blockmean model.dd -R<span class="variable">%R%</span> -I20m &gt;tmp_.dd</span><br><span class="line">gmt surface tmp_.dd -R<span class="variable">%R%</span> -I20m -Ggridded2_j2_s.nc -T0.<span class="number">25</span></span><br><span class="line"><span class="comment">REM gridded2_j2_s.nc is the averaged file and will be used in next step.</span></span><br><span class="line">gmt grdimage gridded2_j2_s.nc -R<span class="variable">%R%</span> -J<span class="variable">%J%</span> -K -Ct.cpt -Y13c&gt; <span class="variable">%ps%</span></span><br><span class="line">gmt pscoast -R -J -Dl -A10000/<span class="number">0</span>/<span class="number">1</span> -Bag --FONT_TITLE=<span class="number">10</span>p -Gwhite -W0.<span class="number">1</span>p --MAP_ANNOT_OBLIQUE=<span class="number">45</span> -O -K &gt;&gt; <span class="variable">%ps%</span></span><br><span class="line">gmt psscale -DjBC+o0c/-<span class="number">1</span>.<span class="number">4</span>c+w1.<span class="number">5</span>i/<span class="number">0</span>.<span class="number">08</span>i -R -J -Ct.cpt -Bxaf -By+lmm -I -O  --FONT_ANNOT_PRIMARY=<span class="number">7</span>p -K&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line"><span class="built_in">echo</span>  <span class="number">107</span> <span class="number">42</span> a)mean of WPD|  gmt pstext -F+f8p,<span class="number">1</span>,black+jLB -R -J -O -N  -Gwhite -K &gt;&gt;  <span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">rem Calculate STD and PLOT</span></span><br><span class="line">gmt makecpt -Cvik -T50/<span class="number">150</span>/<span class="number">1</span>&gt; t.cpt</span><br><span class="line">gmt blockmean model.dd -As -E -R -I20m -Ggridded2_j2_std.nc</span><br><span class="line">gmt grd2xyz gridded2_j2_std.nc | gawk "!/NaN/ &#123;<span class="built_in">print</span> $<span class="number">1</span>,$<span class="number">2</span>,$<span class="number">3</span>&#125;" | gmt surface -R -I20m -Ggridded2_j2_std2.nc -T0.<span class="number">25</span></span><br><span class="line"><span class="comment">REM gridded2_j2_std2.nc is the STD file and will be used in next step.</span></span><br><span class="line">gmt grdimage gridded2_j2_std2.nc -R -J -K -Ct.cpt -O  -X7c &gt;&gt; <span class="variable">%ps%</span></span><br><span class="line">gmt pscoast -R -J -Dl -A10000/<span class="number">0</span>/<span class="number">1</span> -Bag --FONT_TITLE=<span class="number">10</span>p -Gwhite -W0.<span class="number">1</span>p --MAP_ANNOT_OBLIQUE=<span class="number">45</span> -O -K &gt;&gt; <span class="variable">%ps%</span></span><br><span class="line">gmt psscale -DjBC+o0c/-<span class="number">1</span>.<span class="number">4</span>c+w1.<span class="number">5</span>i/<span class="number">0</span>.<span class="number">08</span>i -R -J -Ct.cpt -Bxaf -By+lmm -I -O  --FONT_ANNOT_PRIMARY=<span class="number">7</span>p -K&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line"><span class="built_in">echo</span>  <span class="number">107</span> <span class="number">42</span> b)STD of WPD|  gmt pstext -F+f8p,<span class="number">1</span>,black+jLB -R -J -O -N -K -Gwhite &gt;&gt;  <span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">rem Calculate trend and PLOT</span></span><br><span class="line">gmt makecpt -Cvik -T-<span class="number">30</span>/<span class="number">30</span>/<span class="number">1</span>&gt; t.cpt</span><br><span class="line">gmt grdsample gridded2_j2_s.nc -I60m -Ggridded2_j2_s_re.nc</span><br><span class="line"></span><br><span class="line">gmt grdmath gridded2_j2_s_re.nc  DDY = slope2.nc</span><br><span class="line">gmt grdmath gridded2_j2_s_re.nc  DDX = slope3.nc</span><br><span class="line">gmt grdmath gridded2_j2_s_re.nc  D2DY2 = slope1.nc</span><br><span class="line"></span><br><span class="line">gmt grdimage slope2.nc -R -J -K -Ct.cpt -O  -X-<span class="number">7</span>c -Y-<span class="number">10</span>c&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line">gmt pscoast -R -J -Dl -A10000/<span class="number">0</span>/<span class="number">1</span> -Bag --FONT_TITLE=<span class="number">10</span>p -Gwhite -W0.<span class="number">1</span>p --MAP_ANNOT_OBLIQUE=<span class="number">45</span> -O -K &gt;&gt; <span class="variable">%ps%</span></span><br><span class="line">gmt psscale -DjBC+o0c/-<span class="number">1</span>.<span class="number">4</span>c+w1.<span class="number">5</span>i/<span class="number">0</span>.<span class="number">08</span>i -R -J -Ct.cpt -Bxaf -By+lmm/@. -I -O  --FONT_ANNOT_PRIMARY=<span class="number">7</span>p -K&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line"><span class="built_in">echo</span>  <span class="number">107</span> <span class="number">42</span> c)trend of WPD|  gmt pstext -F+f8p,<span class="number">1</span>,black+jLB -R -J -O -N -Gwhite -K &gt;&gt;  <span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line">gmt grdimage slope3.nc -R -J -K -Ct.cpt -O  -X7c &gt;&gt; <span class="variable">%ps%</span></span><br><span class="line">gmt pscoast -R -J -Dl -A10000/<span class="number">0</span>/<span class="number">1</span> -Bag --FONT_TITLE=<span class="number">10</span>p -Gwhite -W0.<span class="number">1</span>p --MAP_ANNOT_OBLIQUE=<span class="number">45</span> -O -K &gt;&gt; <span class="variable">%ps%</span></span><br><span class="line">gmt psscale -DjBC+o0c/-<span class="number">1</span>.<span class="number">4</span>c+w1.<span class="number">5</span>i/<span class="number">0</span>.<span class="number">08</span>i -R -J -Ct.cpt -Bxaf -By+lmm/@. -I -O  --FONT_ANNOT_PRIMARY=<span class="number">7</span>p -K&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line"><span class="built_in">echo</span>  <span class="number">107</span> <span class="number">42</span> d)trend of WPD|  gmt pstext -F+f8p,<span class="number">1</span>,black+jLB -R -J -O -N -Gwhite &gt;&gt;  <span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line">gmt psconvert <span class="variable">%ps%</span>  -A -P -Tf</span><br></pre></td></tr></table></figure>

<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p><img src="/images/jason_wet_global_new.png" alt></p>
<p>大气湿延迟和大气水汽和液态云有关，均值呈现出南高北低的自然特征。在北纬25-35度之间，时间变化（STD）最为剧烈，说明这段区间可能四季分明，不过度干燥，不过分潮湿，适合人类居住（xia che）。变化趋势图表示南北和东西方向一度距离上湿延迟的变化，因为网格的空间单位是度，所以这里一阶导数结果表示一度空间距离上的湿延迟变化量。</p>
<h2 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h2><p><code>blockmean model.dd -As -E</code>中的<code>-As</code>设置输出为<code>STD</code>。如果不做设置，默认输出的是均值。</p>
<p><code>gmt grdmath gridded2_j2_s_re.nc  DDY = slope2.nc</code>中的<code>DDY</code>或者<code>DDX</code>设置一个固定方向的一阶导数计算，因为网格被提前预设为1度，因此计算结果是1度距离上的变化率。<code>grdmath</code>也可以计算二阶导数，使用<code>D2DY2</code>或者<code>D2DX2</code>。</p>
<h2 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h2><p>可以直接小编从RADS数据库中提取的文件model.dd，它是 Jason-2 cycle 1-294的全部模型湿延迟原始数据汇总：<br>model.dd： <a href="https://www.jianguoyun.com/p/DWQl1jsQ2PCQBxjWsYwE" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DWQl1jsQ2PCQBxjWsYwE</a> </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/08/18/distance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/18/distance/" class="post-title-link" itemprop="url">GMT的海岸线空间数据分析功能</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-18 21:27:35" itemprop="dateCreated datePublished" datetime="2021-08-18T21:27:35+08:00">2021-08-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-20 21:44:11" itemprop="dateModified" datetime="2021-08-20T21:44:11+08:00">2021-08-20</time>
              </span>

          
            <span id="/2021/08/18/distance/" class="post-meta-item leancloud_visitors" data-flag-title="GMT的海岸线空间数据分析功能" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/18/distance/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/18/distance/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>下面介绍：使用GMT和海岸线数据绘任意距离的海岸延伸线（如12海里线等）；使用海岸线距离进行站点数据的筛选（如提取沿海50km以内的GNSS点位）。</p>
<h2 id="根据离岸的距离对GNSS站点进行提取"><a href="#根据离岸的距离对GNSS站点进行提取" class="headerlink" title="根据离岸的距离对GNSS站点进行提取"></a>根据离岸的距离对GNSS站点进行提取</h2><p>在利用GNSS水汽对卫星高度计进行湿延迟评估时，需要提取距离海岸线小于50km的站点做比对。这里我们使用GMT快速分析提取数据并绘图展示。</p>
<p>绘图采用的数据主要是中国地震局陆态网、IGS和自然资源部沿海业务化GNSS系统，卫星数据主要是我国的海洋二号以及国外的Jason，绘图数据见文末链接。</p>
<blockquote>
<p>中国陆态网数据和国际IGS数据为共享开放资料。由于政策原因，沿海业务化GNSS资料暂未公开。海洋二号高度计资料和国外高度计资料已全面开放共享。</p>
</blockquote>
<p>绘图任务主要步骤总结为：</p>
<ul>
<li><code>grdmath</code>的<code>LDISTG</code>计算网格点到<code>GSHHG</code>岸线的距离，生成网格文件；</li>
<li><code>grdlandmask</code>分离陆海；</li>
<li><code>grdcontour</code>提取某值的等值线；</li>
<li><code>select</code>依据点位到某等值线的距离筛选站点。</li>
</ul>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><p>下面是windows下的代码：</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">REM             GMT EXAMPLE xxxx</span></span><br><span class="line"><span class="comment">REM             2019-04-14 leiyang@fio.org.cn</span></span><br><span class="line"><span class="comment">REM Purpose:    Using grdmath to show the distance from GSHHG  coastline data</span></span><br><span class="line"><span class="comment">REM</span></span><br><span class="line">gmt gmtset FORMAT_GEO_MAP = dddF MAP_FRAME_WIDTH=<span class="number">2</span>p</span><br><span class="line">gmt gmtset FONT_ANNOT_PRIMARY <span class="number">7</span>p,Helvetica,black FONT_LABEL <span class="number">7</span>p,Helvetica,black </span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> ps=wet.ps</span><br><span class="line"></span><br><span class="line">gmt grdmath -R100/<span class="number">140</span>/<span class="number">15</span>/<span class="number">45</span> -A1000000/<span class="number">0</span>/<span class="number">4</span> -Dc -I10m LDISTG = dist_to_gshhg.nc</span><br><span class="line">gmt grdlandmask -R -Dl -I10m -N1/-<span class="number">1</span> -Gland_mask.nc -V</span><br><span class="line">gmt grdmath dist_to_gshhg.nc land_mask.nc MUL = file.nc</span><br><span class="line">gmt grdsample dist_to_gshhg.nc -R100/<span class="number">140</span>/<span class="number">15</span>/<span class="number">45</span> -I1m -Gfile2.nc</span><br><span class="line"><span class="comment">REM Outut 50km coordinates.</span></span><br><span class="line">gmt grdcontour file2.nc -JM4.<span class="number">5</span>i -R100/<span class="number">140</span>/<span class="number">15</span>/<span class="number">45</span> -C50, -D &gt; out.d50</span><br><span class="line">gmt makecpt -Ccopper -T-<span class="number">0</span>/<span class="number">50</span>/<span class="number">1</span>&gt; t.cpt</span><br><span class="line"></span><br><span class="line">gmt grdimage file2.nc -JM4.<span class="number">5</span>i -R100/<span class="number">130</span>/<span class="number">15</span>/<span class="number">45</span> -P -K -Ct.cpt -t80&gt; <span class="variable">%ps%</span></span><br><span class="line">gmt psxy -R -J out.d50 -W0.<span class="number">4</span>p,green -O -K &gt;&gt;<span class="variable">%ps%</span></span><br><span class="line">gmt pscoast -R -JM4.<span class="number">5</span>i -Dl -A10000/<span class="number">0</span>/<span class="number">1</span> -B5g5 --FONT_TITLE=<span class="number">10</span>p -K -Swhite -W0.<span class="number">1</span>p --MAP_ANNOT_OBLIQUE=<span class="number">45</span> -O -N1&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">REM Begin the sites selection.</span></span><br><span class="line">gmt pscoast -R -M -W -Dc -A10000&gt; coastal.txt</span><br><span class="line">gmt select trc.dat -Lcoastal.txt+d50k -fg &gt; subset.d2</span><br><span class="line"></span><br><span class="line"><span class="comment">REM satellite tracks</span></span><br><span class="line">gmt psxy -R -J ja.dat -W1p,black -O -K -t80&gt;&gt;<span class="variable">%ps%</span></span><br><span class="line">gmt psxy -R -J hy2.dat -W1p,red -O -K -t80&gt;&gt;<span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">REM All CMONOC sites</span></span><br><span class="line">gmt psxy -R -J trc.dat -Sc0.<span class="number">1</span> -Gblack -O -K -t70 &gt;&gt;<span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">REM tide sites</span></span><br><span class="line">gawk "&#123;<span class="built_in">print</span> $<span class="number">3</span>, $<span class="number">4</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, $<span class="number">1</span>&#125;" yh_tide.txt2  &gt;temp.d</span><br><span class="line"><span class="comment">REM Coastal GNSS sites</span></span><br><span class="line">gawk "&#123;<span class="built_in">print</span> $<span class="number">1</span>, $<span class="number">2</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, $<span class="number">4</span>&#125;" gnss.txt &gt;temp.d01</span><br><span class="line">gmt psxy temp.d01  -R  -J  -K -O  -Gblack -St0.<span class="number">05</span>i -t70 &gt;&gt;<span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">REM Plot the selected sites </span></span><br><span class="line">gawk "&#123;<span class="built_in">print</span> $<span class="number">1</span>, $<span class="number">2</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, $<span class="number">4</span>&#125;" gnss2.txt | gmt psxy -R -J -O -Gred -Sc0.<span class="number">08</span>i -K&gt;&gt;<span class="variable">%ps%</span></span><br><span class="line">gmt psxy -R -J subset.d2 -Ss0.<span class="number">15</span> -GDEEPSKYBLUE1 -O -K&gt;&gt;<span class="variable">%ps%</span></span><br><span class="line">gmt psxy -R -J gnss3.txt -Ss0.<span class="number">2</span> -Gred -O -K&gt;&gt;<span class="variable">%ps%</span></span><br><span class="line">gmt psxy -R -J gnss3.txt -Ss0.<span class="number">12</span> -Gblue -O -K &gt;&gt;<span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="number">1</span>.<span class="number">2116450</span>e+<span class="number">02</span>,<span class="number">2</span>.<span class="number">4953600</span>e+<span class="number">01</span> | gmt psxy -R -J -Sa0.<span class="number">2</span> -Gblue -O -K&gt;&gt;<span class="variable">%ps%</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">118</span>.<span class="number">38</span>,<span class="number">24</span>.<span class="number">46</span>  | gmt psxy -R -J -Sa0.<span class="number">2</span> -Gblue -O -K&gt;&gt;<span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line">gawk "!/SDYT/ &amp;&amp; !/SDQD/ &#123;<span class="built_in">print</span> $<span class="number">1</span>, $<span class="number">2</span>, $<span class="number">3</span>&#125;" gnss3.txt | gmt pstext  -R -J -F+f7p,black+jTL -O -K -Gwhite -D0.<span class="number">2</span>/<span class="number">0</span>.<span class="number">1</span>&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line">gawk "/SDYT/ || /SDQD/ &#123;<span class="built_in">print</span> $<span class="number">1</span>, $<span class="number">2</span>, $<span class="number">3</span>&#125;" gnss3.txt | gmt pstext  -R -J -F+f7p,black+jTL -O -K -Gwhite -D-<span class="number">0</span>.<span class="number">5</span>/<span class="number">0</span>.<span class="number">4</span>&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line">gawk "&#123;<span class="built_in">print</span> $<span class="number">1</span>, $<span class="number">2</span>, $<span class="number">4</span>&#125;" gnss2.txt | gmt pstext -R -J -F+f7p,black+jTL -O -K -Gwhite -D0.<span class="number">2</span>/<span class="number">0</span>.<span class="number">1</span>&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">1</span>.<span class="number">2116450</span>e+<span class="number">02</span>,<span class="number">2</span>.<span class="number">4953600</span>e+<span class="number">01</span>,TWTF | gmt pstext -R -J -F+f7p,black+jTL -O -K -Gwhite -D0.<span class="number">2</span>/<span class="number">0</span>.<span class="number">1</span>&gt;&gt; <span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">REM add legend</span></span><br><span class="line"><span class="built_in">echo</span> S <span class="number">0</span>.<span class="number">1</span>i c <span class="number">0</span>.<span class="number">05</span>c black <span class="number">1</span>p,black <span class="number">0</span>.<span class="number">3</span>i Total CMONOC &gt;le.d</span><br><span class="line"><span class="built_in">echo</span> S <span class="number">0</span>.<span class="number">1</span>i s <span class="number">0</span>.<span class="number">15</span>c DEEPSKYBLUE1 .<span class="number">7</span>p,DEEPSKYBLUE1 <span class="number">0</span>.<span class="number">3</span>i Coastal CMONOC &gt;&gt;le.d</span><br><span class="line"><span class="built_in">echo</span> S <span class="number">0</span>.<span class="number">1</span>i s <span class="number">0</span>.<span class="number">2</span>c blue <span class="number">0</span>.<span class="number">7</span>p,red <span class="number">0</span>.<span class="number">3</span>i Selected CMONOC &gt;&gt;le.d</span><br><span class="line"><span class="built_in">echo</span> S <span class="number">0</span>.<span class="number">1</span>i t <span class="number">0</span>.<span class="number">05</span>i gray - <span class="number">0</span>.<span class="number">3</span>i Costal CGN&gt;&gt;le.d</span><br><span class="line"><span class="built_in">echo</span> S <span class="number">0</span>.<span class="number">1</span>i c <span class="number">0</span>.<span class="number">08</span>i  red - <span class="number">0</span>.<span class="number">3</span>i Selected CGN &gt;&gt;le.d</span><br><span class="line"><span class="built_in">echo</span> S <span class="number">0</span>.<span class="number">1</span>i a <span class="number">0</span>.<span class="number">15</span>c blue <span class="number">0</span>.<span class="number">7</span>p,blue <span class="number">0</span>.<span class="number">3</span>i IGS &gt;&gt;le.d</span><br><span class="line">gmt pslegend -D+w1.<span class="number">6</span>i+jBL+o2.<span class="number">8</span>i/<span class="number">0</span>.<span class="number">2</span>i -R -J -O -F+p1p+gwhite --FONT_ANNOT_PRIMARY=<span class="number">7</span>p le.d &gt;&gt; <span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">REM Creat kml file to be loaded in Google earth.</span></span><br><span class="line">gmt <span class="number">2</span>kml subset.d2 -Gred+f -<span class="built_in">Fs</span> &gt; mypoints.kml</span><br><span class="line"></span><br><span class="line">gmt psconvert <span class="variable">%ps%</span>  -A -P -Tf</span><br></pre></td></tr></table></figure>


<h2 id="200公里线绘制"><a href="#200公里线绘制" class="headerlink" title="200公里线绘制"></a>200公里线绘制</h2><p>使用GMT岸线绘制领海线、专属经济区等政治界线比较危险，因为上面的数据分析使用了低分辨率的岸线，并忽略了很多海岛。这里选择绘制距离大陆200km的等值线。</p>
<p>具体做法是对<code>grdcontour</code>的<code>-C</code>做修改，设置为<code>-C200,</code>。其他距离可以通过设定<code>-C</code>后面的数值实现。</p>
<h4 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gmt grdcontour file2.nc -JM4<span class="number">.5</span>i -R100/<span class="number">140</span>/<span class="number">15</span>/<span class="number">45</span> -C200, -D &gt; <span class="keyword">out</span>.d50</span><br><span class="line">gmt makecpt -Ccopper -T<span class="number">-0</span>/<span class="number">200</span>/<span class="number">10</span>&gt; t.cpt</span><br><span class="line"></span><br><span class="line">gmt grdimage file2.nc -JM4<span class="number">.5</span>i -R100/<span class="number">130</span>/<span class="number">15</span>/<span class="number">45</span> -P -K -Ct.cpt &gt; %ps%</span><br><span class="line">gmt psxy -R -J <span class="keyword">out</span>.d50 -W0<span class="number">.4</span>p,green -O -K &gt;&gt;%ps%</span><br><span class="line">gmt pscoast -R -JM4<span class="number">.5</span>i -Dl -A10000/<span class="number">0</span>/<span class="number">1</span> -B5g5 --FONT_TITLE=<span class="number">10</span>p -Gwhite -W0<span class="number">.1</span>p --MAP_ANNOT_OBLIQUE=<span class="number">45</span> -O -N1&gt;&gt; %ps%</span><br></pre></td></tr></table></figure>

<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p><img src="/images/gnss_sites.png" alt></p>
<center>距离岸线50km的GNSS站点分布</center>


<p><img src="/images/200.png" alt></p>
<center>距离岸线200km的等值线</center>

<h2 id="坐标文件"><a href="#坐标文件" class="headerlink" title="坐标文件"></a>坐标文件</h2><p>陆态网GNSS站点坐标<code>trc.dat</code>：<a href="https://www.jianguoyun.com/p/DZNDa0kQ2PCQBxih5ogE" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DZNDa0kQ2PCQBxih5ogE</a><br>HY-2高度计卫星轨迹<code>hy2.dat</code>：<a href="https://www.jianguoyun.com/p/DZvezRQQ2PCQBxim5ogE" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DZvezRQQ2PCQBxim5ogE</a><br>Jason-2高度计轨迹<code>ja.dat</code>：<a href="https://www.jianguoyun.com/p/Dfulo24Q2PCQBxiq5ogE" target="_blank" rel="noopener">https://www.jianguoyun.com/p/Dfulo24Q2PCQBxiq5ogE</a><br>沿海验潮站概略坐标<code>yh_tide.txt2</code>：<a href="https://www.jianguoyun.com/p/DaYSJ8kQ2PCQBxis5ogE" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DaYSJ8kQ2PCQBxis5ogE</a><br>沿海GNSS业务化系统概略坐标<code>gnss.txt</code>：<a href="https://www.jianguoyun.com/p/DWhRCEUQ2PCQBxiv5ogE" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DWhRCEUQ2PCQBxiv5ogE</a><br>绘图用的个别GNSS站点：<a href="https://www.jianguoyun.com/p/DdUqCG4Q2PCQBxi05ogE；" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DdUqCG4Q2PCQBxi05ogE；</a> <a href="https://www.jianguoyun.com/p/DcBuNBsQ2PCQBxi15ogE" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DcBuNBsQ2PCQBxi15ogE</a> </p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gmt grdmath -R100/<span class="number">140</span>/<span class="number">15</span>/<span class="number">45</span> -A1000000/<span class="number">0</span>/<span class="number">4</span> -Dc -I10m LDISTG = dist_to_gshhg.nc</span><br></pre></td></tr></table></figure>

<p>这一行代码中的<code>-Dc</code>表示低分辨率海岸线，如果计算的区域比较大，使用低分辨率岸线可以加快时间。不然，计算速度可能非常慢。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/08/07/arctic-proj/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/07/arctic-proj/" class="post-title-link" itemprop="url">GMT极地投影</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-07 08:35:30" itemprop="dateCreated datePublished" datetime="2021-08-07T08:35:30+08:00">2021-08-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-08 22:25:22" itemprop="dateModified" datetime="2021-08-08T22:25:22+08:00">2021-08-08</time>
              </span>

          
            <span id="/2021/08/07/arctic-proj/" class="post-meta-item leancloud_visitors" data-flag-title="GMT极地投影" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/07/arctic-proj/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/07/arctic-proj/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>GMT的地图投影分成了4类，分别是圆锥投影、方位投影、圆柱投影和混合投影，共计有30多种投影方法。地球的极地区域多使用极地方位投影。</p>
<h2 id="极地方位投影-Polar-Stereographic-Map"><a href="#极地方位投影-Polar-Stereographic-Map" class="headerlink" title="极地方位投影 Polar Stereographic Map"></a>极地方位投影 Polar Stereographic Map</h2><p>方位投影特点是保持角度无变形，面积和距离有变形，又称为等角投影。方位投影多用于单个半球以及极地区域地图，当用于极地时成为<code>Polar Stereographic Map</code>，一般区域则成为<code>Stereographic Map</code>。</p>
<p><img src="/images/bianxing.jpg" alt></p>
<center>距离投影中心点越远，变形越大。</center>

<p>更多信息：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//m</span>anifold.net<span class="regexp">/doc/m</span>fd9<span class="regexp">/polar_stereographic_projection.htm</span></span><br></pre></td></tr></table></figure>

<p>下面使用一行代码绘制北极区域地图。如果需要叠加其他点、线等要素，则使用对应的命令追加即可。</p>
<h3 id="投影中心在北极点，展示极地区域"><a href="#投影中心在北极点，展示极地区域" class="headerlink" title="投影中心在北极点，展示极地区域"></a>投影中心在北极点，展示极地区域</h3><p>这种地图特点是边界为圆形，以北极点为中心，各纬圈方向变形均匀对称。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gmt pscoast -R0/<span class="number">360</span>/<span class="number">60</span>/<span class="number">90</span> -JS0/<span class="number">90</span>/<span class="number">10</span>c -Bag -Dl -A25000 -Groyalblue -Sseashell &gt; GMT_stereographic_polar1.ps</span><br></pre></td></tr></table></figure>

<p><img src="/images/GMT_stereographic_polar1.png" alt></p>
<h3 id="投影中心点偏移，不在北极点"><a href="#投影中心点偏移，不在北极点" class="headerlink" title="投影中心点偏移，不在北极点"></a>投影中心点偏移，不在北极点</h3><p>通过设置<code>-JSlon/lat/size</code>中的<code>lon/lat</code>调整投影中心点。地图仍旧是圆形边界，但是中心点已经不是北极点，投影的变形也不具备对称特点。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gmt pscoast -R120/<span class="number">260</span>/<span class="number">10</span>/<span class="number">75</span> -JS190/<span class="number">70</span>/<span class="number">10</span>c -Bag -Dl -A25000 -Groyalblue -Sseashell &gt; GMT_stereographic_polar2.ps</span><br></pre></td></tr></table></figure>

<p><img src="/images/GMT_stereographic_polar2.png" alt></p>
<h3 id="投影中心点偏移，非全极效果"><a href="#投影中心点偏移，非全极效果" class="headerlink" title="投影中心点偏移，非全极效果"></a>投影中心点偏移，非全极效果</h3><p>设置<code>-JSlon/lat/size</code>中的<code>lat</code>为90。但是<code>-R</code>的坐标范围是扇形区域，绘制出的地图也是扇形。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gmt pscoast -R100/<span class="number">260</span>/<span class="number">10</span>/<span class="number">75</span> -JS180/<span class="number">90</span>/<span class="number">10</span>c -Bag -Dl -A25000 -Groyalblue -Sseashell &gt; GMT_stereographic_polar3.ps</span><br></pre></td></tr></table></figure>

<p><img src="/images/GMT_stereographic_polar3.png" alt></p>
<h3 id="矩形地图展示全极区"><a href="#矩形地图展示全极区" class="headerlink" title="矩形地图展示全极区"></a>矩形地图展示全极区</h3><p>通过设置<code>-R-45/50/135/50r</code>，以左下角和右上角坐标为边界，并且加<code>+r</code>。这种地图也较为常用，但是GMT绘制技巧埋藏的比较深，同样是<code>JS</code>投影，改变的仅仅是坐标边界。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gmt pscoast -R<span class="number">-45</span>/<span class="number">50</span>/<span class="number">135</span>/<span class="number">50</span>r -JS0/<span class="number">90</span>/<span class="number">11</span>c -Ba30g30 -Dl -A25000 -Wthinnest -Groyalblue -Sseashell &gt; GMT_stereographic_rect.ps</span><br></pre></td></tr></table></figure>

<p><img src="/images/GMT_stereographic_rect.png" alt></p>
<h3 id="竖版地图"><a href="#竖版地图" class="headerlink" title="竖版地图"></a>竖版地图</h3><p>竖版地图对我们的海洋观念影响很大，在国内也一度热炒。GMT中有一种通用墨卡托全球投影（Transverse Mercator projection），可以将南北极同时绘制。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gmt pscoast -R0/<span class="number">360</span>/<span class="number">-80</span>/<span class="number">80</span> -JT180/<span class="number">-30</span>/<span class="number">4</span>i -A25000 -Groyalblue -Sseashell  -Bg30a30 &gt;TMcontours.ps</span><br></pre></td></tr></table></figure>

<p><img src="/images/TMcontours34.png" alt></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/07/31/beiji2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/31/beiji2/" class="post-title-link" itemprop="url">北极问题：治理进程、态势评估及应对之策</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-07-31 18:06:22 / 修改时间：18:26:57" itemprop="dateCreated datePublished" datetime="2021-07-31T18:06:22+08:00">2021-07-31</time>
            </span>

          
            <span id="/2021/07/31/beiji2/" class="post-meta-item leancloud_visitors" data-flag-title="北极问题：治理进程、态势评估及应对之策" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/07/31/beiji2/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/07/31/beiji2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>文章来源：李振福, 李诗悦. 北极问题：治理进程、态势评估及应对之策[J]. 俄罗斯学刊, 2021, 11(03): 5–28.</p>
</blockquote>
<blockquote>
<p>作者简介:李振福，大连海事大学交通运输工程学院教授、博士生导师，大连海事大学极地海事研究中心主任，大连海事大学专业学位教育学院院长；李诗悦，吉林大学东北亚研究院博士研究生。</p>
</blockquote>
<blockquote>
<p>【内容摘要】北极问题在复杂多变的国际形势下愈发受到世界各主要相关国家的关注。面对日趋复杂的全球北极问题，以北极国家和北极理事会为主导的传统北极治理模式已显得捉襟见肘，该领域的全球治理也不免出现“失灵”的局面。北极问题治理分为治理初始阶段、治理过渡阶段和以2007 年俄罗斯“北冰洋底插旗事件”为起点至今的激烈角逐阶段。进而，北极问题治理完成了从封闭到开放、从区域向全球转变的发展过程。目前北极问题已从单纯的气候环境领域扩展到航线、资源、能源、主权、科考等更大范围的发展过程；既有航线主权争议、规则之争，也有北极理事会的作用等方面的问题。中国参与北极事务的深度治理可从以下方面展开：推动北极治理机制的完善、积极应对地缘政治威胁、以中俄合作为关键切入点、推动建设北极命运共同体等。</p>
</blockquote>
<p>近年来，随着全球气候变暖的加剧，北冰洋海冰的融化速度和范围也在逐渐增大，致使北方海航道的商业化步伐逐渐加快，北极能源的大规模开发也逐渐成为可能。因此，北极国家陆续出台或更新本国与北极地区相关的国家战略，进一步加强对北极的争夺和控制。其他有关国家也积极出台北极相关政策，谋求在北极地区的存在。从战略位置来看，北极位于地球最北端，北方海航道是连接欧、亚、美三大洲的最短航线，也是连接北太平洋与北大西洋的重要交通通道，其军事价值和通道战略价值极其重要。从资源储量来看，北极地区蕴藏极其丰富的油气资源，被誉为“中东的继承者”。同时，北极煤炭资源总体储量也极其丰富，占全球煤炭总储量的四分之一。在世界资源日益短缺的形势下，北极在资源争夺中的重要性不言而喻。与此同时，北冰洋海冰逐渐消融，北极地区的航道价值也日益显现。</p>
<p>自然环境的不断变化和人类北极活动的增加导致北极问题越来越复杂，影响范围越来越广泛，日渐呈现全球化的发展态势。北极问题作为国际公共问题，具有公共性、全球性、综合性等特点，其有效治理对北极和全球发展来说都至关重要。以北极国家和北极理事会为主导的传统北极治理模式显得能力不足，全球北极问题治理时常出现“失灵”现象，对世界地缘政治和地缘经济方面带来不利影响。</p>
<h1 id="一、北极问题治理的发展进程"><a href="#一、北极问题治理的发展进程" class="headerlink" title="一、北极问题治理的发展进程"></a>一、北极问题治理的发展进程</h1><p>严格讲，人类在北极活动的时间仅200 多年，而对于北极问题的治理，是从二战后才开始的。自第二次世界大战开始，北极地区的军事战略地位凸显，北极也成为二战的战场之一。冷战结束后，北极国家及其他相关国家在北极地区的开发、科考等活动不断增强，由此引发了北极资源、领土归属等问题，北极也逐渐从旧地缘政治的边缘踏入到全球治理的中心区域a。</p>
<h2 id="（一）北极问题治理的发展阶段"><a href="#（一）北极问题治理的发展阶段" class="headerlink" title="（一）北极问题治理的发展阶段"></a>（一）北极问题治理的发展阶段</h2><p>北极问题治理是从冷战开始之后逐渐形成的，其演化过程大致可以分为以下几个阶段。</p>
<p>第一，北极问题治理初始阶段（冷战开始至20世纪80年代）。这一阶段，北极问题治理主要是作为一项地区性问题，更多被国际环境保护倡议运动所关注，不在国际地区争端的主要关注范围a。20 世纪50 年代，加拿大曾暂短宣布对北极拥有主权，但并未被国际社会接受，遭到其他国家的一致反对。另外，因为北极问题牵涉的利益冲突还不够敏感，在此后的相当长一段时间，北极问题治理的重点体现在安全领域，呈现一种相对平静的状态。</p>
<p>第二，北极问题治理的过渡阶段（20 世纪80 年代末至2007 年）。这一阶段的基调由苏联领导人戈尔巴乔夫1987 年的“摩尔曼斯克讲话”所奠定，讲话标志着北极问题治理范畴的重大转变——从单一的安全治理开始向内容更为广泛的多维利用和规制方向转变，重点为环境和原住民问题。这一阶段最重要的节点性事件是北极理事会的成立。开始时仅有北极圈内8 国和北极相关组织作为成员参与北极事务，其后，法国、荷兰、英国等国及多个国际组织进入北极理事会。越来越多的北极域外国家或地区以及国际组织获得参与北极事务的机会，并积极参与到北极事务处理的过程中，北极事务的参与者与北极治理主体不再局限于北极8 国，呈现多元化的发展趋势。此外，为约束和规范各参与者的行为，实现北极问题治理的规范化，大量有关北极治理的法律法规逐渐出现。这一阶段，在北极理事会的框架下，北极问题治理机制也在逐渐形成。</p>
<p>第三，以2007 年俄罗斯“北冰洋底插旗事件”为起点至今的激烈角逐阶段。“北冰洋底插旗事件”标志着北极问题治理的范围从上一个阶段的生态环境和原住民等单向度问题，转向更高层级、更加敏感的高政治议题b。“北冰洋海底插旗事件”之后，北极问题治理范围进一步扩大，但北极国家和北极理事会在北极问题治理中仍处于主导地位，北极域外国家和国际组织在北极地区的活动受到严格限制。伴随各国对北极的“暴风式”开发，北极问题日渐复杂，辐射范围日益广泛，北极治理对象也逐渐多样化，北极问题逐渐“出圈”，全球北极问题呈现出越来越强的跨区域性和国际公共性特征，有关北极问题治理的法律法规也更加具体规范，日渐形成了软硬法混合的合作治理模式。北极问题治理完成了从封闭到开放、从区域向全球转变的发展过程。</p>
<h2 id="（二）北极问题治理的发展现状"><a href="#（二）北极问题治理的发展现状" class="headerlink" title="（二）北极问题治理的发展现状"></a>（二）北极问题治理的发展现状</h2><p>北极问题治理的主要目的在于促进这一地区的可持续发展，并增进全人类的共同福祉。随着北极的冰雪消融，在北极航线航行商业化、能源及资源开发利用、渔业和旅游业不断兴起等经济发展的强烈刺激下，主权国家、国际组织、相关行业和跨国企业等对北极的兴趣愈加浓厚，这使得北极与世界主要地区的地缘经济及地缘政治联系逐渐加强a，也令北极问题治理的压力与日俱增，需要形成完善的有效治理机制。</p>
<p>面对越来越严重的北极问题治理挑战，相关国际组织、原住民组织、跨国企业、非政府组织以及行为体政府等扮演着越来越重要的角色，但毋庸置疑的是主权国家在目前北极问题治理中依然处于主导性地位。需要指出的是，北极问题治理是有一定机制基础的，包括《联合国海洋法公约》和《联合国气候变化框架公约》等全球性问题治理框架，北极理事会和巴伦支海欧洲北极理事会等组织的区域性框架协议，以及《北极冰封水域船只航行指南》等航行规范等。</p>
<p>现有机制安排在北极问题治理上存在着一些明显不足：</p>
<p>第一，《联合国海洋法公约》不是针对北极及北冰洋的特征和诉求制定的，更多体现的是国际海洋法的一般性规定，很难适用于北极地区的能源资源开采、航线开发利用、极地科学考察、渔业开发、生态环境保护和军事化冲突等特殊问题。《联合国海洋法公约》关于200 海里外大陆架的规定更是可能加剧北极争夺。</p>
<p>第二，多边环境与气候框架公约对北极特殊的环境和气候问题缺乏针对性。北极生态环境极其脆弱和敏感，一旦遭受损害，极难恢复，北极地区的气候和环境需要更为严格的预防和保护措施。</p>
<p>第三，美国并未参加《联合国海洋法公约》《关于持久性有机污染物的斯德哥尔摩公约》《京都议定书》等国际公约，这使得北极问题治理的相关国际法在北极的适用性和权威性严重受损。国际海事组织、北极理事会所制定的没有法律约束力的“软法性”文件执行弹性较大，难以保证达到预期效果。</p>
<p>第四，北极理事会等现有区域治理机制主要解释和处理科研、环保及可持续发展问题，缺乏处理政治、军事问题的功能和机制。现有相关区域机制也无法解决跨区域的环境、气候问题以及航运、能源等具有全球特征的问题。</p>
<p>总之，北极地区目前严重缺乏一种具有更大适用性和支配性的政治和法律机制，现有法律机制不能满足北极区域总体可持续发展的需求，也无法协调各国在北极能源资源以及其他领域的冲突和矛盾。</p>
<h2 id="（三）北极问题治理的发展趋势"><a href="#（三）北极问题治理的发展趋势" class="headerlink" title="（三）北极问题治理的发展趋势"></a>（三）北极问题治理的发展趋势</h2><p>从北极问题治理的各个发展阶段可以看出，北极问题治理总体围绕两方面展开：一是北极的经济性开发，其中包括北方海航道开发和北极资源开发；二是北极秩序维护，重点针对的是北极国家主权纠纷、军事部署和北极环境保护。而未来的北极问题治理也将以此为基础进行拓展补充，并根据各国北极发展战略体现出相应的侧重。</p>
<p>在北极地区的经济开发方面，首要的是北极航线的开发问题。从航运距离角度来看，北方海航道较传统航线具有更高的经济性，然而综合分析航行风险、航行成本等因素，目前北方海航道整体经济性远不如传统航线。若要实现其经济价值，只有实现班轮运输，需要进一步降低航道的航行风险。但从目前的发展状况来看，实现班轮运输还需很长一段时间的技术积累和设施供给。各国或地区均在开展北极资源开发，但到目前为止，北极的石油生产活动主要是在陆地或靠近陆地的近海，而实际上北极石油勘探重点应在远深海地区，因技术所限，北极远深海油井的开发难度较大，短时间内难以成行。因此，虽然潜力巨大，但是由于开发难度较大、开发时间较短等原因，北极经济性的实现还存在一定的不确定性，未来北极经济的开发也将在很长一段时间内继续以基础建设为主，以探索的姿态进行。</p>
<p>在北极秩序方面，尽管随着海冰融化，北极利益凸显，北极各国对北极的竞争将愈演愈烈，但是更多的非北极国家在北极问题上开始发出自己的声音，并积极参与进来，通过国际组织合作来维持北极的和平局面；而北极国家一方面需要与他国合作以实现更高效的北极开发，另一方面又担忧自身的固有利益受损。因此，北极的国际治理环境将长期处于一种矛盾状态。北极问题治理秩序环境是与北极经济开发相辅相成的，同时又先其一步，未来随着北极庞大的经济价值不断被确认，北极问题治理秩序将最先受到影响并产生效应。</p>
<h1 id="二、北极问题态势评估"><a href="#二、北极问题态势评估" class="headerlink" title="二、北极问题态势评估"></a>二、北极问题态势评估</h1><p>目前，北极问题已从单纯的气候环境领域扩展到航线、资源、能源、主权、科考等更大范围，立体化的北极问题构成需要从多角度来评估其发展态势。</p>
<h2 id="（一）航线主权争议：俄美加三国的利益诉求和做法明显不同"><a href="#（一）航线主权争议：俄美加三国的利益诉求和做法明显不同" class="headerlink" title="（一）航线主权争议：俄美加三国的利益诉求和做法明显不同"></a>（一）航线主权争议：俄美加三国的利益诉求和做法明显不同</h2><p>北极问题的首要矛盾是北极海域的主权问题。北极海域分为公海和北极沿岸国管辖海域，北极航线贯穿其中，一旦进行商业航行便会牵扯到一系列主权问题，因此北极海域的主权问题也多以航线主权博弈的形式展开。</p>
<p><code>北极目前可利用的航线分为东北航线和西北航线两部分</code>。关于东北航线，俄罗斯在本国的北方海航道管理上，政策不断开放，管制不断放松，总体来看开放态势良好，然而依旧具有较高的商业垄断性，无论从地理位置、历史发展还是国际法律规定方面看，俄罗斯对于整个北方海航道的主权把控都是毋庸置疑的，然而也正是这种绝对性，在某种程度上限制了东北航线的商业开发。在俄罗斯联邦成立初期，北方海航道主要作为俄罗斯国内的海运航线使用，仅限于能源资源运输和极地科学考察。直到1999 年4 月30 日俄罗斯颁布《俄罗斯商业航运法》，情况才有所改变，北方海航道的商业航行开始适度放开。2001年俄罗斯颁布的《俄罗斯联邦至2020年期间的海洋学说》提出，包括外国人的有关承运人，均可以平等地进入该航线并享受破冰服务a。2013 年1 月17 日俄罗斯联邦交通部批准的《北方海航道水域航行规则》，对在北方海航道海域航行的船舶提出了较详细的要求和规范，将破冰船强制引航制度改变为许可证制度，并制定了一系列的独立航行许可条件。要求独立航行船舶需向北方海航道管理局提交许可证申请书，管理部门要严格审查提交的船舶冰级等信息，检查船舶是否存在违反有关航行安全规定和污染海洋环境等方面的情况，船舶申请破冰船提供破冰服务后，仅能由悬挂俄罗斯国旗并在该海域被授权的破冰船执行援助业务；要求冰区引航员必须为俄罗斯公民等。尽管近10 年来俄罗斯在东北航线上对外寻求合作开发的诉求愈发强烈，但在其巨大商业价值下，俄罗斯一直采取非常谨慎的开放态度，希望为本国谋求更多的利益。在自相矛盾的发展战略下，俄罗斯北极沿岸落后的基础设施建设与强制交纳的高额破冰引航费用，成为影响东北航线发展的主要制约因素。</p>
<p>关于西北航线，加拿大一直认为属于其主权范围，但这一点在国际社会一直存有争议。由于北极环境变化带来的经济利益凸显，以及北极治理机制的缺失，加拿大早期宣称的在北极的主权和主权权利主张时常受到威胁。虽然多数国家也都默认遵循加拿大的管理制度，以求得顺利通行，但仍有以美国为主的国家利用加拿大传统内水的国际法律界定模糊对加拿大西北航线治理设置障碍。直至美加达成《极地合作协议》情况才有所好转，协议允许美国破冰船通航西北航线。但美国破冰船由隶属于国土安全部的美国海岸警卫队指挥，加拿大破冰船由国家渔业与海洋部管理，因此，加拿大认为自己的北极主权受到长期的潜在威胁。因为国家综合实力较弱，无法与美俄等大国抗争，加拿大在北极战略上采取从低政治领域涉入再逐渐成为该领域引领者的策略，扮演各种多边会谈的积极组织者和支持者，引导制定相关规范以提升话语权，同时对于北极主权问题保持高度的政治敏感性。另外，加拿大一直以保护自身海岸和北极环境为由，依照《北极水域污染防治法》对他国在北极航行的船舶规格进行严格限制。西北航线目前由于航行条件，航运安全尚不能得到保障，因此短时间内无法实现商业通航，而一旦满足通航条件，会极大缩减美国东部至东亚的航运距离，美国将成为最大受益方，届时美国难免会重新采取强硬措施对加拿大施压以谋求在西北航线上更多的经济利益，而未来有关北方海航道主权争议的问题也将主要围绕西北航线展开。</p>
<h2 id="（二）规则之争：很难形成各方认同的规则和条约"><a href="#（二）规则之争：很难形成各方认同的规则和条约" class="headerlink" title="（二）规则之争：很难形成各方认同的规则和条约"></a>（二）规则之争：很难形成各方认同的规则和条约</h2><p>北极地区的海洋争端问题通常涉及国际条约法、国际组织法以及国际法的其他部门法。一直以来，北极公海海域的专属法律制定存在众多难题。北方海航道涉及公海、沿岸国专属经济区、沿岸国领海等，加之北极资源与航线开发经济价值较大，影响全球的经济发展方向，因此各国始终没有制定如《南极条约》这种系统完整且适用性强的国际公约。目前，仅以北极理事会为主要平台，各类北极组织在各领域统筹和协调各国在北极地区的活动，并根据《联合国海洋法公约》和北极国家联合制定的多边层面的各类条约（如《国际北极科学委员会章程》等）对北极问题进行治理。《联合国海洋法公约》并不是专门针对北极地区而制定的特定区域国际公约，因而其中的相关规则很难适应北极地区的具体情况。虽如此，但因为没有其他国际法可以遵循，目前只能暂时参照《联合国海洋法公约》体系下的基本原则和规范来处置北极地区的海洋法律问题，迫切需要北极相关主体尽快制定出一整套具有北极地区特色并专门针对北极地区具体情况的规范性区域性国际法律体系。</p>
<p>《联合国海洋法公约》规定，主权国家将距其领海基线200海里的范围划为大陆架，并在此范围内行使主权；如果一个国家能提供200海里外的大陆架是其陆地领土的自然延伸的地理证据，大陆架可以延伸至200海里之外。<code>但由于《联合国海洋法公约》相关法律机制存在一定滞后性，不能有效适应当前海洋勘测科技的发展，海床底部大陆架部分的生物性和非生物性资源的归属问题得不到解决，北极地区的利益规则之争不断激化，北极海域的外大陆架划界问题所涉利益冲突范围不断扩大，不再仅仅是个别国家间的利益博弈，而是需要从整个国际社会利益的角度去协调</code>。</p>
<p>此外，尽管《联合国海洋法公约》后续更改了一些规则希望美国加入，但遭美国拒绝。与此同时，美国又是国际海事组织的理事国和北极理事会的创始成员国，在享受国际法带来的利益的同时，又因自身没有加入《联合国海洋法公约》而无须受其限制。也正因为美国的这种行为，在《联合国海洋法公约》框架下制定的国际秩序的执行力和强制作用受限，一旦发生因规则不同而引发的矛盾，现有北极治理机制很难保护《联合国海洋法公约》缔约国的正当利益。</p>
<p>而若参考《南极条约》制定《北极条约》，同样存在许多难以解决的问题。《南极条约》制定于南极大规模开发之前，且南极处于孤立状态，不存在主权界限，而北极开发早已成为世界相关国家的战略发展方向，北极主权问题却一直未获共识，制定《北极条约》极易因影响他国的北极利益而遭反对。2008年丹麦、美国、俄罗斯、加拿大和挪威五国签署的《伊鲁利萨特宣言》声明，无须制定新条约来对北极环境进行管理。与此同时，北极是军事战略要地，从美苏冷战时起，北极海域的军事设施建设从未间断，以美国、俄罗斯和加拿大为主的北极国家长期在北极地区进行军事投入。在上述条件下制定新条约的可能性不大。</p>
<h2 id="（三）北极理事会：充满权力博弈和不确定性"><a href="#（三）北极理事会：充满权力博弈和不确定性" class="headerlink" title="（三）北极理事会：充满权力博弈和不确定性"></a>（三）北极理事会：充满权力博弈和不确定性</h2><p>北极理事会，也称北极议会、北极委员会和北极协会等。北极理事会于1996年在加拿大渥太华成立，是由美国、加拿大、俄罗斯等领土处于北极圈以内的8个国家作为常任理事国的政府间论坛，其宗旨是保护北极地区的生态环境并促进该地区的经济、社会可持续发展。北极理事会主席国采取轮值制，由8 个常任理事国轮流担任，任期2年。北极理事会规定，轮值主席国在其任期内可以根据需要提出自己关注的议题和计划。北极理事会对于轮值主席国利益的迁就，使北极理事会提出的长期计划目标一般无法达成。</p>
<p>2011 年5 月，北极理事会召开努克会议，对非北极国家在北极理事会中的责任和权利进行了明确的规定：非北极国家只能申请北极理事会观察员国，并要交纳高额会费。即使这样，非北极国家在北极理事会中也只有提议权，没有投票权。这对非北极国家的北极事务参与是极大的限制，北极地区事务“私物化”倾向愈加显著。非北极国家多有自己的北极政策或北极定位，但北极国家在北极理事会中的一致排他性，令非北极国家的北极政策很难真正实施。然而，北极理事会作为处理北极事务的最重要机构，也是非北极国家参与北极事务的几乎唯一途径，因此，非北极国家只能通过获取观察员国身份得到北极国家的最大程度认可。2013 年5 月15 日，中国与意大利、印度、日本、韩国和新加坡等国一起成为北极理事会正式观察员国。</p>
<p>从治理成效来看，北极理事会对北极区域的治理有一定效果，如北极理事会获诺贝尔和平奖提名，体现了北极理事会的积极作用。获提名的主要原因在于，现阶段北极理事会的政策着力点是各国都能接受和认可的北极环境保护和可持续发展问题，并且采取的相关措施比较严格。面对北极问题的“强演化”趋势，北极理事会的“私物化”性质会越来越限制其处理北极事务的灵活性。对于非北极国家加入北极理事会等问题，北极8 国也反应不一：美国比较欢迎观察员国积极参与北极事务；瑞典、丹麦、芬兰、挪威和冰岛等国对于新成员的加入报以谨慎的欢迎态度c；俄罗斯在新增观察员国的问题上选择较为消极的态度，主要是不想让非北极国家对其北极地位带来负面影响，进而坚决否决印度的扩大观察员国权利提案；加拿大虽然欢迎合作，但对于非北极国家加入北极理事会等问题表现得更加谨慎。因此，北极理事会的作用有限，加上其固守“半闭关”政策，在北极问题的有效解决上，其价值和作用并不乐观。</p>
<h2 id="（四）航运发展：航线利用和生态保护的两难处境"><a href="#（四）航运发展：航线利用和生态保护的两难处境" class="headerlink" title="（四）航运发展：航线利用和生态保护的两难处境"></a>（四）航运发展：航线利用和生态保护的两难处境</h2><p>进入21 世纪以来，北极升温的幅度不断增大。北极的融冰季节一般从6 月份开始至8 月份结束。2019 年7 月30 日至8 月3 日，北极格陵兰岛90% 以上的表层融化，融冰达550 亿吨a，融冰规模超过以往。历史资料表明，北极冰川每年都会自然融化，但大多数科学家认为，2019年的这次大面积冰融应该为人类活动导致。因此，目前保护北极生态环境确实必要而又紧迫。与此同时，赫伯罗特、达飞、地中海航运等世界著名海运公司表示，<code>拒绝将北极的西北航线或东北航线作为航运路线</code>。这些公司的理由是，在海运过程中碳基化石燃料燃烧产生的颗粒会加剧全球变暖，危害全球生态系统。</p>
<p>这三家世界性海运公司的表态折射出两个问题：一是目前北方海航道运输的经济效益尚不显著，或者说还不具备经济可行性；二是北方海航道运输的经济价值和北极生态之间的矛盾是不争的事实。世界经济最发达的国家大多集中在北半球高纬度地区，北方海航道是连接这些经济发达区域的更为便捷的通道，其重要性不言而喻。北方海航道的进一步开通，会使地球中路战略地位下降，北极地区战略地位大大提升，最终致使世界航运重心向北极方向转移，世界格局也会因此而改变。中国海运公司虽然没有明确表示使用北方海航道，但2018 年1 月发布的《中国的北极政策》白皮书表示，中国将着力促进北极的可持续发展，愿依托北方海航道的开发利用，与相关各方共建“冰上丝绸之路”。赫伯罗特等海运公司拒绝使用北方海航道运输，可能会对中国北极航行产生负面影响。最令人担心的是，赫伯罗特等海运公司的表态可能会使北方海航线政治化，<code>北极国家可能会以生态安全问题为由，阻止包括中国在内的各国航运公司使用北方海航道，北方海航道的开发利用受到的限制不可估量，北极问题的治理也会遭遇较大障碍。</code></p>
<p>（五）能源资源：北极地缘政治角逐的新领域<br>…</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/07/31/beiji/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/31/beiji/" class="post-title-link" itemprop="url">俄罗斯第五军区的组建动因及战略任务</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-07-31 17:32:53 / 修改时间：18:28:30" itemprop="dateCreated datePublished" datetime="2021-07-31T17:32:53+08:00">2021-07-31</time>
            </span>

          
            <span id="/2021/07/31/beiji/" class="post-meta-item leancloud_visitors" data-flag-title="俄罗斯第五军区的组建动因及战略任务" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/07/31/beiji/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/07/31/beiji/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>文章来源：安洪若, 董达飞. 俄罗斯第五军区的组建动因及战略任务[J]. 飞航导弹, 2021(05): 61–65.</p>
</blockquote>
<blockquote>
<p>摘要：2021年1月1日起，俄罗斯北方舰队升级为第五军区，旨在进一步强化俄罗斯的北极军事实力、维护其北极的战略利益。从北极地区竞争态势、北约东扩对俄影响、北极地区军事安全威胁、俄军优化指挥层级和强化海军建设的内在驱动共5个方面剖析了俄第五军区的组建动因。从常规军事力量、战略核力量、制定作战想定和开发北极航道4个方面分析了俄组建第五军区的主要战略任务。并结合其组建，给出几点启示。</p>
</blockquote>
<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>2020年6月，俄罗斯总统普京签署第374号总统令［1］，正式宣布自2021年1月1日起，俄北方舰队独立为军事行政单位，正式成为继中央军区、西部军区、东部军区、南部军区后的第五军区，其辖区包括科米共和国、阿尔汉斯克州、摩尔曼斯克州以及原属于西部军区管辖的涅涅茨自治区共4个联邦主体。早在2014年12月1日，俄罗斯将其北方舰队从西部军区划分出来，并在此基础上成立了北极战略司令部，成为俄罗斯名义上的第五军区。此次总统令的签署是首次以官方形式确立第五军区的存在，是俄罗斯国家政策方针在北极战略方向军事领域全面实施的重要体现，反映了俄罗斯提升北极军事实力以维护北极战略利益的坚定决心［2］。</p>
<h1 id="1-第五军区的组建动因"><a href="#1-第五军区的组建动因" class="headerlink" title="1 第五军区的组建动因"></a>1 第五军区的组建动因</h1><p>近年来，北极地区国家愈加重视北冰洋大陆架和岛屿的重要战略意义，并通过逐渐强化军事存在，不断扩大和提升本国对北极地区的控制权。因此，当前北极地区的军事政治形势表现出区域性矛盾增大和军事活跃度渐强的特点。第五军区的组建是俄军历史上首次正式将北方舰队提升至军区级别，是俄罗斯为应对上述问题所做出的有力回应。具体而言，其深层动因包括以下5个方面。</p>
<h2 id="1-1-北极地区争夺战日趋激烈"><a href="#1-1-北极地区争夺战日趋激烈" class="headerlink" title="1. 1 北极地区争夺战日趋激烈"></a>1. 1 北极地区争夺战日趋激烈</h2><p>冷战结束后，随着全球气候变暖进一步加剧，北极因其丰富的自然资源和优越的地理位置逐渐被世界各国所关注，成为地缘政治竞争的桥头堡。</p>
<p>（1） 美俄两国对抗不断升级。一是美国在新版的《美国国家安全战略》和《美国国防战略》中不断提及“大国竞争”这一概念，并于2020年7月发布首份《空军北极战略》，意欲打压俄罗斯渴望在北极地区以传统军事大国身份谋求更大国际政治空间的想法；二是美国于2018 年重启于2011年撤编的第二舰队，规定辖区为美国东海岸、整个北极圈、白令海峡以及挪威和俄罗斯沿海，遏制俄罗斯的意图不言自明；三是随着美国退出《中导条约》，由于其所采用的导弹战略是飞跃北极的打击方式，直接导致俄罗斯北极上空的防空反导压力陡增。</p>
<p>（2） 世界多国表达对北极地区的利益诉求。这些国家在北极形成了代表各方利益的国际组织和国家团体，其中包括北极五国（俄罗斯、美国、加拿大、丹麦和挪威），亚北极国家（冰岛、瑞典和芬兰），北极理事会（俄罗斯、美国、加拿大、丹麦、挪威、冰岛、瑞典和芬兰），巴伦支海欧洲—北极理事会（俄罗斯、丹麦、冰岛、瑞典和芬兰），北欧部长理事会（丹麦、冰岛、瑞典和芬兰以及奥兰群岛），极地科学亚洲论坛（中国、日本、朝鲜、泰国和马来西亚）。这些主权国家、国家集团和国际组织通过宣誓主权、军事演习、构建极地军事设施等多元化的方式，积极参与北极地区政治、军事和经济等领域的竞争。</p>
<p>（3） 俄方持续推进北极发展战略。为在北极争夺战中取得优势，俄罗斯近年出台了多部国家级战略， 分别于2008、2013、2014 年发布了《2020年前俄罗斯联邦北极地区国家政策原则及远景规划》、《2020年前俄罗斯联邦北极地区发展和国家安全保障战略》和《2020年前俄罗斯联邦北极地区社会经济发展国家纲要》［3］，并于2017年将纲要的时间节点延长至2035年［4］，在2020年又出台了《俄罗斯2035年前国家北极政策基础》［5］。</p>
<p>综上所述，为了在北极地区争夺战中占据领先地位，俄罗斯不断调整北极战略政策，逐渐形成了以军事威慑为主，同步提升其在北极地缘政治经济影响力的独特模式。</p>
<h2 id="1-2-北约东扩压缩俄罗斯地缘战略空间"><a href="#1-2-北约东扩压缩俄罗斯地缘战略空间" class="headerlink" title="1. 2 北约东扩压缩俄罗斯地缘战略空间"></a>1. 2 北约东扩压缩俄罗斯地缘战略空间</h2><p>随着苏联解体，北约与华约的漫长对抗也随之宣告结束，但北约并未停止吸收新成员国以扩张自身势力范围的进程。事实上，为进一步压缩俄罗斯的战略生存空间，北约一直努力鼓动前苏联加盟国加入其组织，这导致俄罗斯的战略纵深大幅缩减，来自陆上、空中以及海洋的军事威胁陡增。在美国授意下，北约不断东扩，逼近俄罗斯边境，近年来又有继续深入巴伦支海的动作迹象。为此，俄罗斯从现实安全威胁出发，将北极作为新的战略支点，以求实现地缘战略空间突围。<code>作为传统的北极大国，北极的战略地位关乎俄罗斯的国家核心利益</code>。第五军区的组建，进一步表明了俄国防部已将北极地区视为国家安全战略和军事战略的优先关注方向，在未来很长一段时间内，北极都将被视为关键战略地区。<code>俄国防部长绍伊古直言：“当前开发北极就是保障俄罗斯的未来”</code>［6］。</p>
<h2 id="1-3-俄罗斯北极地区面临的军事安全威胁日益"><a href="#1-3-俄罗斯北极地区面临的军事安全威胁日益" class="headerlink" title="1. 3 俄罗斯北极地区面临的军事安全威胁日益"></a>1. 3 俄罗斯北极地区面临的军事安全威胁日益</h2><p>严峻虽然北极地区当前的军事政治形势总体稳定可控，但俄罗斯仍面临来自北极战略方向复杂多变、严峻且充满不确定性的现实军事威胁。从作战空间来看，俄罗斯的北极安全主要源于空中和水下威胁。空中威胁包括战略轰炸机群、巡航导弹、战术和舰载飞机、美国和北约用于保障歼击机和远程无人预警机群的无人机；水下威胁包括美国和北约专门针对俄北方舰队和海上战略核力量的核潜艇，利用航空兵、潜艇以及水下机器人系统布置的雷区。《2035 前俄罗斯北极政策基础》中明确指出：一些国家正在强化北极地区军事存在，爆发军事冲突的可能性增加［5］。</p>
<p>首先，北约的海军作战能力有了大幅提升，海基反导预警系统得到了长足发展［7］。其次，外国针对北极地区的军事企图日益明显，2006年起，北约陆海空军和特种部队定期举行“寒冷反应”联合军演；2007年起，加拿大定期组织“北极熊行动”军事演习，目标对象直指俄罗斯；2013年，美国出台《北极地区国家战略》，明确指出华盛顿有权采取单方面行动捍卫其在北极地区的重要利益；2015年，美国、英国、荷兰、瑞士、德国和法国首次在瑞典、芬兰和挪威的北部地区举行“北极挑战” 联合军演；2018年，代号为“三叉戟”的北约多国联合军演拉开帷幕，此次演习是冷战结束以来规模最大的一次。最后，针对北极地区的侦察监视活动频繁。美国不断增加军事卫星数量，北约也不断加强对北极和俄罗斯边境地区的情报侦察活动。</p>
<h2 id="1-4-俄军指挥体制有待完善"><a href="#1-4-俄军指挥体制有待完善" class="headerlink" title="1. 4 俄军指挥体制有待完善"></a>1. 4 俄军指挥体制有待完善</h2><p>根据俄罗斯武装力量军区条例［8］，第五军区被赋予“跨军种战略领土军团”的地位。即从2021 年1 月起，上述四个联邦主体包括陆、海、空天军及其他军兵种在内的所有军事单位都将服从于第五军区的统一指挥。第五军区将直接对海军总参谋长、总参谋部和俄武装力量最高统帅负责。俄罗斯著名军事专家维克多• 穆拉霍夫斯基指出，第五军区的组建将理顺北极地区武装力量的指挥层级，确保各军种在北极地区的协作更加高效［9］。为了加强各军兵种的协作，俄罗斯之前在主要战略方向上组建了集团军，并将所有舰队划归军区管辖，作为俄海军中实力最强的北方舰队被划归到西部军区，这在军事战略专家和基层指挥官中引发了较大的争议。俄海军上校、军事专家维克托•马卡洛夫甚至直言：陆军的将领们永远不会去研究海军的作战战法［10］。此次将北方舰队独立出来并赋予其行政领导和作战指挥职能，有效解决了各军种之间“谁服从于谁”的矛盾。在北方舰队司令部中设置岸防部队、航空兵和防空反导部队的指挥官岗位，也将彻底解决此前俄北方舰队隶属关系与履行职能不匹配的矛盾，从而优化俄罗斯联邦武装力量的指挥管理体系。</p>
<h2 id="1-5-俄军强化海军建设的内在驱动"><a href="#1-5-俄军强化海军建设的内在驱动" class="headerlink" title="1. 5 俄军强化海军建设的内在驱动"></a>1. 5 俄军强化海军建设的内在驱动</h2><p>在北约加紧对俄罗斯实施制裁且俄罗斯实际可用海上通道有限的背景下，<code>若战时以美国为首的北约对波罗的海、黑海和日本海实施封锁，俄罗斯将面临非常危险的局面</code>。因此，为实施战略突围，俄军将视角转向北极，大力强化海军建设，尤其是计划对四大舰队之首的北方舰队的武器装备和人员军事素质进行大规模升级和提升，以巩固对北极航路的控制。2015年版《俄罗斯联邦海洋学说》中，俄罗斯将北大西洋和北极地区视为其海上战略的优先方向［3］；2017年颁布《2030年前国家军事海洋活动政策基本原则》，将“以美国及其盟友为代表的一系列国家争夺海上霸权”看作俄罗斯国家安全的主要威胁之一，认为“对俄罗斯及其盟友具有重要意义的领土上的武装冲突渐增”趋势不容忽视，计划到2030年应拥有在各个战略方向实力均衡的舰队［11］。据此推断，在不远的将来，太平洋舰队、黑海舰队和波罗的海舰队的战略地位也将得到质的提升。</p>
<h1 id="2-第五军区的主要战略任务"><a href="#2-第五军区的主要战略任务" class="headerlink" title="2 第五军区的主要战略任务"></a>2 第五军区的主要战略任务</h1><p><code>俄罗斯北方舰队始建于沙俄时期，初期即被命名为北极圈舰队，苏联成立后，被扩编命名为红军北方舰队，现在是俄海军的主力部队，拥有俄罗斯唯一的库兹涅佐夫号航空母舰，舰队战斗力强悍，行动区域遍及整个北极圈和北大西洋水域</code>。截至2020年5月，俄北方舰队拥有44艘水面舰艇、41艘潜艇以及9支特种部队，分别驻扎在摩尔曼斯克、加季耶沃、波尔尼、维迪亚沃、佐泽尔斯克和塞维罗德文斯克［12］。升格为第五军区后，其所辖兵力、地位和权力大幅提升，所担负的战略任务也更加艰巨。</p>
<h2 id="2-1-依靠常规军事力量，确保俄在北极地区的家安全与发展利益"><a href="#2-1-依靠常规军事力量，确保俄在北极地区的家安全与发展利益" class="headerlink" title="2. 1 依靠常规军事力量，确保俄在北极地区的家安全与发展利益"></a>2. 1 依靠常规军事力量，确保俄在北极地区的家安全与发展利益</h2><p>当前，世界主要国家对北极地区的关注度不断提升，并在经济和国家安全等领域不断强化军事存在。俄罗斯谋求确立并保持在北极地区的领导地位，但想在谈判中捍卫其对北极海域、部分<br>大陆架和自然资源的权利将变得愈发困难。</p>
<p>因此，俄罗斯计划将北方舰队由一个海军单位转型为一个由海军主导的跨军兵种的联合作战兵团，不断加强在北极地区的常规军事力量建设。<br>（1） 进攻兵力层面，俄罗斯在北极部署有第200独立电动步枪旅、第80独立电动步枪旅、第61海军陆战队独立旅、第45航空防空军等部队［13］；<br>（2） 防御侦察层面，已部署了S-400 防空系统、共振和向日葵雷达站以及29B6集装箱超视距雷达系统等一批先进预警装备，可以对北极方向的敌人动向实施监控［14］；<br>（3） 海军力量层面，作为第五军区主体的北方舰队，近年来不断增强自身作战能力。</p>
<p>据俄北方舰队司令亚历山大·莫伊谢耶夫称，俄罗斯在2020年底前将有超过180种武器装备在北极的严寒地区列装。同时，将继续对包括高超声速武器在内的新型武器进行试验，这些新技术将使北方舰队的作战潜力得到质的提升［15］。此外，俄罗斯还计划在北极构建对空中目标的梯次侦察体系和电子情报侦察的前沿预警阵地，以实现对北极地区及其周边军事态势实施全时段全天候监控，以便构建一座隐形的“防空穹顶”。</p>
<h2 id="2-2-依托海基战略核力量，确保俄对敌强大核威慑力"><a href="#2-2-依托海基战略核力量，确保俄对敌强大核威慑力" class="headerlink" title="2. 2 依托海基战略核力量，确保俄对敌强大核威慑力"></a>2. 2 依托海基战略核力量，确保俄对敌强大核威慑力</h2><p>俄罗斯的海基战略核力量是其“三位一体”核力量的重要组成，其支柱是战略核潜艇。俄北方舰队目前拥有9艘战略核潜艇，其中包括1艘941型战略核潜艇、6艘667型战略核潜艇、1艘955型战略核潜艇和1艘955A型战略核潜艇。这4种核潜艇中前两种研发于苏联时期，941型最多可同时发射200枚核弹头，667型最多可携带16枚P-29PM潜射弹道导弹，955型北风之神系列弹道导弹核潜艇最为先进。官方数据显示，北风之神战略核潜艇最多可携带16枚布拉瓦（RSM-56） 潜射弹道导弹，射程超过8 000 km，每枚导弹有10个弹头，每艘潜艇共计携带72~196个核弹头［16］，确保俄罗斯核武数量的绝对优势。</p>
<h2 id="2-3-制定完备的作战想定，确保俄有效应对任何形式的风险挑战"><a href="#2-3-制定完备的作战想定，确保俄有效应对任何形式的风险挑战" class="headerlink" title="2. 3 制定完备的作战想定，确保俄有效应对任何形式的风险挑战"></a>2. 3 制定完备的作战想定，确保俄有效应对任何形式的风险挑战</h2><p>通过分析北极地区的军事政治形势，结合现代军事斗争经验，俄方专家认为未来北极地区可能爆发以下4种针对俄罗斯的军事冲突［17］：一是经济矛盾发展为局部武装冲突，但未进一步升级；二是经济矛盾演变为局部武装冲突，后升级为大规模战争；三是敌方使用常规武器对俄罗斯发起突然性大规模侵略；四是敌方使用核武器对俄罗斯发起突然性的大规模侵略。</p>
<p>面对北极地区现实军事安全威胁和未来可能爆发的军事冲突，第五军区组建后，其辖区内所有军事机构可以实现统一指挥调度，可以更加高效应对未来可能爆发的北极地区军事冲突。</p>
<p>首先，在经济矛盾发展为<code>局部武装冲突</code>，但未进一步升级的情况下，俄第五军区将使用雷达对空天方向进行实时监控，在空天军防区内施行空中交通管制；运用歼击航空兵拦截敌机以阻止其非法行为，并迫使其在专用机场降落，如若不遵守指令，便可开火予以击落；此外，还应根据实际情况，使用防空反导武器打击军事冲突区的敌方主要目标，或使用强击航空兵和轰炸航空兵摧毁军事冲突区的敌关键设施。</p>
<p>其次，在经济矛盾演变为局部武装冲突，后升级为<code>大规模战争</code>的情况下，俄第五军区除采取上述应对措施之外，还应确保各军兵种按照北方舰队指挥部的统一指挥行动，确保俄海上战略核威慑有效可靠，并做好使用一切防空反导兵力兵器保护第五军区所有设施目标的准备。</p>
<p>再次，在敌使用<code>常规武器</code>对俄罗斯发起突然性大规模侵略的情况下，俄第五军区应由防御转入进攻，对敌实施空天突袭，向俄军政高层通报大规模空天打击的情况，并按照俄军相关战略战役计划对敌实施大规模反击。</p>
<p>最后，在敌方使用<code>核武器</code>对俄罗斯发起突然性大规模侵略的情况下，俄第五军区应在对敌实施空天突袭和大规模反击的同时，确保海军战略核力量作战使用的稳定可靠，并确保空天军参与核战争后的作战行动直至战争完全结束。</p>
<h2 id="2-4-彰显强大军事实力，确保俄对北极航道的开发"><a href="#2-4-彰显强大军事实力，确保俄对北极航道的开发" class="headerlink" title="2. 4 彰显强大军事实力，确保俄对北极航道的开发"></a>2. 4 彰显强大军事实力，确保俄对北极航道的开发</h2><p>随着北极冰川的融化，北极航道的战略意义逐渐显现。在俄罗斯北极战略回归的背景下，对北极航路的开发被提上议程，开发北极航道在俄罗斯历次颁布的北极战略中多次出现。为确保北极航道开发的顺利实施，对抗北约国家的抵近骚扰，北方舰队不断强化军事部署。目前，俄军正有序恢复北极航道上的军事基地，升级军事基础设施，增加北极战略方向的军事预算。此外，定期在北极地区举行两栖军事演习并对北极战略方向的部队进行突击战备检查，向外界展示了诸如DT-10PM双节运输车、T-80BVM坦克和ChaborzM-3轻型越野突击车等大量北极高寒地区的主战装备［13］，充分彰显了俄军强悍的北极作战潜力，体现了俄军政高层对控制北极航道的坚定决心，这也是俄北极战略的具体体现。</p>
<h1 id="3-俄罗斯组建第五军区的几点启示"><a href="#3-俄罗斯组建第五军区的几点启示" class="headerlink" title="3 俄罗斯组建第五军区的几点启示"></a>3 俄罗斯组建第五军区的几点启示</h1><p>俄罗斯为北方舰队配备各兵种并将其地位升级，突出了第五军区的战略地位，赋予了北方舰队更大自主权，提升了北极地区俄军兵种协同程度，<code>反映了俄罗斯试图加强北极地区军事存在的决心</code>。</p>
<h2 id="3-1-突出第五军区战略地位是巩固俄北极防御的重要举措"><a href="#3-1-突出第五军区战略地位是巩固俄北极防御的重要举措" class="headerlink" title="3. 1 突出第五军区战略地位是巩固俄北极防御的重要举措"></a>3. 1 突出第五军区战略地位是巩固俄北极防御的重要举措</h2><p>近年来，以美国为首的国家、国家集团和国际组织加强了围绕北极地区的主权和利益争夺，相关国家有意增强了在北极地区的军事存在，对俄罗斯北极地区和北部战略方向构成了巨大的现实威胁。作为回应，俄罗斯历史上首次将北方舰队提升为第五军区，原属西部军区四个联邦主体的所有军事机构均划归北方舰队指挥部管辖，大幅提升了第五军区的联合作战能力，战略地位更加突出，保持并扩大了俄罗斯在北极地区的战略优势。</p>
<h2 id="3-2-完善第五军区职能范围是确保俄军高效专业的重要途径"><a href="#3-2-完善第五军区职能范围是确保俄军高效专业的重要途径" class="headerlink" title="3. 2 完善第五军区职能范围是确保俄军高效专业的重要途径"></a>3. 2 完善第五军区职能范围是确保俄军高效专业的重要途径</h2><p>俄罗斯以北方舰队为基础成立第五军区，赋予其行政和经费管理职能，将有助于北方舰队更加独立自主，更高效完成北极战略方向的军事任务，更好实现其在北极地区的军事存在。同时，为俄罗斯对北极地区与航道的开发提供了保障，震慑了以美国为首的北约国家，进而确保俄罗斯的国家安全与发展利益。</p>
<h2 id="3-3-强化第五军区军兵种协同是保障俄北极安全的重要方式"><a href="#3-3-强化第五军区军兵种协同是保障俄北极安全的重要方式" class="headerlink" title="3. 3 强化第五军区军兵种协同是保障俄北极安全的重要方式"></a>3. 3 强化第五军区军兵种协同是保障俄北极安全的重要方式</h2><p><code>第五军区作为跨军种战略领土军团，其下辖包括陆军、海军、空天军在内的军区应有的所有军兵种</code>，列装了包括S-400防空系统、铠甲-S弹炮合一防空系统、北风之神系列弹道导弹核潜艇、轰炸机、歼击机在内的全类型武器装备。随着第五军区的正式成立，在未来举行的军事演习中，实现各军兵种在司令部统一指挥下高效顺畅协同，确保各分队和作战要素在统一指挥链路中发挥最大化作用，进而保障俄罗斯北极地区的绝对安全。</p>
<h1 id="4-结束语"><a href="#4-结束语" class="headerlink" title="4 结束语"></a>4 结束语</h1><p>综上所述，北极地区的争夺战日趋激烈，军事冲突风险极高。俄罗斯依托国家北极战略，积极推进本国在北极地区的军事化进程，将北方舰队独立并以此为基础组建单独的第五军区，弥补前期成立的北极联合战略司令部职能的不足，有效缓解俄军内部现存的一些指挥矛盾，进一步强化俄军兵种之间的战略协同，实现俄罗斯的国家利益和安全诉求。</p>
<h3 id="参考文献（略）"><a href="#参考文献（略）" class="headerlink" title="参考文献（略）"></a>参考文献（略）</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2021/05/29/WOS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/29/WOS/" class="post-title-link" itemprop="url">怎么在家使用Web of Science以及各类科研数据库</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-05-29 22:01:21 / 修改时间：23:21:44" itemprop="dateCreated datePublished" datetime="2021-05-29T22:01:21+08:00">2021-05-29</time>
            </span>

          
            <span id="/2021/05/29/WOS/" class="post-meta-item leancloud_visitors" data-flag-title="怎么在家使用Web of Science以及各类科研数据库" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/05/29/WOS/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/05/29/WOS/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>长期的新冠疫情已经使人们习惯了远程学习、科研和办公，当不在大学校园或者研究所时，单位所购买的数据库资源一般就不方便使用了，怎么办呢？这里给出几个非常方便的方案。</p>
<h2 id="CNKI数据库远程登录"><a href="#CNKI数据库远程登录" class="headerlink" title="CNKI数据库远程登录"></a>CNKI数据库远程登录</h2><p>知网已经开通了校外登录功能，使用大学一卡通账号可以登录CNKI，并获得和校园一样的数据库使用权限。登录位置在知网右上角：<br><img src="/images/cnki1.png" alt><br>以中科大为例，中科大保留了毕业生的账号，因此毕业后也可使用：<br><img src="/images/cnki5.png" alt><br>输入校园账号和密码：<br><img src="/images/cnki4.png" alt><br>登录成功：<br><img src="/images/cnki3.png" alt><br>使用Zotero（类似Endnote的开源文献工具）保存文献信息和PDF文档：<br><img src="/images/cnki2.png" alt></p>
<p>现在CNKI几乎所有的资源已经可以远程访问了。和一些科研机构比较，使用高校数据库资源的好处是文理兼顾，不会出现一些研究所只购买理工类，而人文类无法访问的情况。</p>
<h2 id="WOS"><a href="#WOS" class="headerlink" title="WOS"></a>WOS</h2><p>WOS全名是Web of Science，被WOS检索的文章具备唯一的WOS检索号，通常认为是SCI论文。WOS除了证明文章是SCI检索外，还可以导出详细的文献共被引信息，用于文献计量分析。WOS数据库由clarivate公司进行商业化维护，该账号一般研究所好像也没有购买，更不用说远程登录了。因此需要借助别的方法，比如万能的淘宝中检索web of science，得到许多结果：<br><img src="/images/wos.png" alt><br>选择一款心仪的产品下单，基本可秒发账号（本账号密码仍在有效期，可试用）：<br><img src="/images/wos2.png" alt><br>登录后可以看到里面有许多资源，除了WOS，还有常见的Wiley、Springer、IEEE、Science、Nature、Taylor等等：<br><img src="/images/wos3.png" alt><br>选择WOS，以remote sensing期刊为例检索：<br><img src="/images/wos4.png" alt><br>得到1万5千多篇SCI文章，然后简单的进行蚊香计量分析（点击右上角“分析检索结果”）：<br><img src="/images/wos5.png" alt><br>Remote Sensing 在2020年刊登4192篇SCI文章，并且还在指数式增加。<br><img src="/images/wos6.png" alt><br>发文最多的国家是中国，高达6000多篇，按照一篇1万4千元人民币，则中国财政投资高达8千多万元，如果再考虑语言润色费，我国对《remote sensing》一个期刊的支出就超过1亿元。如果考虑文章资助项目在前期的数据采集、处理、人力物力等，我国的科研付出还得翻几倍。<br><img src="/images/wos7.png" alt><br>自然，发文最多的作者基本都是中国学者，如张某最多发表了140篇（可能含有重名作者）。<br><img src="/images/wos8.png" alt></p>
<h2 id="SCI论文下载"><a href="#SCI论文下载" class="headerlink" title="SCI论文下载"></a>SCI论文下载</h2><p>SCIhub经常不稳定，一些文献传递速度较慢，不如直接使用淘宝所购买的账号远程登录数据库直接下载文章。</p>
<p>以IEEE为例，登录之后，发现小锁变成了绿色的开放状态，表明可以下载。<br><img src="/images/ieee.png" alt></p>
<p>经过测试，Springer、elsevier等其他数据库同样可用，若结合文献管理工具Zotero可自动下载文献，可提高效率。<br>下一篇将介绍，如何结合坚果云实现不同电脑、不同操作系统的文献资料同步更新。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yang Lei"
      src="/images/xingchi.jpg">
  <p class="site-author-name" itemprop="name">Yang Lei</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">96</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">62</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://getmyte.com/" title="https:&#x2F;&#x2F;getmyte.com&#x2F;" rel="noopener" target="_blank">getmyte</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.economist.com/" title="https:&#x2F;&#x2F;www.economist.com&#x2F;" rel="noopener" target="_blank">Economist</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://l7.antv.vision/en/" title="https:&#x2F;&#x2F;l7.antv.vision&#x2F;en&#x2F;" rel="noopener" target="_blank">AntV</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yang Lei</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0
  </div>

        






  <script>
  function leancloudSelector(url) {
    url = encodeURI(url);
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.getAttribute('id'));
      var title = visitors.getAttribute('data-flag-title');

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .then(() => {
                leancloudSelector(url).innerText = counter.time + 1;
              })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              })
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.getAttribute('id'));
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (let item of results) {
            let { url, time } = item;
            leancloudSelector(url).innerText = time;
          }
          for (let url of entries) {
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=a05sUJqbxBXDbnppdO8OVgiC-gzGzoHsz')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method: method,
          headers: {
            'X-LC-Id': 'a05sUJqbxBXDbnppdO8OVgiC-gzGzoHsz',
            'X-LC-Key': 'YRcXfwqMVEWtFfgTumCdt2il',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el: '#valine-comments',
      verify: false,
      notify: false,
      appId: 'a05sUJqbxBXDbnppdO8OVgiC-gzGzoHsz',
      appKey: 'YRcXfwqMVEWtFfgTumCdt2il',
      placeholder: "Just go go",
      avatar: 'mm',
      meta: guest,
      pageSize: '10' || 10,
      visitor: false,
      lang: 'zh-cn' || 'zh-cn',
      path: location.pathname,
      recordIP: false,
      serverURLs: ''
    });
  }, window.Valine);
});
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://assz0a.coding-pages.com').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="学习笔记">
<meta property="og:url" content="http://assz0a.coding-pages.com/index.html">
<meta property="og:site_name" content="学习笔记">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yang Lei">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://assz0a.coding-pages.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>学习笔记</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">学习笔记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">77</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">5</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">121</span></a>

  </li>
        <li class="menu-item menu-item-tools">

    <a href="/tools" rel="section"><i class="fa fa-fw fa-wrench"></i>Tools</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/08/12/pangeo-first/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/08/12/pangeo-first/" class="post-title-link" itemprop="url">物理海洋大数据云计算入门-Pangeo</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-08-12 11:50:24 / 修改时间：20:50:41" itemprop="dateCreated datePublished" datetime="2022-08-12T11:50:24+08:00">2022-08-12</time>
            </span>

          
            <span id="/2022/08/12/pangeo-first/" class="post-meta-item leancloud_visitors" data-flag-title="物理海洋大数据云计算入门-Pangeo" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/08/12/pangeo-first/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/08/12/pangeo-first/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><blockquote>
<p>前面已经提到了一个陌生的云计算平台pangeo，大家可能都听过GEE、航天宏图PIE、亚马逊云、谷歌云地球科学服务等。可能对这个pangeo云比较陌生，中文介绍资料几乎为零，国内用户也基本为零。pangeo在美国和欧洲已经得到进入实际应用阶段，相关分析工具和云计算已经较为成熟，在地球科学领域，特别是物理海洋领域已经取得很多研究成果。这是一个可以写论文的科研工具，可以提升大数据计算体验，今天我先介绍pangeo的入门部分。</p>
</blockquote>
<p><a href="https://pangeo.io/" target="_blank" rel="noopener">pangeo</a>是由一群科学家自发组织起来的地学大数据分析平台，它在2016年由美国哥伦比亚大学<a href="https://github.com/rabernat" target="_blank" rel="noopener">Ryan Abernathey</a> 领导的一个物理海洋小组发起，最初开发它的原因是希望更好的在本地服务器端处理海洋科学大数据，例如MITgcm高分辨模式LLC4320的PB级别数据。 通过数年时间，这个小组和全世界参与者共同开发了一系列的大数据和云计算分析软件，搭建了Pangeo云计算基础设施，形成了良好的地球科学数据分析生态系统。 当前，pangeo得到了美国NSF EarthCube计划、Anaconda、NASA、NCAR以及一些私人基金会的强力资助，使之能够持续发展，并积累的一些用户。目前pangeo之所以能够为全世界用户免费提供云计算（最大16CPU，60G内存），和这些机构的慷慨资助是分不开的。</p>
<p>据介绍，pangeo涉足云计算也是偶然的。由于NSF 2017年项目削减预算，无法购买本地服务器，而要求结合NSF BIGDATA计划使用大型云服务设施。之后，pangeo小组努力开发和吸收相关的云计算和并行计算开源工具（如JupyterHub、dask、xarray、intake、Zarr等），与其让成千上万的研究人员在数据孤岛（本地基础设施）中工作，不如使用云数据和接近数据的算力在共享基础设施内工作。这几年，pangeo云计算已在一定程度上改变了地球科学研究方式，它提高了科学生产力和结果可重复性，也为数据密集型研究问题打开新大门。</p>
<blockquote>
<p>我们先欣赏下传统的数据下载模式：</p>
</blockquote>
<video id="video" controls preload="none">
    <source id="mp4" src="/images/era5.mp4" type="video/mp4">
</video>
<center>这是欧洲Climate Data Store (CDS) @ECMWF的机器人插卡作业模式，如果你申请CDS数据，机器人的机械手臂会把磁带接口插入相关卡槽读取数据，完成后提供下载服务</center>

<p>Pangeo云架构：<br><img src="../images/yun.png" alt></p>
<h2 id="注册使用"><a href="#注册使用" class="headerlink" title="注册使用"></a>注册使用</h2><p>因为是云计算，因此需要注册一个账号，可选谷歌云或者亚马逊云。常见资源多存储于谷歌云，建议注册谷歌云。</p>
<blockquote>
<p><a href="https://pangeo.io/cloud.html" target="_blank" rel="noopener">https://pangeo.io/cloud.html</a></p>
</blockquote>
<p>Pangeo Cloud目前包含两个不同的计算集群：</p>
<ul>
<li>us-central1-b.gcp.pangeo.io 谷歌云平台。</li>
<li>aws-uswest2.pangeo.io AWS集群。</li>
</ul>
<p>建议根据您要访问的数据选择集群。例如，如果您的数据主要存在于AWS中，请选择aws-uswest2。经Pangeo管理员审查同意之后，加入Pangeo的github小组，便可以使用Pangeo云。（需要有一个github账号，并对git有一定的了解）</p>
<p>Pangeo Cloud集群为用户提供不同数量的RAM和CPU，可以在登录时进行设置。请为根据工作需要选择资源最少的设施，因为更大的内存和cpu会花费更多的钱。 是的，云计算本质上是收费服务，只是这部分钱被美国NSF等基金支付了。</p>
<h2 id="云数据初探"><a href="#云数据初探" class="headerlink" title="云数据初探"></a>云数据初探</h2><p>几十年来，地球科学领域一直采用“下载模式”分析数据，即科学家从远程FTP服务器下载数据到个人电脑，当数据量不大的时候，这种模式没有问题。而Pangeo的理念是将计算带到云数据中，这也就是云计算。Pangeo提供靠近高性能存储的高性能计算集群，目前许多广泛使用的数据集已经存储在这些系统上。</p>
<p>如果您对分析特定的大型数据集感兴趣，您应该首先确定此数据集是否已存储在现有的云端，然后，您可以请求访问该特定云数据以执行您的计算分析。或者，如果您的实验室或小组已经维护了一个数据存储库，您也可以考虑在本地计算资源上部署Pangeo环境数据服务器（可能比较费力）。 </p>
<p>使用云数据和云计算无需掌握很多特殊知识，但需要能够熟练使用一下基础工具：</p>
<ul>
<li>Jupyter Hub</li>
<li>Python</li>
<li>Xarray</li>
</ul>
<p>当前，许多预存数据集目录都位于catalog.pangeo.io。此目录已预先配置，可以轻松打开数据集。这些云数据包含海洋、大气、气候和水文等不同类型。在大多数情况下，调取云数据很简单：</p>
<figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">from</span> <span class="variable">intake</span> <span class="variable">import</span> <span class="variable">open_catalog</span></span><br><span class="line"></span><br><span class="line"><span class="variable">cat</span> = <span class="function"><span class="title">open_catalog</span>(<span class="string">"https://raw.githubusercontent.com/pangeo-data/pangeo-datastore/master/intake-catalogs/master.yaml"</span>)</span></span><br><span class="line"><span class="function"><span class="title">list</span>(<span class="variable">cat</span>)</span></span><br></pre></td></tr></table></figure>
<p>[‘ocean’, ‘atmosphere’, ‘climate’, ‘hydro’]</p>
<blockquote>
<p>这些数据集合中包含了CESM全球气候模式、NCAR数据集、CCMP、极地数据、Landsat8数据、CMIP6、卫星测高沿轨和网格数据、MOM6/CESM、MITgcm ECCOv4、LLC4320、ESIP等资料。</p>
</blockquote>
<p>此外，还可以利用<code>fsspec</code>打开目录之外的数据,例如，要从Google Cloud Storage打开公共文件cmpi6，您可以执行以下操作： </p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> fsspec</span><br><span class="line"><span class="built_in">path</span> = <span class="string">'gs://cmip6/cmip6-zarr-consolidated-stores.csv'</span></span><br><span class="line"><span class="keyword">with</span> fsspec.open(<span class="built_in">path</span>) <span class="keyword">as</span> f:</span><br><span class="line">    df = pd.read_csv(f)</span><br></pre></td></tr></table></figure>

<h4 id="物理海洋数据集"><a href="#物理海洋数据集" class="headerlink" title="物理海洋数据集"></a>物理海洋数据集</h4><p>物理海洋数据集是pangeo的重点，通过命令<code>open_catalog</code>可以很方便的打开它，该数据集合包含了多种常见的数据，比如卫星高度计的沿轨和网格数据、多种高分模式数据等，还有前面提到的MITgcm LLC4320模式数据。LLC4320数据由于存储巨大，它几乎只能在超级计算机或者Pangeo云端使用。</p>
<figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">cat</span> = <span class="function"><span class="title">open_catalog</span>(<span class="string">"https://raw.githubusercontent.com/pangeo-data/pangeo-datastore/master/intake-catalogs/ocean.yaml"</span>)</span></span><br><span class="line"><span class="function"><span class="title">list</span>(<span class="variable">cat</span>)</span></span><br></pre></td></tr></table></figure>
<p>[‘sea_surface_height’,<br> ‘cesm_mom6_example’,<br> ‘ECCOv4r3’,<br> ‘SOSE’,<br> ‘GODAS’,<br> ‘ECCO_layers’,<br> ‘altimetry’,<br> ‘LLC4320’,<br> ‘GFDL_CM2_6’,<br> ‘CESM_POP’,<br> ‘channel’,<br> ‘MEOM_NEMO’]</p>
<p>我们先用简单的SSH数据为例，介绍怎么读取、制图、计算和保存。<br>读取命令为<code>to_dask()</code>，这一步为lazy计算，并未真的计算:</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ds</span>  = <span class="keyword">cat</span>[<span class="string">"sea_surface_height"</span>].to_dask()</span><br><span class="line"><span class="keyword">ds</span></span><br></pre></td></tr></table></figure>
<p>SSH数据中包含了sla、adt、流速等信息。</p>
<p><img src="../images/pangeo1.png" alt></p>
<p>看一下sla的数据结构和大小，超过68G：</p>
<p><img src="../images/pangeo2.png" alt></p>
<p>这时候数据已经是常见的xarray格式，通过<code>isel</code>选择一个时间：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ds.sla.isel(<span class="attribute">time</span>=0)</span><br></pre></td></tr></table></figure>

<p><img src="../images/pangeo3.png" alt></p>
<p>使用xarray的<code>.plot()</code>函数进行绘图，这时候数据才真正的调入内存：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ds.sla.isel(time=<span class="number">0</span>).plot(figsize=(<span class="number">15</span>, <span class="number">7</span>))</span><br></pre></td></tr></table></figure>

<p><img src="../images/pangeo4.png" alt></p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ds.sla.sel(time=<span class="string">"1993-01-07"</span>,latitude=slice(<span class="number">-60</span>,<span class="number">-20</span>),longitude=slice(<span class="number">0</span>,<span class="number">50</span>)).plot()</span><br></pre></td></tr></table></figure>
<p><img src="../images/pangeo5.png" alt></p>
<p>使用xarray的<code>to_netcdf()</code>保存nc数据格式到本地。通常我们只保存数据计算结果，原始数据和中间数据的保存没有太大意义。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ds.sel(time=<span class="string">"1993-01-07"</span>,latitude=slice(<span class="number">-60</span>,<span class="number">-20</span>),longitude=slice(<span class="number">0</span>,<span class="number">50</span>)).to_netcdf(<span class="string">"ssh.nc"</span>)</span><br></pre></td></tr></table></figure>

<h2 id="大数据并行计算"><a href="#大数据并行计算" class="headerlink" title="大数据并行计算"></a>大数据并行计算</h2><p>上面仅展示单独数据文件的读取、绘图和保存，数据体积小，无需大数据的相关并行运算。如果数据量较大，比如使用全部的sla数据计算全球海平面变化，则一共需要读取68G的数据，这时候可能需要集群的并行计算配置。pangeo通过融合dask可以实现集群计算。</p>
<blockquote>
<p>Dask 是 Pangeo Cloud 的重要组件，可用于并行化的大型计算。pangeo用户无需太多并行计算知识即可使用它，但由于Dask能够使用许多云计算节点，大型、长时间运行、空闲的集群将会浪费Pangeo有限的云计算资金。因此请谨慎使用此力量！ </p>
</blockquote>
<p>要使用Dask进行可扩展计算，您需要使用Dask Gateway创建一个集群并连接到它 </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> dask_gateway import GatewayCluster</span><br><span class="line"><span class="keyword">from</span> dask.distributed import Client</span><br><span class="line">cluster = GatewayCluster()</span><br><span class="line">cluster.scale(5)</span><br><span class="line">client = Client(cluster)</span><br><span class="line">cluster</span><br></pre></td></tr></table></figure>

<p>完成计算后，您可以显式关闭集群</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cluster</span>.<span class="keyword">close</span>()</span><br></pre></td></tr></table></figure>
<video id="video" controls preload="none">
    <source id="mp4" src="/images/pangeodask.mp4" type="video/mp4">
</video>
<center>dask监控界面</center>

<h3 id="海平面变化时间序列"><a href="#海平面变化时间序列" class="headerlink" title="海平面变化时间序列"></a>海平面变化时间序列</h3><p>计算全球海平面变化并不复杂，主要是均值的计算。首先沿着经纬度计算均值，并载入内存：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sla_timeseries</span> = ds.sla.mean(dim=(<span class="string">'latitude'</span>, <span class="string">'longitude'</span>)).load()</span><br></pre></td></tr></table></figure>
<p>该集群计算启动了5个worker，10个线程，大约1分半处理完数据，计算得到全球的平均海平面变化时间序列:</p>
<p>绘图：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">sla_timeseries</span><span class="selector-class">.plot</span>(label=<span class="string">'full data'</span>)</span><br><span class="line"><span class="selector-tag">sla_timeseries</span><span class="selector-class">.rolling</span>(time=<span class="number">365</span>, center=True)<span class="selector-class">.mean</span>()<span class="selector-class">.plot</span>(label=<span class="string">'rolling annual mean'</span>)</span><br><span class="line"><span class="selector-tag">plt</span><span class="selector-class">.ylabel</span>(<span class="string">'Sea Level Anomaly [m]'</span>)</span><br><span class="line"><span class="selector-tag">plt</span><span class="selector-class">.title</span>(<span class="string">'Global Mean Sea Level'</span>)</span><br><span class="line"><span class="selector-tag">plt</span><span class="selector-class">.legend</span>()</span><br><span class="line"><span class="selector-tag">plt</span><span class="selector-class">.grid</span>()</span><br></pre></td></tr></table></figure>

<p><img src="../images/pangeo6.png" alt></p>
<blockquote>
<p>本质上，SSH数据并不算大数据，只是比较大。这里仅展示其工作流程。</p>
</blockquote>
<h3 id="纬向变化时间特征"><a href="#纬向变化时间特征" class="headerlink" title="纬向变化时间特征"></a>纬向变化时间特征</h3><p>还可以计算纬向SLA变化,即在经度方向计算均值，耗时大约2分钟：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sla_hov = ds.sla.mean(<span class="attribute">dim</span>=<span class="string">'longitude'</span>).load()</span><br><span class="line">fig, ax = plt.subplots(figsize=(12, 4))</span><br><span class="line">sla_hov.name = <span class="string">'Sea Level Anomaly [m]'</span></span><br><span class="line">sla_hov.transpose().plot(<span class="attribute">vmax</span>=0.2, <span class="attribute">ax</span>=ax)</span><br></pre></td></tr></table></figure>

<p>我们可以看到海平面变化的纬向特征：<br><img src="../images/pangeo7.png" alt></p>
<h3 id="空间变化特征"><a href="#空间变化特征" class="headerlink" title="空间变化特征"></a>空间变化特征</h3><p>可以通过STD来计算全球海平面变化的空间特征:</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sla_std</span> = ds.sla.std(dim=<span class="string">'time'</span>).load()</span><br><span class="line"><span class="attr">sla_std.name</span> = <span class="string">'Sea Level Variability [m]'</span></span><br><span class="line"><span class="attr">ax</span> = sla_std.plot(figsize=(<span class="number">20</span>, <span class="number">12</span>))</span><br><span class="line"><span class="attr">_</span> = plt.title(<span class="string">'Sea Level Variability'</span>)</span><br></pre></td></tr></table></figure>
<p>在流场较强的海域，variability是比较大的，比如西边界流、南极绕极流等：<br><img src="../images/pangeo8.png" alt></p>
<h3 id="KE计算"><a href="#KE计算" class="headerlink" title="KE计算"></a>KE计算</h3><p>接下来，以南大洋绕极流为例，计算KE的长时间平均，这里的计算稍微加强一点，但也不复杂：</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ds_SO = ds.sel(latitude=slice(-<span class="number">90</span>, -<span class="number">30</span>))</span><br><span class="line">meanSSH = ds_SO.adt.<span class="built_in">mean</span>('<span class="built_in">time</span>')</span><br><span class="line">meanSSH.<span class="built_in">load</span>()</span><br><span class="line">EKE = <span class="number">0.5</span>*(ds_SO.ugosa**<span class="number">2</span> + ds_SO.vgosa**<span class="number">2</span>).<span class="built_in">mean</span>('<span class="built_in">time</span>') # KE</span><br><span class="line">EKE.<span class="built_in">load</span>() </span><br><span class="line">MKE = <span class="number">0.5</span>*( (ds_SO.ugos - ds_SO.ugosa)**<span class="number">2</span> + (ds_SO.vgos - ds_SO.vgosa)**<span class="number">2</span>).<span class="built_in">mean</span>('<span class="built_in">time</span>') # MKE (<span class="built_in">mean</span>)</span><br><span class="line">MKE.<span class="built_in">load</span>()</span><br></pre></td></tr></table></figure>

<p>绘图：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(16,5))</span><br><span class="line">np.log10(EKE).plot.contourf(<span class="attribute">vmin</span>=-3.5, <span class="attribute">vmax</span>=-0.7, <span class="attribute">levels</span>=10)</span><br><span class="line">meanSSH.plot.contour(<span class="attribute">levels</span>=15, <span class="attribute">linewidths</span>=0.75)</span><br></pre></td></tr></table></figure>
<p><img src="../images/pangeo9.png" alt></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(16,5))</span><br><span class="line">np.log10(MKE).plot.contourf(<span class="attribute">vmin</span>=-3.5, <span class="attribute">vmax</span>=-0.7, <span class="attribute">levels</span>=9)</span><br><span class="line">meanSSH.plot.contour(<span class="attribute">levels</span>=15, <span class="attribute">linewidths</span>=0.5)</span><br></pre></td></tr></table></figure>
<p><img src="../images/pangeo10.png" alt></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>通过注册，得到一个有效的云计算账户，然后初次尝试pangeo计算全球海平面变化，以及局部海域的动量特征，我们可以总结它的特色为：</p>
<ul>
<li>降低大数据编程的精力投入，增强宏观科学问题的思考</li>
<li>降低集群分析门槛，无需专门的并行计算和云计算知识</li>
<li>无需数据下载，按需调取海量云数据集</li>
<li>开源支持，生态系统完备可持续</li>
</ul>
<p>目前，GEE等云计算和大数据平台已经较为普及，但GEE等平台专注于图像遥感，无法接入物理海洋、大气科学等数据（模式和观测等）。pangeo云计算则在一定程度填补了这些空白，它发源于草根群体，在美国一步步发展壮大，获得NSF等机构数百万美元的资助，得到了美国政府和科学界的认可，小编认为这必然是未来海洋、大气科学的重点发展方向之一。国内在该领域暂时是空白的（大部分人无法访问pangeo和谷歌云服务），未来几年国内将可预见的在海洋、大气云计算领域快速增长。</p>
<h2 id="下节预告"><a href="#下节预告" class="headerlink" title="下节预告"></a>下节预告</h2><ul>
<li>基于云计算的LLC4320海洋模式数据谱分析</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/08/02/llc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/08/02/llc/" class="post-title-link" itemprop="url">LLCreader开源程序读取LLC4320模式数据</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-08-02 12:22:21 / 修改时间：12:56:56" itemprop="dateCreated datePublished" datetime="2022-08-02T12:22:21+08:00">2022-08-02</time>
            </span>

          
            <span id="/2022/08/02/llc/" class="post-meta-item leancloud_visitors" data-flag-title="LLCreader开源程序读取LLC4320模式数据" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/08/02/llc/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/08/02/llc/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="LLC4320模式简介"><a href="#LLC4320模式简介" class="headerlink" title="LLC4320模式简介"></a>LLC4320模式简介</h3><p>LLC4320是MITgcm 1/48°模式资料，其直接的诞生原因是帮助海洋学家为即将到来的SWOT任务将以前所未有的分辨率观察海洋表面。</p>
<p>该模拟在几个方面具有开创性，特别是其高空间分辨率（全球覆盖范围在 1 到 2 公里之间）、综合潮汐驱动和高频（每小时）输出，其海面高度信号中包含了内潮、内波、地转平衡等信号。除了在SWOT相关模拟工作取得应用之外，该模式也在海洋亚中尺度方向得到了很多应用，</p>
<p>该模式主要特征是：</p>
<ul>
<li>全球覆盖（包含极地）</li>
<li>垂向90层</li>
<li>分辨率1/48°</li>
<li>全球海洋分成13个face。每个face的网格数为4320*4320.</li>
<li>时间采样是小时，总计时间维度9030</li>
<li>共14 个月（2011 年 9 月至 2012 年 11 月）</li>
<li>数据量巨大，PB级别</li>
<li>以MDS自定义二进制数据格式存储，为MITgcm独有</li>
<li>模型网格复杂，为lat-lon-cap (LLC) 曲线网格 ，很难在常规地图投影中可视化。</li>
</ul>
<p>在数据发布之初，该数据集位于高度安全的NASA超级计算机上，只有获得NASA资助的研究人员才能访问。</p>
<p>后来，NASA Ames研究中心创建数据共享网站（<a href="https://data.nas.nasa.gov/ecco/），开放了LLC4320数据。" target="_blank" rel="noopener">https://data.nas.nasa.gov/ecco/），开放了LLC4320数据。</a><br>任何人都可以通过该门户通过互联网访问数据。在此网站上，您可以单击以下载单个大小40GB的二进制文件。但是，除非您知道如何解码其中的内容，否则这些文件毫无用处。</p>
<h3 id="xmitgcm-llcreader"><a href="#xmitgcm-llcreader" class="headerlink" title="xmitgcm.llcreader"></a>xmitgcm.llcreader</h3><blockquote>
<p>xmitgcm 是一个 python 包，用于将 MITgcm 二进制 MDS 文件读入 xarray 数据结构。 通过将数据存储在 dask 数组中，xmitgcm 可以实现并行计算。</p>
</blockquote>
<blockquote>
<p>代码库: <a href="https://github.com/MITgcm/xmitgcm" target="_blank" rel="noopener">https://github.com/MITgcm/xmitgcm</a><br>文档: <a href="https://xmitgcm.readthedocs.io/en/latest/" target="_blank" rel="noopener">https://xmitgcm.readthedocs.io/en/latest/</a><br>博客: <a href="https://medium.com/pangeo/petabytes-of-ocean-data-part-1-nasa-ecco-data-portal-81e3c5e077be" target="_blank" rel="noopener">https://medium.com/pangeo/petabytes-of-ocean-data-part-1-nasa-ecco-data-portal-81e3c5e077be</a></p>
</blockquote>
<p>为了使二进制数据方便利用，Ryan Abernathey等开发了xmitgcm的python包，其中llcreader用于读取这些二进制文件。该模块使用xarray和dask从ECCO数据门户网站在线访问数据，使模式大数据的操作变得轻而易举。</p>
<h3 id="海面温度读取示例"><a href="#海面温度读取示例" class="headerlink" title="海面温度读取示例"></a>海面温度读取示例</h3><p>以海面高度读取为例，展示其基本操作。用到了如下库：</p>
<ul>
<li>xmitgcm: 提供llcreader</li>
<li>xarray: 基本数据结构和操作</li>
<li>dask: 大数据并行和lazy计算</li>
<li>sholoviews: 交互式的图像展示</li>
</ul>
<h4 id="1导入库"><a href="#1导入库" class="headerlink" title="1导入库"></a>1导入库</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> xmitgcm.llcreader <span class="keyword">as</span> llcreader</span><br><span class="line">%matplotlib <span class="keyword">inline</span></span><br><span class="line"><span class="keyword">import</span> holoviews <span class="keyword">as</span> hv</span><br><span class="line"><span class="keyword">from</span> holoviews.operation.datashader <span class="keyword">import</span> regrid</span><br><span class="line">hv.<span class="keyword">extension</span>(<span class="string">'bokeh'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h4><p>这里我们使用LLC4320模式数据：</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">model</span> = llcreader.ECCOPortalLLC4320Model()</span><br><span class="line"><span class="keyword">model</span></span><br></pre></td></tr></table></figure>

<p>更具数据分辨率和来源，llcreader 可用模块有：</p>
<ul>
<li><code>llcreader.ECCOPortalLLC2160Model</code>: LLC2160 accessed via ECCO data portal</li>
<li><code>llcreader.ECCOPortal LLC4320Model</code>: LLC4320 accessed via ECCO data portal</li>
<li><code>llcreader.PleiadesLLC2160Model</code>: LLC2160 accessed on Pleaides filesystem</li>
<li><code>llcreader.PleiadesLLC4320Model</code>: LLC4320 accessed on Pleaides filesystem</li>
<li><code>llcreader.CRIOSPortalASTE270Model</code>: ASTE Release 1 accessed via AWS</li>
<li><code>llcreader.SverdrupASTE270Model</code>: ASTE Release 1 accessed on Sverdrup filesystem at UT Austin</li>
</ul>
<h4 id="海表温度"><a href="#海表温度" class="headerlink" title="海表温度"></a>海表温度</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ds_sst = model.get<span class="constructor">_dataset(<span class="params">varnames</span>=['Theta'], <span class="params">k_levels</span>=[0], <span class="params">type</span>='<span class="params">latlon</span>')</span></span><br><span class="line">ds_sst</span><br></pre></td></tr></table></figure>
<p>这里的<code>Theta</code>是模式中固有的海表温度名称。这一行程序执行的lazy模式，数据并没有存储在本地内存，也不会进行计算。该变量的大小接近10T。</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ds_sst.nbytes / <span class="number">1e12</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>9.257148163328</p>
</blockquote>
<p>如果想查看其他变量的名称：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">print</span><span class="params">(model.varnames)</span></span></span><br></pre></td></tr></table></figure>

<p>[‘Eta’, ‘KPPhbl’, ‘oceFWflx’, ‘oceQnet’, ‘oceQsw’, ‘oceSflux’, ‘oceTAUX’, ‘oceTAUY’, ‘PhiBot’, ‘Salt’, ‘SIarea’, ‘SIheff’, ‘SIhsalt’, ‘SIhsnow’, ‘SIuice’, ‘SIvice’, ‘Theta’, ‘U’, ‘V’, ‘W’]</p>
<p>比如<code>Eta</code>表示海面高度，<code>U,V,W</code>为速度，在数据操作的进行变量替换。<br><code>get_dataset</code>模块的全部参数设置为</p>
<blockquote>
<p>get_dataset(varnames=None, iter_start=None, iter_stop=None, iter_step=None, iters=None, k_levels=None, k_chunksize=1, type=’faces’, read_grid=True, grid_vars_to_coords=True)</p>
</blockquote>
<p>常见操作有：</p>
<ul>
<li>ds = model.get_dataset(varnames=[‘Eta’])</li>
<li>ds = model.get_dataset(varnames=[‘Salt’, ‘Theta’], k_levels=[1, 10, 40])</li>
<li>ds = model.get_dataset(varnames=[‘Theta’], k_levels=[0], type=’latlon’)</li>
</ul>
<blockquote>
<p>参考：<a href="https://xmitgcm.readthedocs.io/en/latest/llcreader.html#xmitgcm.llcreader.BaseLLCModel.get_dataset" target="_blank" rel="noopener">https://xmitgcm.readthedocs.io/en/latest/llcreader.html#xmitgcm.llcreader.BaseLLCModel.get_dataset</a></p>
</blockquote>
<h4 id="动态交互可视化"><a href="#动态交互可视化" class="headerlink" title="动态交互可视化"></a>动态交互可视化</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dataset = hv.Dataset(ds_sst.Theta.isel(<span class="attribute">k</span>=0).astype('f4'))</span><br><span class="line">hv_im = (dataset.<span class="keyword">to</span>(hv.Image, [<span class="string">'i'</span>, <span class="string">'j'</span>], <span class="attribute">dynamic</span>=<span class="literal">True</span>)</span><br><span class="line">                .options(<span class="attribute">cmap</span>=<span class="string">'Magma'</span>, <span class="attribute">width</span>=950, <span class="attribute">height</span>=600, <span class="attribute">colorbar</span>=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line">%output <span class="attribute">holomap</span>=<span class="string">'scrubber'</span> <span class="attribute">fps</span>=3</span><br><span class="line">regrid(hv_im, <span class="attribute">precompute</span>=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p><img src="../images/llc4320.png" alt></p>
<p>上图是南非南部海域的LLC4320 SST，可以看到强大的洋流和丰富的中小尺度涡旋。</p>
<p><img src="../images/llc2160.png" alt></p>
<p>上图作为对比是LLC2160的结果，和4320比较有一定差距。</p>
<h3 id="涡度计算示例"><a href="#涡度计算示例" class="headerlink" title="涡度计算示例"></a>涡度计算示例</h3><p>下面展示LLC4320涡度计算步骤。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">model = llcreader.ECCOPortalLLC4320Model()</span><br><span class="line"><span class="builtin-name">print</span>(model)</span><br><span class="line"></span><br><span class="line"><span class="comment"># volecity</span></span><br><span class="line">ds = model.get_dataset(varnames=[<span class="string">'U'</span>, <span class="string">'V'</span>], k_levels=[0], <span class="attribute">type</span>=<span class="string">'latlon'</span>,</span><br><span class="line">                        <span class="attribute">iter_start</span>=model.iter_start,</span><br><span class="line">                        iter_stop=(model.iter_start + model.iter_step),</span><br><span class="line">                        <span class="attribute">read_grid</span>=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Normal gridding</span></span><br><span class="line">import xgcm</span><br><span class="line">grid = xgcm.Grid(ds, periodic=[<span class="string">'X'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Calculate vorticity</span></span><br><span class="line">zeta = (-grid.diff(ds.U * ds.dxC, <span class="string">'Y'</span>, <span class="attribute">boundary</span>=<span class="string">'fill'</span>) + grid.diff(ds.V * ds.dyC, <span class="string">'X'</span>))/ds.rAz</span><br><span class="line">zeta = zeta.squeeze().rename(<span class="string">'vorticity'</span>).reset_coords(<span class="attribute">drop</span>=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># load data</span></span><br><span class="line">zeta.load()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Show</span></span><br><span class="line">dataset = hv.Dataset(zeta)</span><br><span class="line">hv_im = (dataset.<span class="keyword">to</span>(hv.Image, [<span class="string">'i_g'</span>, <span class="string">'j_g'</span>])</span><br><span class="line">                .options(<span class="attribute">cmap</span>=<span class="string">'RdBu_r'</span>, <span class="attribute">width</span>=950, <span class="attribute">height</span>=600, <span class="attribute">colorbar</span>=<span class="literal">True</span>, <span class="attribute">symmetric</span>=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line">regrid(hv_im, <span class="attribute">precompute</span>=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="../images/llc_v.png" alt></p>
<h3 id="扩展：云"><a href="#扩展：云" class="headerlink" title="扩展：云"></a>扩展：云</h3><p>虽然 ECCO 数据门户实现了数据自由访问，但它的带宽有限，国内用户往往正常加载。虽然它适合像交互式探索，但是如果想实际处理PB的数据，它可能无法提供必要的网络流量。</p>
<p>商业云存储（例如 Amazon S3 或 Google Cloud Storage）可以提供两全其美的优势。它既可公开访问，又具有极大的数据处理能力。</p>
<p>后面我将介绍云计算平台<code>Pangeo</code>，目前大量的地学大数据已经存储于云端，并可以通过<code>Pangeo</code>进行操作，这其中就包含LLC4320模式。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/08/02/llc1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/08/02/llc1/" class="post-title-link" itemprop="url">xmitgcm下载LLC海洋模式数据</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-08-02 11:50:14 / 修改时间：18:11:34" itemprop="dateCreated datePublished" datetime="2022-08-02T11:50:14+08:00">2022-08-02</time>
            </span>

          
            <span id="/2022/08/02/llc1/" class="post-meta-item leancloud_visitors" data-flag-title="xmitgcm下载LLC海洋模式数据" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/08/02/llc1/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/08/02/llc1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>上一节，我们介绍了xmitgcm的LLCreader入门操作，总体上这个工具可以通过网络自动加载门户网站（ECCO）的模式数据，实现对大数据模式LLC4320和LLC2160的读取。但还有许多问题尚未解决：</p>
<ul>
<li>能否保存数据到本地</li>
<li>能否按照经纬范围选取数据</li>
<li>能否选择连续的一段时间（如70天，每小时一个）</li>
<li>能否做较复杂计算</li>
</ul>
<p>本节先介绍怎么通过LLCreader将数据下载本地，并使用GMT绘图。</p>
<h4 id="加载llcreader"><a href="#加载llcreader" class="headerlink" title="加载llcreader"></a>加载llcreader</h4><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> xmitgcm.llcreader <span class="keyword">as</span> llcreader</span><br></pre></td></tr></table></figure>

<h4 id="初始化模型"><a href="#初始化模型" class="headerlink" title="初始化模型"></a>初始化模型</h4><p>因为LLC4320数据体量较大，这里先以LLC2160为例。我们选择<code>Theta</code>进行导出测试。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">model = llcreader.ECCOPortalLLC2160Model()</span><br><span class="line"></span><br><span class="line">ds_sst = model.get_dataset(varnames=[<span class="string">'Theta'</span>], k_levels=[0], <span class="attribute">type</span>=<span class="string">'latlon'</span>,</span><br><span class="line">                          <span class="attribute">iter_start</span>=model.iter_start,</span><br><span class="line">                          iter_stop=(model.iter_start + model.iter_step),</span><br><span class="line">                          <span class="attribute">read_grid</span>=<span class="literal">True</span>)</span><br><span class="line">ds_sst.Theta</span><br></pre></td></tr></table></figure>
<p><img src="../images/llc1.png" alt></p>
<p><code>ds_sst</code>的数据结构为Xarray的<code>dataset</code>，<code>ds_sst.Theta</code>的数据结构为Xarray的<code>dataarray</code>。可以看到<code>Theta</code>的数据大小是231M，这只是一个小时快照的单层全球数据，体积不算太大。</p>
<p><img src="en-resource://database/1799:1" alt="424563f1e8a8cb5512488f4924a7206b.png"></p>
<p>上图为其<code>coordinates</code>，这是<code>dataarray</code>数据结构的一个关键术语，其中黑色粗体<code>i,j,k,time</code>表示维度坐标(Dimension coordinate)，其他为无维度坐标(Non-dimension coordinate)。</p>
<blockquote>
<p>Xarray: <a href="https://docs.xarray.dev/en/stable/user-guide/terminology.html#term-Dimension-coordinate" target="_blank" rel="noopener">https://docs.xarray.dev/en/stable/user-guide/terminology.html#term-Dimension-coordinate</a></p>
</blockquote>
<h4 id="绘图查看"><a href="#绘图查看" class="headerlink" title="绘图查看"></a>绘图查看</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">temp</span><span class="selector-class">.Theta</span><span class="selector-class">.plot</span>()</span><br></pre></td></tr></table></figure>
<p><img src="../images/llc2.png" alt></p>
<p>维度坐标<code>i,j</code>作为其<code>x</code>和<code>y</code>轴，另一维度<code>time</code>和<code>k</code>(深度0)出现在标题上。</p>
<p>因为LLC为特殊的网格结构，这里暂时不能直接实现地理绘图。后面会对此进行单独介绍。</p>
<h4 id="保存-to-netcdf"><a href="#保存-to-netcdf" class="headerlink" title="保存 .to_netcdf()"></a>保存 .to_netcdf()</h4><p><code>to_netcdf()</code>是<code>Xarray</code>内置的函数，可将数据保存为nc格式。注意数据保存和<code>llcreader</code>函数无关，<code>llcreader</code>的主要作用是在线获得LLC模式数据，并转化成<code>Xarray</code>特有的数据结构，后面所有的操作都是使用<code>Xarray</code>，因此有必要对<code>Xarray</code>做全面的学习。后面会对此介绍。</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ds_sst.<span class="module-access"><span class="module"><span class="identifier">Theta</span>.</span></span><span class="keyword">to</span><span class="constructor">_netcdf('<span class="params">myfile</span>.<span class="params">nc</span>')</span></span><br></pre></td></tr></table></figure>
<p>上述命令可以将<code>Theta</code>参数保存。通过<code>panoply</code>可以绘图展示SST参数的全球分布：</p>
<p><img src="../images/llc3.png" alt></p>
<h4 id="删除不重要的坐标"><a href="#删除不重要的坐标" class="headerlink" title="删除不重要的坐标"></a>删除不重要的坐标</h4><p>但可以发现保存的文件大小是2.5G，远远超过了其自身大小，这是什么原因呢？</p>
<p><img src="../images/llc5.png" alt></p>
<p>原来是把无维度坐标全部保存了，这些坐标其实也是数据，因此占用很大空间。一共有11个这样的2D坐标，再加上<code>Theta</code>，数据体积就达到2.5G了。<br><img src="../images/llc6.png" alt></p>
<p>这些无维度坐标可以删去：</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ds_sst.Theta.reset_coords<span class="params">()</span> <span class="comment"># 将无维度坐标转为变量(不删除)</span></span><br><span class="line">ds_sst[[<span class="string">"Theta"</span>]]<span class="string">.reset_coords</span><span class="params">(<span class="attr">drop</span>=True)</span> <span class="comment"># 将会删去无维度坐标</span></span><br></pre></td></tr></table></figure>
<p><img src="../images/llc7.png" alt></p>
<p>若想保留某些坐标，比如经纬度<code>XC,YC</code>：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ds_sst</span><span class="selector-class">.Theta</span><span class="selector-class">.reset_coords</span>()<span class="selector-attr">[[<span class="string">"XC"</span>, <span class="string">"YC"</span>,<span class="string">"Theta"</span>]</span>]</span><br></pre></td></tr></table></figure>
<p>上面使用了<code>[[ ]]</code>做变量的筛选。</p>
<blockquote>
<p>参考：<a href="https://docs.xarray.dev/en/stable/user-guide/data-structures.html#transforming-datasets" target="_blank" rel="noopener">https://docs.xarray.dev/en/stable/user-guide/data-structures.html#transforming-datasets</a></p>
</blockquote>
<p>然后保存：</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ds_sst<span class="literal">[["T<span class="identifier">heta</span>"]</span>].reset<span class="constructor">_coords(<span class="params">drop</span>=True)</span>.<span class="keyword">to</span><span class="constructor">_netcdf('<span class="params">myfile2</span>.<span class="params">nc</span>')</span></span><br><span class="line">ds_sst.<span class="module-access"><span class="module"><span class="identifier">Theta</span>.</span></span>reset<span class="constructor">_coords()</span><span class="literal">[["XC", "YC","T<span class="identifier">heta</span>"]</span>].<span class="keyword">to</span><span class="constructor">_netcdf('<span class="params">myfile3</span>.<span class="params">nc</span>')</span></span><br></pre></td></tr></table></figure>
<p>这样，数据体积就小了，其中<code>myfile2.nc</code>仅包含<code>Theta</code>，大小213M。</p>
<p><img src="../images/llc8.png" alt></p>
<h4 id="GMT绘图"><a href="#GMT绘图" class="headerlink" title="GMT绘图"></a>GMT绘图</h4><p>GMT绘图比ython自带函数更加强大，既然已经下载到本地，则看一下GMT绘图效果：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">gmt begin ex02 png</span><br><span class="line">	gmt set MAP_ANNOT_OBLIQUE <span class="number">0</span></span><br><span class="line">	gmt subplot begin <span class="number">2</span>x1 -A+JTL -Fs16c/<span class="number">10</span>c -M0 -R1000/<span class="number">2000</span>/<span class="number">2500</span>/<span class="number">3500</span> -JX15/<span class="number">13</span>c -B100 -T<span class="string">"Aghulhas Rings"</span></span><br><span class="line">		gmt subplot set <span class="number">0</span>,<span class="number">0</span> -Ce3c</span><br><span class="line">		gmt grd2cpt myfile3.nc?Theta -Cjet -Z</span><br><span class="line">		gmt grdimage myfile3.nc?Theta -I+a90  </span><br><span class="line">		gmt colorbar -DJRM+o1<span class="number">.5</span>c/<span class="number">0</span>+mc -I0<span class="number">.3</span> -Bx2+lTheta -By+ldegree</span><br><span class="line"></span><br><span class="line">		gmt subplot set <span class="number">1</span>,<span class="number">0</span> -Ce3c</span><br><span class="line">		gmt grd2cpt myfile4.nc?Theta -Crainbow -Z</span><br><span class="line">		gmt grdimage myfile4.nc?Theta</span><br><span class="line">		gmt colorbar -DJRM+o1<span class="number">.5</span>c/<span class="number">0</span>+e+mc -Bx2+lTheta -By+ldegree</span><br><span class="line">	gmt subplot end</span><br><span class="line">gmt end show</span><br></pre></td></tr></table></figure>

<p><img src="../images/4320.png" alt></p>
<h4 id="下节预告"><a href="#下节预告" class="headerlink" title="下节预告"></a>下节预告</h4><ul>
<li>范围的筛选</li>
<li>时间维度的连续导出</li>
</ul>
<h2 id="交流群"><a href="#交流群" class="headerlink" title="交流群"></a>交流群</h2><p>因为公众号留言功能未开通，为了促进交流，小编建立了一个QQ交流群，欢迎大家入群。暂时没开通微信群。</p>
<p><strong>主要功能定位：</strong></p>
<ul>
<li>交流国内外卫星遥感数据信息和现场实测数据信息</li>
<li>对国内海洋实测数据的申请提供必要的指导</li>
<li>物理海洋、大地测量、海洋遥感等学科交流</li>
<li>传播有价值的科研工具、开源程序，提高科研生产力</li>
</ul>
<p><img src="../images/qq.png" alt></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/07/13/gmt-authors/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/13/gmt-authors/" class="post-title-link" itemprop="url">GMT辅助文献计量学绘制作者产出和引用图</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-13 22:12:10 / 修改时间：22:55:38" itemprop="dateCreated datePublished" datetime="2022-07-13T22:12:10+08:00">2022-07-13</time>
            </span>

          
            <span id="/2022/07/13/gmt-authors/" class="post-meta-item leancloud_visitors" data-flag-title="GMT辅助文献计量学绘制作者产出和引用图" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/07/13/gmt-authors/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/07/13/gmt-authors/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在分析某一领域的核心贡献者时，往往使用年发文数量和年平均引用数量这两个指标，怎么将这两个指标在一个图形中展示呢？计量软件<code>bibliometrix</code>工具可以绘制这类图形，但是不容易被大众解读。今天推荐GMT的一个特别工具<code>wiggle</code>实现该目标。我们使用的例子还是卫星测高这个研究群体。</p>
<h2 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h2><p>从WoS下载卫星测高主题的元数据，1970年到2021年大约有8500多篇，作者有1,5000多位。</p>
<p>将数据导入<code>bibliometrix</code>软件。</p>
<blockquote>
<p>bibliometrix是一个R语言的文献计量软件包，统计分析的功能较为强大，绘图的灵活性较弱。这里我们仅使用其统计功能。更多参考：<a href="https://bibliometrix.org/" target="_blank" rel="noopener">https://bibliometrix.org/</a></p>
</blockquote>
<p>在作者一栏，我们选择：</p>
<p><img src="../images/AU1.png" alt></p>
<p>这里就可以看到图形了，但是不仔细看，分不清楚引用量是怎么表达的。</p>
<p><img src="../images/AU3.png" alt></p>
<p>仔细看的话，发现圆点的大小表示论文数量，圆点的颜色深浅表示引用数量，这种展示对于量化分析并不友好。</p>
<p>我们选择保存为csv文件，然后让GMT来绘图：</p>
<p><img src="../images/AU2.png" alt></p>
<h2 id="GMT代码"><a href="#GMT代码" class="headerlink" title="GMT代码"></a>GMT代码</h2><p>由于在一个csv文件中包含了所有信息，绘图需要使用循环的脚本，这里采用<code>pygmt</code>和<code>Python</code>相结合绘图。</p>
<p>主要代码如下：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(r<span class="string">".\author\Author_Production_Over_Time.csv"</span>)</span><br><span class="line"><span class="attribute">au</span>=df[<span class="string">'Author'</span>]</span><br><span class="line"></span><br><span class="line">fig = pygmt.Figure()</span><br><span class="line">fig.basemap(region=[1978, 2023, -20, 200], <span class="attribute">projection</span>=<span class="string">"X15c/15c"</span>, frame=[<span class="string">"Snlr"</span>, <span class="string">"xaf1"</span>])</span><br><span class="line"></span><br><span class="line">fruits = au.unique()</span><br><span class="line"><span class="attribute">fruits</span>=fruits[::-1] </span><br><span class="line"><span class="attribute">k</span>=-10</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(len(fruits)):</span><br><span class="line">    <span class="builtin-name">print</span> (<span class="string">'Present author : %s'</span> % fruits[index])</span><br><span class="line">    <span class="attribute">z</span>=df[<span class="string">'freq'</span>][df[<span class="string">'Author'</span>]== fruits[index]]</span><br><span class="line">    <span class="attribute">x</span>=df[<span class="string">'year'</span>][df[<span class="string">'Author'</span>]== fruits[index]]</span><br><span class="line">    <span class="attribute">y</span>=np.ones(x.values.size)+k</span><br><span class="line">    <span class="attribute">k</span>=k+10</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> k == 0:</span><br><span class="line">        fig.wiggle(</span><br><span class="line">            <span class="attribute">x</span>=x.values,</span><br><span class="line">            <span class="attribute">y</span>=y,</span><br><span class="line">            <span class="attribute">z</span>=z.values,</span><br><span class="line"></span><br><span class="line">            # <span class="builtin-name">Set</span> anomaly scale <span class="keyword">to</span> <span class="string">"20c"</span></span><br><span class="line">            <span class="attribute">scale</span>=<span class="string">"20"</span>,</span><br><span class="line">            # Fill positive <span class="keyword">and</span> negative areas red <span class="keyword">and</span> gray, respectively</span><br><span class="line">            color=[<span class="string">"red+p"</span>, <span class="string">"gray+n"</span>],</span><br><span class="line">            # <span class="builtin-name">Set</span> the outline width <span class="keyword">to</span> <span class="string">"1.0p"</span></span><br><span class="line">            <span class="attribute">pen</span>=<span class="string">"1.0p"</span>,</span><br><span class="line">            # Draw a blue track with a width of 0.5 points</span><br><span class="line">            <span class="attribute">track</span>=<span class="string">"0.5p,blue"</span>,</span><br><span class="line">            # Plot a vertical scale bar at the right middle. The bar length is 100 <span class="keyword">in</span></span><br><span class="line">            <span class="attribute">position</span>=<span class="string">"jLT+w10+lpublications+o0.2/0.2"</span>,</span><br><span class="line">            <span class="attribute">transparency</span>=50,</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        fig.wiggle(</span><br><span class="line">            <span class="attribute">x</span>=x.values,</span><br><span class="line">            <span class="attribute">y</span>=y,</span><br><span class="line">            <span class="attribute">z</span>=z.values,</span><br><span class="line"></span><br><span class="line">            # <span class="builtin-name">Set</span> anomaly scale <span class="keyword">to</span> <span class="string">"20c"</span></span><br><span class="line">            <span class="attribute">scale</span>=<span class="string">"20"</span>,</span><br><span class="line">            # Fill positive <span class="keyword">and</span> negative areas red <span class="keyword">and</span> gray, respectively</span><br><span class="line">            color=[<span class="string">"red+p"</span>, <span class="string">"gray+n"</span>],</span><br><span class="line">            # <span class="builtin-name">Set</span> the outline width <span class="keyword">to</span> <span class="string">"1.0p"</span></span><br><span class="line">            <span class="attribute">pen</span>=<span class="string">"1.0p"</span>,</span><br><span class="line">            # Draw a blue track with a width of 0.5 points</span><br><span class="line">            <span class="attribute">track</span>=<span class="string">"0.5p,blue"</span>,         </span><br><span class="line">            <span class="attribute">transparency</span>=50,</span><br><span class="line">        )</span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="attribute">k</span>=-10</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(len(fruits)):</span><br><span class="line">    <span class="builtin-name">print</span> (<span class="string">'Present author : %s'</span> % fruits[index])</span><br><span class="line">    <span class="attribute">z</span>=df[<span class="string">'TCpY'</span>][df[<span class="string">'Author'</span>]== fruits[index]]</span><br><span class="line">    <span class="attribute">x</span>=df[<span class="string">'year'</span>][df[<span class="string">'Author'</span>]== fruits[index]]</span><br><span class="line">    <span class="attribute">y</span>=np.ones(x.values.size)+k</span><br><span class="line">    <span class="attribute">k</span>=k+10</span><br><span class="line">    <span class="keyword">if</span> k == 0:</span><br><span class="line">        fig.wiggle(</span><br><span class="line">            <span class="attribute">x</span>=x.values,</span><br><span class="line">            <span class="attribute">y</span>=y,</span><br><span class="line">            <span class="attribute">z</span>=-z.values,</span><br><span class="line"></span><br><span class="line">            # <span class="builtin-name">Set</span> anomaly scale <span class="keyword">to</span> <span class="string">"20c"</span></span><br><span class="line">            <span class="attribute">scale</span>=<span class="string">"100"</span>,</span><br><span class="line">            # Fill positive <span class="keyword">and</span> negative areas red <span class="keyword">and</span> gray, respectively</span><br><span class="line">            color=[<span class="string">"red+p"</span>, <span class="string">"blue+n"</span>],</span><br><span class="line">            # <span class="builtin-name">Set</span> the outline width <span class="keyword">to</span> <span class="string">"1.0p"</span></span><br><span class="line">            <span class="attribute">pen</span>=<span class="string">"1.0p"</span>,</span><br><span class="line">            # Draw a blue track with a width of 0.5 points</span><br><span class="line">            <span class="attribute">track</span>=<span class="string">"0.5p,blue"</span>,</span><br><span class="line">            # Plot a vertical scale bar at the right middle. The bar length is 100 <span class="keyword">in</span>            </span><br><span class="line">            <span class="attribute">position</span>=<span class="string">"jLT+w50+lcitations/year+o0.2/0.9"</span>,</span><br><span class="line">            <span class="attribute">transparency</span>=50,</span><br><span class="line">        )    </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        fig.wiggle(</span><br><span class="line">            <span class="attribute">x</span>=x.values,</span><br><span class="line">            <span class="attribute">y</span>=y,</span><br><span class="line">            <span class="attribute">z</span>=-z.values,</span><br><span class="line"></span><br><span class="line">            # <span class="builtin-name">Set</span> anomaly scale <span class="keyword">to</span> <span class="string">"20c"</span></span><br><span class="line">            <span class="attribute">scale</span>=<span class="string">"100"</span>,</span><br><span class="line">            # Fill positive <span class="keyword">and</span> negative areas red <span class="keyword">and</span> gray, respectively</span><br><span class="line">            color=[<span class="string">"red+p"</span>, <span class="string">"blue+n"</span>],</span><br><span class="line">            # <span class="builtin-name">Set</span> the outline width <span class="keyword">to</span> <span class="string">"1.0p"</span></span><br><span class="line">            <span class="attribute">pen</span>=<span class="string">"1.0p"</span>,</span><br><span class="line">            # Draw a blue track with a width of 0.5 points</span><br><span class="line">            <span class="attribute">track</span>=<span class="string">"0.5p,blue"</span>,</span><br><span class="line">            <span class="attribute">transparency</span>=50,</span><br><span class="line">        ) </span><br><span class="line"></span><br><span class="line"><span class="attribute">k</span>=-10</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(len(fruits)):</span><br><span class="line"></span><br><span class="line">    <span class="attribute">k</span>=k+10</span><br><span class="line"></span><br><span class="line">    fig.text(</span><br><span class="line">        region=[1978, 2030, -20, 200],</span><br><span class="line">        <span class="attribute">projection</span>=<span class="string">"X20c/15c"</span>,</span><br><span class="line">        <span class="attribute">x</span>=2017,</span><br><span class="line">        <span class="attribute">y</span>=1+k-10,</span><br><span class="line">        <span class="attribute">text</span>=fruits[index],</span><br><span class="line">        <span class="attribute">font</span>=<span class="string">"Courier-Bold"</span>,</span><br><span class="line">        <span class="attribute">justify</span>=<span class="string">"BL"</span>,</span><br><span class="line">        <span class="attribute">offset</span>=<span class="string">"0.75c/0c"</span>,</span><br><span class="line">    )        </span><br><span class="line">fig.show()</span><br></pre></td></tr></table></figure>

<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p><img src="./images/AU4.png" alt></p>
<p>图上方红色区域表示作者的年度论文发表数量，下方的蓝色区域表示当年度发表论文的年均引用量。</p>
<p>可以看出卫星测高领域产出最大和引用最多的作者中有多位多位中国人，排名首位的是美国<code>The Ohio State University</code>的华人C.K. Shum。</p>
<blockquote>
<p>测试数据和代码：<a href="https://www.jianguoyun.com/p/DR0zR7YQ2PCQBxiK_MwEIAA" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DR0zR7YQ2PCQBxiK_MwEIAA</a> </p>
</blockquote>
<p>文献计量分析的GMT案例到此结束。</p>
<h4 id="交流群"><a href="#交流群" class="headerlink" title="交流群"></a>交流群</h4><p>因为公众号留言功能未开通，为了促进交流，小编建立了一个QQ交流群，欢迎大家入群。暂时没开通微信群。</p>
<p><strong>主要功能定位：</strong></p>
<ul>
<li>交流国内外卫星遥感数据信息和现场实测数据信息</li>
<li>对国内海洋实测数据的申请提供必要的指导</li>
<li>物理海洋、大地测量、海洋遥感等学科交流</li>
<li>传播有价值的科研工具、开源程序，提高科研生产力</li>
</ul>
<p><img src="../images/qq.png" alt></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/07/09/3D-number/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/09/3D-number/" class="post-title-link" itemprop="url">GMT绘制3D柱状地理分布图</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-09 21:55:36 / 修改时间：22:43:52" itemprop="dateCreated datePublished" datetime="2022-07-09T21:55:36+08:00">2022-07-09</time>
            </span>

          
            <span id="/2022/07/09/3D-number/" class="post-meta-item leancloud_visitors" data-flag-title="GMT绘制3D柱状地理分布图" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/07/09/3D-number/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/07/09/3D-number/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>本期再次回到GMT绘图，介绍一种使用GMT绘制3D柱状图的方法，本例子数据采用的是卫星测高领域的研究国家和机构的文章数量。本图件可以直观的展示某一领域研究机构的空间地理分布和强度。对于综述文章或者研究生的文献调研有一定用途。</p>
</blockquote>
<h2 id="WoS数据"><a href="#WoS数据" class="headerlink" title="WoS数据"></a>WoS数据</h2><p>根据前几期文章介绍的方法，从Web of Science数据库检索相关主题，例如本次我们采用<code>satellite altimet*</code>，得到8000多篇研究结果。下载研究国家/地区和研究机构的文章数量数据。</p>
<p>机构数据：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Affiliations	Record Count	% of <span class="number">8</span>,<span class="number">505</span></span><br><span class="line">NATIONAL AERONAUTICS SPACE ADMINISTRATION	<span class="number">914</span>	<span class="number">10.747</span></span><br><span class="line">CENTRE NATIONAL DE LA RECHERCHE SCIENTIFIQUE 	<span class="number">828</span>	<span class="number">9.735</span></span><br><span class="line">INSTITUT DE RECHERCHE POUR LE DEVELOPPEMENT 	<span class="number">707</span>	<span class="number">8.313</span></span><br><span class="line">CHINESE ACADEMY OF SCIENCES	<span class="number">629</span>	<span class="number">7.396</span></span><br><span class="line">UNIVERSITE DE TOULOUSE	<span class="number">517</span>	<span class="number">6.079</span></span><br><span class="line">UNIVERSITE TOULOUSE III PAUL SABATIER	<span class="number">498</span>	<span class="number">5.855</span></span><br><span class="line">NASA GODDARD SPACE FLIGHT CENTER	<span class="number">483</span>	<span class="number">5.679</span></span><br><span class="line">LABORATOIRE D ETUDES EN GEOPHYSIQUE ET OCEANOGRAPHIE SPATIALES	<span class="number">439</span>	<span class="number">5.162</span></span><br><span class="line">NASA JET PROPULSION LABORATORY 	<span class="number">431</span>	<span class="number">5.068</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>国家数据：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USA	<span class="number">3118</span></span><br><span class="line">CHINA	<span class="number">1493</span></span><br><span class="line">FRANCE	<span class="number">1385</span></span><br><span class="line">ENGLAND	<span class="number">804</span></span><br><span class="line">GERMANY	<span class="number">748</span></span><br><span class="line">AUSTRALIA	<span class="number">421</span></span><br><span class="line">ITALY	<span class="number">421</span></span><br><span class="line">SPAIN	<span class="number">371</span></span><br><span class="line">NETHERLANDS	<span class="number">340</span></span><br><span class="line">CANADA	<span class="number">323</span></span><br></pre></td></tr></table></figure>

<h2 id="从地名到坐标"><a href="#从地名到坐标" class="headerlink" title="从地名到坐标"></a>从地名到坐标</h2><p>使用google sheet结合Geocode插件对研究机构和国家名称进行坐标解析。</p>
<blockquote>
<p>参考：<a href="https://workspace.google.com/marketplace/app/geocode_by_awesome_table/904124517349" target="_blank" rel="noopener">https://workspace.google.com/marketplace/app/geocode_by_awesome_table/904124517349</a></p>
</blockquote>
<p>得到：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Affiliations	long	lati</span><br><span class="line">NATIONAL AERONAUTICS SPACE ADMINISTRATION	<span class="number">-77.016389</span>	<span class="number">38.883056</span></span><br><span class="line">CENTRE NATIONAL DE LA RECHERCHE SCIENTIFIQUE 	<span class="number">2.2639934</span>	<span class="number">48.8476037</span></span><br><span class="line">INSTITUT DE RECHERCHE POUR LE DEVELOPPEMENT 	<span class="number">2.3</span>	<span class="number">48.9</span></span><br><span class="line">CHINESE ACADEMY OF SCIENCES	<span class="number">116.3356321</span>	<span class="number">39.9106327</span></span><br><span class="line">UNIVERSITE DE TOULOUSE	<span class="number">1.4</span>	<span class="number">43.6</span></span><br><span class="line">UNIVERSITE TOULOUSE III PAUL SABATIER	<span class="number">1.4699399</span>	<span class="number">43.5619586</span></span><br><span class="line">NASA GODDARD SPACE FLIGHT CENTER	<span class="number">-76.852344</span>	<span class="number">38.99495</span></span><br><span class="line">LABORATOIRE D ETUDES EN GEOPHYSIQUE ET OCEANOGRAPHIE SPATIALES	<span class="number">1.45</span>	<span class="number">43.65</span></span><br><span class="line">NASA JET PROPULSION LABORATORY 	<span class="number">-118.1713944</span>	<span class="number">34.2013081</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="绘图"><a href="#绘图" class="headerlink" title="绘图"></a>绘图</h2><p>数据整理完毕后，使用GMT绘制3D柱状图。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">REM For windows</span><br><span class="line"></span><br><span class="line">gmt gmtset FORMAT_GEO_MAP = dddF MAP_FRAME_WIDTH=<span class="number">2</span>p</span><br><span class="line">gmt gmtset FONT_ANNOT_PRIMARY <span class="number">7</span>p,Helvetica,black FONT_LABEL <span class="number">7</span>p,Helvetica,black </span><br><span class="line"></span><br><span class="line">set ps=<span class="number">3</span>d.ps</span><br><span class="line">gmt pscoast -JQ0/<span class="number">37.5</span>/<span class="number">10</span>c -R<span class="number">-180</span>/<span class="number">180</span>/<span class="number">-90</span>/<span class="number">90</span> -Dc -A10000/<span class="number">0</span>/<span class="number">1</span> -Sazure2 -Gwheat -Bxa60 -Bya30 --FONT_TITLE=<span class="number">10</span>p -K  --MAP_ANNOT_OBLIQUE=<span class="number">45</span> -p200/<span class="number">30</span> &gt; %ps%</span><br><span class="line">gawk <span class="string">"NF&gt;1 &#123;print $1, $2, $3&#125;"</span> loc | gmt psxyz  -R<span class="number">-180</span>/<span class="number">180</span>/<span class="number">-90</span>/<span class="number">90</span>/<span class="number">0</span>/<span class="number">1000</span> -J -JZ1<span class="number">.5</span>i -So0<span class="number">.1</span>c -Gred -O -K -p -Bza200+l<span class="string">"Publication numbers by affiliation"</span> -BWSneZ -t20 &gt;&gt;%ps%</span><br><span class="line"></span><br><span class="line">gmt pscoast -JQ0/<span class="number">37.5</span>/<span class="number">10</span>c -R<span class="number">-180</span>/<span class="number">180</span>/<span class="number">-90</span>/<span class="number">90</span> -Dc -A10000/<span class="number">0</span>/<span class="number">1</span> -Sazure2 -Gwheat -Bxa60 -Bya30 --FONT_TITLE=<span class="number">10</span>p -K -O --MAP_ANNOT_OBLIQUE=<span class="number">45</span> -p200/<span class="number">30</span> -Y6c &gt;&gt; %ps%</span><br><span class="line">gawk <span class="string">"&#123;print $2, $3, $4&#125;"</span> loc_c | gmt psxyz -R<span class="number">-180</span>/<span class="number">180</span>/<span class="number">-90</span>/<span class="number">90</span>/<span class="number">0</span>/<span class="number">3200</span> -J -JZ1<span class="number">.5</span>i -So0<span class="number">.2</span>c -Gblue -Bza500+l<span class="string">"Publication numbers by country/region"</span> -BWSneZ -O  -p -hi1 &gt;&gt;%ps%</span><br><span class="line">gmt psconvert %ps%  -A -P -Tf</span><br></pre></td></tr></table></figure>

<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p><img src="../images/3d_geo.png" alt></p>
<p>图中上部分为国家和地区的发表卫星测高相关的文章数量，下部分为机构发表的文章数量。首先，国家和地区较为集中在美国、法国、中国、英国和德国，以中国为例，相关研究机构主要分布在东部地区，最高为位于北京的中科院大学。</p>
<h2 id="附赠平面图绘制代码"><a href="#附赠平面图绘制代码" class="headerlink" title="附赠平面图绘制代码"></a>附赠平面图绘制代码</h2><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">REM For windows</span></span><br><span class="line"></span><br><span class="line">gmt gmtset FORMAT_GEO_MAP = dddF MAP_FRAME_WIDTH=<span class="number">2</span>p</span><br><span class="line">gmt gmtset FONT_ANNOT_PRIMARY <span class="number">7</span>p,Helvetica,black FONT_LABEL <span class="number">7</span>p,Helvetica,black </span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> ps=fig1.ps</span><br><span class="line">gmt pscoast -JN4.<span class="number">5</span>i -<span class="built_in">Rd</span> -Dc -A10000/<span class="number">0</span>/<span class="number">1</span> -Ba --FONT_TITLE=<span class="number">10</span>p -K  -W0.<span class="number">1</span>p --MAP_ANNOT_OBLIQUE=<span class="number">45</span>  &gt; <span class="variable">%ps%</span></span><br><span class="line">gawk "&#123;<span class="built_in">print</span> $<span class="number">1</span>, $<span class="number">2</span>, log($<span class="number">3</span>)/log(<span class="number">10</span>)/<span class="number">10</span>&#125;" loc | gmt psxy -R -J  -Sc -Gred -K -O -t55 &gt;&gt;<span class="variable">%ps%</span></span><br><span class="line">gawk "&#123;<span class="built_in">print</span> $<span class="number">2</span>, $<span class="number">3</span>, $<span class="number">4</span>/<span class="number">2000</span>&#125;" loc_c | gmt psxy -R -J  -Sc -Gblue -O -t75 &gt;&gt;<span class="variable">%ps%</span></span><br><span class="line"></span><br><span class="line">gmt psconvert <span class="variable">%ps%</span>  -A -P -Tg</span><br></pre></td></tr></table></figure>
<p>注意国家发文数量使用了对数化处理。图件缺少比例尺，有兴趣的同学可以修改代码加上。</p>
<p><img src="../images/2d_geo.png" alt></p>
<p>至于哪一种表达方式效果更佳，小编也难以下结论，这或许和数据特点和个人喜好有关。</p>
<h2 id="样本数据下载"><a href="#样本数据下载" class="headerlink" title="样本数据下载"></a>样本数据下载</h2><blockquote>
<p><a href="https://www.jianguoyun.com/p/DSoojxEQ2PCQBxjioswEIAA" target="_blank" rel="noopener">https://www.jianguoyun.com/p/DSoojxEQ2PCQBxjioswEIAA</a> </p>
</blockquote>
<h2 id="号外"><a href="#号外" class="headerlink" title="号外"></a>号外</h2><p>因为公众号留言功能未开通，为了促进交流，小编建立了一个QQ交流群，欢迎大家入群。暂时没开通微信群。</p>
<p><strong>主要功能定位：</strong></p>
<ul>
<li>交流国内外卫星遥感数据信息和现场实测数据信息</li>
<li>对国内海洋实测数据的申请提供必要的指导</li>
<li>物理海洋、大地测量、海洋遥感等学科交流</li>
<li>传播有价值的科研工具、开源程序，提高科研生产力</li>
</ul>
<p><img src="../images/qq.png" alt></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/07/03/gantt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/03/gantt/" class="post-title-link" itemprop="url">绘制卫星的gantt图</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-03 11:22:03 / 修改时间：12:06:18" itemprop="dateCreated datePublished" datetime="2022-07-03T11:22:03+08:00">2022-07-03</time>
            </span>

          
            <span id="/2022/07/03/gantt/" class="post-meta-item leancloud_visitors" data-flag-title="绘制卫星的gantt图" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/07/03/gantt/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/07/03/gantt/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>以卫星高度计任务为例，绘制Gantt图，以展示过去、现在和未来的卫星任务时间轴。此类图形对于综述文章或者研究生开题报告有一定帮助。</p>
<blockquote>
<p>甘特图（Gantt Chart）简介：它是条状图的一种流行类型，显示项目进度以及其他与时间相关的系统进展的内在关系随着时间进展的情况，是由亨利·甘特 (Henry Laurence Gantt) 于1910年开发出。在项目管理中，甘特图显示项目的终端元素的开始和结束，概要元素或终端元素的依赖关系。</p>
</blockquote>
<p><img src="./images/ga1.png" alt></p>
<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><p>我们采用Python库<code>plotly</code>的<code>plotly.express</code>模块来绘制Gantt图。其优点是高度集成，节省代码，方便学习使用。</p>
<blockquote>
<p><code>plotly.express</code>可以绘制许多类型的图形，包含那些常见的不常见的、常用的不常用，如散点图、线条图、PIE图、Bar图、泡泡图、桑吉图、Sunburst图、Icicle图等等。详见：<a href="https://plotly.com/python/plotly-express/" target="_blank" rel="noopener">https://plotly.com/python/plotly-express/</a></p>
</blockquote>
<h2 id="数据格式"><a href="#数据格式" class="headerlink" title="数据格式"></a>数据格式</h2><p>输入的数据格式采用pandas的<code>DataFrame</code>，内容包含任务名称、开始时间和结束时间。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame([</span><br><span class="line">    dict(<span class="attribute">Task</span>=<span class="string">"Job A"</span>, <span class="attribute">Start</span>=<span class="string">'2009-01-01'</span>, <span class="attribute">Finish</span>=<span class="string">'2009-02-28'</span>),</span><br><span class="line">    dict(<span class="attribute">Task</span>=<span class="string">"Job B"</span>, <span class="attribute">Start</span>=<span class="string">'2009-03-05'</span>, <span class="attribute">Finish</span>=<span class="string">'2009-04-15'</span>),</span><br><span class="line">    dict(<span class="attribute">Task</span>=<span class="string">"Job C"</span>, <span class="attribute">Start</span>=<span class="string">'2009-02-20'</span>, <span class="attribute">Finish</span>=<span class="string">'2009-05-30'</span>)</span><br><span class="line">])</span><br></pre></td></tr></table></figure>

<p>对于卫星任务，我们可以设置如下：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame([dict(<span class="attribute">Satellite</span>=<span class="string">"TP"</span>, <span class="attribute">Start</span>=<span class="string">'1992-8-11'</span>, <span class="attribute">Finish</span>=<span class="string">'2005-12-31'</span>,Country="USA-FR")])</span><br></pre></td></tr></table></figure>

<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>Python全部绘图代码如下：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Install Plotly</span></span><br><span class="line"><span class="comment"># pip install plotly</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Import required libraries</span></span><br><span class="line">import plotly.express as px</span><br><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line"><span class="comment">#Create input data aggregated for each Satellite for each Country type</span></span><br><span class="line">df = pd.DataFrame([</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"GEOSAT"</span>, <span class="attribute">Start</span>=<span class="string">'1985-3-1'</span>, <span class="attribute">Finish</span>=<span class="string">'1989-12-1'</span>,Country="USA"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"ERS-1"</span>, <span class="attribute">Start</span>=<span class="string">'1991-7-1'</span>, <span class="attribute">Finish</span>=<span class="string">'1995-6-1'</span>,Country="EU"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"TP"</span>, <span class="attribute">Start</span>=<span class="string">'1992-8-11'</span>, <span class="attribute">Finish</span>=<span class="string">'2005-12-31'</span>,Country="USA-FR"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"ERS-2"</span>, <span class="attribute">Start</span>=<span class="string">'1995-4-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2002-6-1'</span>,Country="EU"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"GFO"</span>, <span class="attribute">Start</span>=<span class="string">'1998-5-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2008-9-1'</span>,Country="USA"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Jason-2"</span>, <span class="attribute">Start</span>=<span class="string">'2001-11-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2013-7-1'</span>,Country="USA-FR"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"ENVISAT"</span>, <span class="attribute">Start</span>=<span class="string">'2002-3-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2012-4-1'</span>,Country="EU"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Icesat-1"</span>, <span class="attribute">Start</span>=<span class="string">'2003-1-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2010-2-1'</span>,Country="USA"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Jason-2"</span>, <span class="attribute">Start</span>=<span class="string">'2008-6-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2019-10-1'</span>,Country="USA-FR"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Cryosat-2"</span>, <span class="attribute">Start</span>=<span class="string">'2010-4-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2024-4-1'</span>,Country="EU"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"HY-2A"</span>, <span class="attribute">Start</span>=<span class="string">'2011-8-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2020-4-1'</span>,Country="CN"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Saral"</span>, <span class="attribute">Start</span>=<span class="string">'2013-2-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2022-12-31'</span>,Country="IN-FR"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Sentinel-3A"</span>, <span class="attribute">Start</span>=<span class="string">'2016-2-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2023-4-1'</span>,Country="EU"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Jason-3"</span>, <span class="attribute">Start</span>=<span class="string">'2016-1-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2022-4-1'</span>,Country="USA-FR"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Sentinel-3B"</span>, <span class="attribute">Start</span>=<span class="string">'2018-4-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2025-4-1'</span>,Country="EU"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Sentinel-3C"</span>, <span class="attribute">Start</span>=<span class="string">'2024-4-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2031-4-1'</span>,Country="EU"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Sentinel-3D"</span>, <span class="attribute">Start</span>=<span class="string">'2028-4-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2035-4-1'</span>,Country="EU"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Icesat-2"</span>, <span class="attribute">Start</span>=<span class="string">'2018-9-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2023-1-1'</span>,Country="USA"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"HY-2B"</span>, <span class="attribute">Start</span>=<span class="string">'2018-10-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2023-4-1'</span>,Country="CN"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"HY-2C"</span>, <span class="attribute">Start</span>=<span class="string">'2020-9-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2025-4-1'</span>,Country="CN"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Sentinel-6 Michael Freilich"</span>, <span class="attribute">Start</span>=<span class="string">'2020-11-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2027-1-1'</span>,Country="USA-FR"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"HY-2D"</span>, <span class="attribute">Start</span>=<span class="string">'2021-5-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2026-4-1'</span>,Country="CN"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"HY-2E"</span>, <span class="attribute">Start</span>=<span class="string">'2022-5-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2027-4-1'</span>,Country="CN"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"HY-2F"</span>, <span class="attribute">Start</span>=<span class="string">'2023-5-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2028-4-1'</span>,Country="CN"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"HY-2G"</span>, <span class="attribute">Start</span>=<span class="string">'2024-5-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2029-4-1'</span>,Country="CN"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"HY-2H"</span>, <span class="attribute">Start</span>=<span class="string">'2025-5-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2030-4-1'</span>,Country="CN"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"SWOT"</span>, <span class="attribute">Start</span>=<span class="string">'2022-5-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2026-4-1'</span>,Country="USA-FR"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"Sentinel-6B"</span>, <span class="attribute">Start</span>=<span class="string">'2025-1-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2032-1-1'</span>,Country="USA-FR"),</span><br><span class="line">    dict(<span class="attribute">Satellite</span>=<span class="string">"COMPIRA"</span>, <span class="attribute">Start</span>=<span class="string">'2022-10-1'</span>, <span class="attribute">Finish</span>=<span class="string">'2026-1-1'</span>,Country="JP"),</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment">#generate visualization</span></span><br><span class="line">fig = px.timeline(df, <span class="attribute">x_start</span>=<span class="string">"Start"</span>, <span class="attribute">x_end</span>=<span class="string">"Finish"</span>, <span class="attribute">y</span>=<span class="string">"Satellite"</span>, color = <span class="string">"Country"</span>,text =<span class="string">"Satellite"</span>,<span class="attribute">width</span>=1000,height=800)</span><br><span class="line">fig.update_yaxes(<span class="attribute">autorange</span>=<span class="string">"reversed"</span>)</span><br><span class="line">fig.update_layout(<span class="attribute">showlegend</span>=<span class="literal">True</span>,legend_x=0.89,legend_y=0.99)</span><br><span class="line">fig.update_yaxes(<span class="attribute">title_text</span>=<span class="string">"Satellite"</span>)</span><br><span class="line">fig.update_xaxes(<span class="attribute">title_text</span>=<span class="string">"Time"</span>)</span><br><span class="line"></span><br><span class="line">fig.add_vline(<span class="attribute">x</span>=<span class="string">'2022-7-1'</span>,line_color="black",line_dash="dot",opacity=0.5)</span><br><span class="line"></span><br><span class="line">fig.add_vrect(<span class="attribute">x0</span>=<span class="string">'2022-7-1'</span>, <span class="attribute">x1</span>=<span class="string">'2038-1-1'</span>,line_color="green",fillcolor="red", <span class="attribute">opacity</span>=0.2,</span><br><span class="line">                           <span class="attribute">annotation_text</span>=<span class="string">""</span>, <span class="attribute">annotation_position</span>=<span class="string">"bottom left"</span>,</span><br><span class="line">              <span class="attribute">annotation</span>=dict(font_size=20, <span class="attribute">font_family</span>=<span class="string">"Times New Roman"</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fig.update_xaxes(<span class="attribute">showgrid</span>=<span class="literal">True</span>, <span class="attribute">gridwidth</span>=1, <span class="attribute">gridcolor</span>=<span class="string">'LightPink'</span>)</span><br><span class="line">fig.update_yaxes(<span class="attribute">nticks</span>=30)</span><br><span class="line">fig.update_yaxes(<span class="attribute">showgrid</span>=<span class="literal">False</span>,showticklabels=False)</span><br><span class="line">fig.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Save fig</span></span><br><span class="line">fig.write_image(<span class="string">"fig_sat.pdf"</span>)</span><br><span class="line">fig.write_image(<span class="string">"fig_sat.png"</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Jupyter Notebook版本的代码见：<a href="https://github.com/yangleir/RemoteSensing_paper/blob/main/fig1_gantt/gantt.ipynb" target="_blank" rel="noopener">https://github.com/yangleir/RemoteSensing_paper/blob/main/fig1_gantt/gantt.ipynb</a></p>
</blockquote>
<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>通过上面的代码，我们绘制了Gantt图，通过卫星任务的国家和地区进行分组。此外，还添加了当前时间线，以及对未来时间区间做透明填充。</p>
<p><img src="./images/ga2.png" alt></p>
<h2 id="调整"><a href="#调整" class="headerlink" title="调整"></a>调整</h2><p>这里暂不探讨一些绘图的细节，有兴趣的同学可以尝试修改下方的部分代码，<code>False</code>改为<code>True</code>。</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fig.update<span class="constructor">_yaxes(<span class="params">nticks</span>=30)</span></span><br><span class="line">fig.update<span class="constructor">_yaxes(<span class="params">showgrid</span>=False,<span class="params">showticklabels</span>=False)</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/07/03/zotero-tags/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/03/zotero-tags/" class="post-title-link" itemprop="url">Zotero 为文献打标</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-03 10:50:20 / 修改时间：10:53:14" itemprop="dateCreated datePublished" datetime="2022-07-03T10:50:20+08:00">2022-07-03</time>
            </span>

          
            <span id="/2022/07/03/zotero-tags/" class="post-meta-item leancloud_visitors" data-flag-title="Zotero 为文献打标" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/07/03/zotero-tags/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/07/03/zotero-tags/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Zotero-为文献打标"><a href="#Zotero-为文献打标" class="headerlink" title="Zotero 为文献打标"></a>Zotero 为文献打标</h1><p>今天为大家分享一个Zotero使用小窍门，为文献打上可爱的表情。</p>
<h2 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h2><p>希望对一些文献进行标星分类，表示其具有高价值。这样在日后的文献阅读中，可以在自己庞大的文献库中快速找到这些文献。</p>
<p>除了标星之外，我们还可以使用有意思的图标对文献进行贴标签，形成相关的文献集，方便日后查阅回顾。</p>
<h2 id="Emoji表情符号"><a href="#Emoji表情符号" class="headerlink" title="Emoji表情符号"></a>Emoji表情符号</h2><p>我们使用Emoji为文献打标签。</p>
<p>前往Emoji站点搜索自己想要的表情符号，比如最常用的<code>喜欢
❤️</code>标签，可以通过下面的网站搜索<code>Red heart</code>，就能够找到许多类似表情，然后复制它。</p>
<blockquote>
<p>推荐Emoji网站： <a href="https://emojipedia.org/" target="_blank" rel="noopener">https://emojipedia.org/</a></p>
</blockquote>
<h2 id="Zotero"><a href="#Zotero" class="headerlink" title="Zotero"></a>Zotero</h2><p>回到Zotero，选择喜欢的论文，点击右上侧的<code>Tags</code>选项，<code>add</code>一下，把复制的❤️标签粘贴。❤️的数量可以随意设置，五星就粘贴五次。</p>
<p>这样完成了第一步打标签，在Zotero的左下角出现❤️标签，单击它，可以进行文献筛选。但是我们在文献的前方还是看不到标签，不利于我们快速定位文献。</p>
<p>接下来，右击❤️标签，选择<code>Assign color</code>，然后弹出对话框，选择数字和颜色，确定即可。</p>
<p><img src="./images/zo1.png" alt></p>
<p>之后，在文献的前面就出现一个❤️的表情。</p>
<p><img src="./images/zo2.png" alt></p>
<p>取消标记，只需要按键盘数字1。</p>
<p>之后，我们可以根据文献设置不同的标签。同一文献可以设置多个标签。</p>
<p><img src="./images/zo3.png" alt></p>
<p>如果想在一个文献集合中仅显示❤️文献，点击右下角的❤️即可完成筛选。</p>
<p>这种打标的做法还是很方便的，特别是对于阅读大量文献的硕博士来说，常常忘记自己最欣赏的文章在哪里藏着是一个头疼事。</p>
<p>尽管我们可以通过新建不同的<code>subcollection</code>来实现初步分类，但当每一个<code>subcollection</code>中的文献数据增加后，通过标签还是可以快速找到最爱。</p>
<center><font face="黑体" size="3" color="gold">好了，今天的分享就到这了，希望有用。谢谢大家。</font></center>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/06/19/sv/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/19/sv/" class="post-title-link" itemprop="url">世界知名海洋学家HARALD ULRIK SVERDRUP</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-19 13:48:06 / 修改时间：23:03:32" itemprop="dateCreated datePublished" datetime="2022-06-19T13:48:06+08:00">2022-06-19</time>
            </span>

          
            <span id="/2022/06/19/sv/" class="post-meta-item leancloud_visitors" data-flag-title="世界知名海洋学家HARALD ULRIK SVERDRUP" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/06/19/sv/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/06/19/sv/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="HARALD-ULRIK-SVERDRUP"><a href="#HARALD-ULRIK-SVERDRUP" class="headerlink" title="HARALD ULRIK SVERDRUP"></a>HARALD ULRIK SVERDRUP</h1><p><img src="./images/sv1.jpg" alt></p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote>
<p>海洋学家和气象学家,曾任SIO所长和挪威极地研究所所长 。 </p>
</blockquote>
<ul>
<li>Harald Ulrik Sverdrup于1888年11月出生于挪威大户Sverdrup家族。</li>
<li>1911年，他在奥斯陆大学开始地球物理学生涯，然后从1913年到1917年在莱比锡大学攻读PhD学位。</li>
<li>1926年被任命为卑尔根气象学主席，并于1931年被任命为Christian Michelsen Institute教授。</li>
<li>1930年在华盛顿卡内基研究所工作，开始分析太平洋水文信息。</li>
<li>1931年在Nautilus号潜艇上进行北极探险队。</li>
<li>1936年被任命为SIO所长，并在那里工作了12年。在Sverdrup的领导下，SIO转变为现代海洋学机构，在此期间与Walter Munk合作，对二战登陆进行海浪预报。</li>
<li>1947年，发表重要论文“斜压海洋中的风驱动洋流”。</li>
<li>1948年，回到挪威，主持挪威极地研究所工作。 </li>
<li>1957年8月突然去世。</li>
</ul>
<p>Sverdrup的是美国科学院和挪威科学院的成员，瑞典北极星勋章、美国国家科学院的阿加西奖章、皇家地理学会奖章和布鲁斯奖章获得者。曾担任国际物理海洋学协会和国际海洋勘探理事会主席、美国地球物理联盟副主席（兼海洋学部主席）。</p>
<blockquote>
<p><strong>家族成员</strong>：爸爸Edvard Sverdrup是挪威神学家，爷爷Harald Ulrik Sverdrup是牧师和挪威议会议员，叔公（爸爸的叔叔）Johan Sverdrup创立自由党，并曾任挪威首相，叔叔Jakob Sverdrup是挪威议会议员，叔叔Georg Sverdrup创立路德教会自由教会，任神学院院长。 妹妹Mimi Sverdrup Lunden是作家和女权活动家，兄弟Leif Sverdrup是美国陆军将军，兄弟Einar Sverdrup是挪威矿老板，死于抵抗德军入侵的保卫战。Harald Sverdrup未生育子女。</p>
</blockquote>
<h2 id="成就"><a href="#成就" class="headerlink" title="成就"></a>成就</h2><ul>
<li>提出Sverdrup平衡，和Stommel、Munk前后独立发表了SSM论文。<code>Sverdrup (1947), Stommel (1948),and Munk (1950)</code>。</li>
<li>领导SIO成为现代化的双一流海洋科学机构。</li>
<li>解释赤道逆流。</li>
<li>为诺曼底登陆预报海浪。</li>
<li>海水流量以其名字缩写Sv命名。</li>
</ul>
<h2 id="传记"><a href="#传记" class="headerlink" title="传记"></a>传记</h2><p>根据Sverdrup在1948年返回挪威后为美国国家科学院撰写的自传（未出版），SIO后任所长William整理并发表这份Sverdrup传记。下面通过这篇文章回顾其一生。</p>
<blockquote>
<p>[1]A. NIERENBERG W. Harald Ulrik Sverdrup[M]. National Academies Press, 1996.</p>
</blockquote>
<h3 id="挪威和德国期间"><a href="#挪威和德国期间" class="headerlink" title="挪威和德国期间"></a>挪威和德国期间</h3><p>在挪威，Harald Sverdrup不仅被公认为伟大的科学家，而且还是北极探险家和古老而尊贵的大户人家一员。</p>
<p><img src="./images/sv2.png" alt></p>
<p>Harald Sverdrup于1888年11月15日出生在挪威松恩的松达尔，他的父亲Johan Edvard Sverdrup (1866-1923)在那里的成人学校任教。Harald Sverdrup的爸爸和他的四个叔叔一样，是挪威国教（路德教会）的牧师，1908年，他爸爸成为奥斯陆的教会历史教授。</p>
<p>Sverdrup家族的首个史料记录出现在1620年，但在清晰的家谱中，Sverdrup只能追溯到他的曾曾爷爷（一位挪威北部的大地主）。 1813年，这位曾曾爷爷的三个儿子之一的Georg Sverdrup成为奥斯陆大学最早的古典哲学和语言教授，他还参加了挪威制宪会议，并且是最终文件的三位作者之一。三儿子中最小的一个，也就是海洋学家Harald Sverdrup的曾爷爷Jacob Liv Borch Sverdrup (1775-1841) 成为土地管理专家，并在挪威建立了第一所农业学校，他的两个儿子声名显赫，Johan Sverdrup (1816-1892)是议会成员，并成为自由党的领袖，并成功引入了议会制度。Harald Sverdrup的爷爷Harald Ulrik Sverdrup (1813-91)排行老大，也是一名牧师，还长期在议会任职，并经营了许多生意，从水果种植到银行，再到航运。</p>
<p>他的妈妈Maria Vollan在他还是个孩子的时候就去世了。由于爸爸多变的职业生涯，Harald少年时代的大部分时间都在挪威西部的各个地方度过，并由家庭教师教授文化课，直到他 14岁才在开始进入校园上学。在Harald的青春期，他经历了对自然科学的兴趣和家族神学专业之间的冲突。根据他自己的说法，他是丹麦先进出版物<strong>Frem</strong>的热心读者，这份杂志涵盖了整个科学领域，他很难将进化论与他的宗教信仰相协调。</p>
<p>以优异的成绩离开中学后，他在奥斯陆度过了一年的时间，并通过大学初试。他参加了Norwegian Academy of War的义务兵，并学习了物理和数学。他在回忆录中特别指出，他参加义务兵的一年并没有因为需要体能训练而浪费时间，体能训练对他漫长的北极考察中的生存和表现至关重要。</p>
<p>1908年进入大学时，Sverdrup的专业是天文学。1911年，他获得了挪威杰出气象学家和卑尔根学院创始人Vilhelm<br>Bjerknes教授的助教职位，并确定了他的研究兴趣。 他们的关系不是通常的导师与学生的关系。 Bjerknes的助手是他们这一代最聪明的年轻科学家，他们包括Jacob Bjerknes（Vilhelm<br>Bjerknes的儿子，出生于瑞典的美国籍气象学家）、Tor Bergeron（瑞典气象学家）、Olaf Devik（挪威物理学家）、Theodore Hesselberg（挪威气象学家，曾担任气象研究所所长40年）、Carl-Gustaf Rossby（对，就是那位Rossby）和Halvor Solberg（挪威科学与文学院院士）。</p>
<p>Sverdrup指出美国<strong>卡内基研究所</strong>的长期资助在早期在发展地球科学方面发挥的重要作用，Sverdrup本人在整个职业生涯中都得到了该机构的支持。</p>
<p>Sverdrup最初希望继续研究天文学，但他对<strong>气象学和海洋学</strong>越来越感兴趣，于是转了专业。1912年，Bjerknes前往莱比锡大学担任教授和新地球物理研究所所长，1913至1917年，Sverdrup陪同他在德国工作，并在那里完成了奥斯陆大学的PhD论文，于1917年6月获得了博士学位。</p>
<h3 id="一个持续7年的北极航次"><a href="#一个持续7年的北极航次" class="headerlink" title="一个持续7年的北极航次"></a>一个持续7年的北极航次</h3><p>Sverdrup 似乎无法避免北极科考的命运。</p>
<p>1913年，Roald Amundsen重新开始了他的北极探险计划，Sverdrup拒绝了首席科学家助理的邀请，因为他希望完成他的大学工作。</p>
<p>1917年，他被提升为首席科学家，于是他接受了。Sverdrup在北极的经历塑造了他作为一个男人和一个科学家的双重性格。他在晚年向他的学生们讲述了北极的艰辛故事，并评论说：“那些年真的很有价值，因为它们让我与大自然进行了最密切的接触。”</p>
<p><img src="./images/sv4.jpg" alt></p>
<p>探险队于1918年 7 月 18 日离开挪威，预计航次时间为三到四年，但却持续了七年半，其中包括1921-22年在美国的十个月的中断，这期间他第一次访问了华盛顿卡内基研究所，这也是他第一次到美国旅行。</p>
<p>Sverdrup直到1925 年 12 月 22 日才返回挪威。</p>
<p>Sverdrup 认为北极科考调查可更好的理解洋流的基本物理特性，因为在极地可以得到最好的和最简单的海洋动力学观察（那里是地球自转最大的）。他讲述了Nansen如何凭经验认识到<strong>矢量旋转</strong>作为深度函数的可能性，并向Bjerknes建议应该更正式地研究它。Bjerknes将这个问题分配给了一位年轻的数学物理学家 <strong>V. Walfrid Ekman</strong>，他解决了这个问题，被称为Ekman Spiral现象。它直接类比于电磁学中的Coq效应（skin effect）。</p>
<p>Sverdrup于1926年被任命为卑尔根气象学的主席（Bjerknes空出），在这个岗位上，他研究了在七年北极探险的数据，并编辑了航次报告，他个人贡献了约三分之二。然而，在担任这个职位之前，他在华盛顿的卡内基研究所花了十个月研究同一航次的电磁数据，他在这期间两次拒绝了长期职位。他还访问了几个美国实验室，包括对SIO的短暂访问。有趣的是，如果Sverdrup接受了卡内基的长期职位，他几乎肯定会成为1930年成立的伍兹霍尔海洋研究所的第一任所长。那样的话，美国海洋学的机构历史将会大不相同。</p>
<h3 id="结婚"><a href="#结婚" class="headerlink" title="结婚"></a>结婚</h3><p>回到挪威后不久，Sverdrup与古德伦·布隆·沃蒙德结婚。他们没有孩子，但他收养了古德伦第一次婚姻的女儿。</p>
<h3 id="SIO"><a href="#SIO" class="headerlink" title="SIO"></a>SIO</h3><p>直到1935年12月，Sverdrup的生活发生了巨大的变化。他的领导从美国回来，告诉Sverdrup，他可能会替代Thomas Wayland Vaughan（1924年，成为SIO所长，1936年退休）成为新的SIO所长。Sverdrup同意了，他接受了很快发出的邀请。Sverdrup从1936年担任SIO的负责人近12年。</p>
<p>1936年选择Sverdrup担任SIO所长，这是加州大学做出的最明智的决定之一。除了长期担任加州大学校长的Sproul之外，没有人能够预见到巨大的后果。Sproul与Sverdrup稳步合作，以改善该机构（SIO曾被前大学校长忽视）。Sproul是一位伟大的大学校长，当他发现杰出的人才时，他全力以赴地支持，并创造了一个让个人留下来工作的环境。</p>
<p>1936年，SIO是一个偏远且尘土飞扬的小型海洋站，有一艘只能进行沿海航行的研究船和大约30名工作人员，其中包括8名教职员工。它的年度运营预算约为 89,000 美元，主要来自斯克里普斯家族的捐款。</p>
<p>Sverdrup 1936到达拉霍亚时，一定对这里简陋的设施感到惊讶，据说他的爱人在她第一次看到一家人将长期居住的小房子时哭了。Sverdrup 带着几个近期目标开始工作，他首先需要一艘新的远洋调查船，<strong>他还想增加该机构的收入</strong>，提高员工士气，并在研究人员之间建立更紧密的联系。他的长期目标是制定SIO研究计划并改善该机构的教学。</p>
<p>Sverdrup于1937年从当时在拉霍亚家族Robert Paine Scripps那里得到了他需要的船只。Scripps先生对Sverdrup印象深刻，并同意不仅为该机构提供一艘远洋船 R/V EW Scripps，而且还同意增加该机构的家庭捐款。Sverdrup对Scripps家族长期支持的希望因Scripps先生第二年的英年早逝而破灭。</p>
<p>Sverdrup在SIO和加州大学洛杉矶分校之间建立了密切的工作联系，该校于1936年为SIO学生授予学位。他活跃于学术评议会，在加州大学洛杉矶分校教授课程，并与加州大学洛杉矶分校的管理人员和教师建立了友谊。Vilhelm Bjerknes 的另外两个助手 Jacob Bjerknes 和 Jorgen Holmboe正在加州大学洛杉矶分校建立气象系。Sverdrup还与加州大学洛杉矶分校的物理学家建立了密切的联系，以改善SIO和加州大学洛杉矶分校的研究生教学。</p>
<p>SIO是第一家也是长期以来唯一一家提供海洋学研究生教学的美国研究机构。Sverdrup很幸运在他到达时，SIO已经拥有了几位才华横溢的年轻老师，包括Roger Revelle。1939年，另一位年轻的物理学家Munk来到SIO与Sverdrup一起学习。</p>
<h3 id="二战"><a href="#二战" class="headerlink" title="二战"></a>二战</h3><p>Harald Sverdrup作为SIO所长的三年任期到了，但这时挪威已经被占领。当他意识到自己将无限期地留在拉霍亚时，他决定成为美国公民。其他说法表明，他在战争期间的安全许可问题也是一个推动因素。他的战时工作需要高度保密，而且由于他的大部分家人仍留在被占领的挪威，他的许可被间歇性地取消和更新。尽管当时在海军服役的Roger Revelle努力使Sverdrup的安全状态正常化，但还是发生了一些情况。</p>
<p>战争一开始，美国军方就对海洋学家和气象学家提出了紧急要求。反潜战成为军方的重中之重，加利福尼亚大学战争研究部（UCDWR ）成立了海军无线电和声学实验室，以开展该主题的研究。<strong>SIO很快将自己转变为战时海洋学研究中心</strong>。</p>
<p>可能是因为他的外国人身份，Sverdrup与加州大学战争研究部UCDWR的水下声学工作没有直接联系。UCDWR由物理学家Gaylord P. Harnwell指导，他后来成为宾夕法尼亚大学的杰出校长，并着有出色的电学和磁学成果。Sverdrup致力于解决与预测海滩阵地海浪条件相关的一系列问题，他的海流和海浪预测方法被用来指导盟军诺曼底登陆。这项工作为海军挽救了许多生命。</p>
<p>在战后，Sverdrup讨论他的二战相关工作的价值时，表现出很大的谦逊。虽然这些成就具有重要的实际意义，但他指出它们是基于非常古老的波浪定理，并取自经典流体动力学。在阅读他现有的信件时，无论在何种情况下，他的语气都非常平稳，这让人感到震惊。这种内在的平静的心态，可能是他在逆境中以及相对较短的时间内取得如此多成就的原因。 Sverdrup认为<strong>耐力是挪威人与生俱来的特质</strong>，因为他们“在一个人烟稀少的崎岖国家长大…变得自力更生、足智多谋，具备了忍受单调、寂寞和每天辛勤劳作的气质。” </p>
<p>战时和战后一段时间对于海洋学来说是非常重要的时期。海军各部门通过直接资助和成立<strong>海军研究办公室（Office of Naval Research）</strong>在推进该领域发挥了至关重要的作用，这为美国日后取得的巨大科学成就奠定了行政基础。有故事甚至说，<strong>海军支持</strong>实际上使SIO在战争结束后免于解散。事实上，加州大学的董事会认为战争结束后SIO不再有继续存在的理由，<strong>海军对此不以为然，并直接与学校高层接洽，承诺“只要预算可行”就在财政上支持SIO</strong>。Edward Cochrane海军上将在Roger Revelle的敦促下，写信给加州大学校长Sproul，表示将继续支持SIO的战后海洋学研究。</p>
<p><strong>持续的海军资助至关重要，并发挥了重要作用。</strong>SIO和海军建立了合作关系，奠定了SIO在该领域的世界领先地位。这是一个富有成果的伙伴关系，大大加强了海军和学术界的联系。海军还做出了一项具体承诺，<strong>将无限期地支持SIO的几个教授，并提供持续的研究资金</strong>。</p>
<p>SIO的一个教授职位让Carl Eckart（美国物理学家、物理海洋学家，UCDWR主任）留下，当时Carl Eckart在UCDWR度过了战争时期，并准备重返芝加哥大学担任教授。由于UCDWR在战争结束后解散，因此必须迅速做出选择，而Sverdrup已准备邀请他留在SIO。在那些年里，Eckart是SIO最重要的成员之一，仅次于Sverdrup。</p>
<p>在战后海洋学发展过程中，Sverdrup是西海岸的核心人物。Sverdrup为SIO制定的战后计划包含许多要素。他想培训更多的海洋学家，扩大SIO研究船队，并将人力和船只集中在一个共同的科学研究计划上，从而使SIO可以出海调查并解决基本的海洋学问题。 </p>
<h3 id="离开"><a href="#离开" class="headerlink" title="离开"></a>离开</h3><p>Sverdrup于1948年离开SIO返回挪威。他给出的理由是，他可以在一个较小国家的国际事务中发挥更大的影响力。但可能还有其他原因，当时加州大学的工资是出了名的低。其次毫无疑问Harald Sverdrup和他的妻子Gudrun都想家了。</p>
<p>Sverdrup回到奥斯陆后，领导了<strong>挪威极地研究所</strong>。通过安排1949-52年的挪威-英国-瑞典探险队到南极洲，<strong>他恢复了他早期的极地探索工作</strong>。他还从1949年起担任奥斯陆大学地球物理学教授直至去世。</p>
<p>Sverdrup在挪威极地研究所的工作没有SIO的工作强度或深度，但他实现了在国际社会发挥作用的目标。</p>
<p>他于1957年8月21日突然去世。</p>
<p>关于Harald Sverdrup的去世，有几种不同的说法。他的一名学生说，就在医生说他身体状况良好时，他心脏病发作死亡，也有人说他在参加会议时去世了。</p>
<p><img src="./images/sv5.png" alt></p>
<center><font face="黑体" size="3" color="gold">图：Maud在北极。</font></center>
<center><font face="黑体" size="3" color="gold">插图创造者：Baby的小肉手</font></center>
<center><font face="黑体" size="3" color="red">算法提供：Disco Diffusion v5.2</font></center>
<center><font face="黑体" size="3" color="gray">"A beautiful painting of  polar expedition to the Arctic on R/V Maud", "blue color scheme"</font></center>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/06/11/gender/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/11/gender/" class="post-title-link" itemprop="url">海洋科学中的性别平等研究</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-11 09:14:47 / 修改时间：18:03:59" itemprop="dateCreated datePublished" datetime="2022-06-11T09:14:47+08:00">2022-06-11</time>
            </span>

          
            <span id="/2022/06/11/gender/" class="post-meta-item leancloud_visitors" data-flag-title="海洋科学中的性别平等研究" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/06/11/gender/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/06/11/gender/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>基于<strong>联合国海洋科学促进可持续发展十年</strong>（United Nations Decade of Ocean Science for Sustainable Development）和<strong>为联合国海洋科学促进可持续发展十年赋予妇女权力</strong>（Empowering Women for the Ocean Decade Programme）项目，本文对海洋科学过去几十年性别平等进展做了研究。</p>
<p>文章第一作者Sonya Legg 一直是<strong>关系物理海洋女性博士就业和发展(MPOWIR)</strong>的联合首席研究员，现任世界气候研究计划<strong>CLIVAR</strong>项目科学指导小组的联合主席。 </p>
<blockquote>
<p>原文：<a href="https://eartharxiv.org/repository/view/3357/" target="_blank" rel="noopener">https://eartharxiv.org/repository/view/3357/</a></p>
</blockquote>
<h2 id="历史问题"><a href="#历史问题" class="headerlink" title="历史问题"></a>历史问题</h2><p>历史上，有许多阻碍女性参与海洋学的障碍。其中一些在其他领域很常见，例如工作和家庭协调的障碍、强调师承关系的晋升结构等。这里，主要关注海洋学特有的障碍。</p>
<p><img src="./images/wm1.png" alt></p>
<h3 id="禁止出海"><a href="#禁止出海" class="headerlink" title="禁止出海"></a>禁止出海</h3><p>在西欧和北美，由于长期存在的封建迷信思想，往往禁止女性上船工作。尽管如此，在英国和美国还是有少数女性参与出海调查，但主要是短期沿海任务。作为对比，在苏联，特别是北极海洋学研究考察航次，则大力支持女性参与海洋学调查。</p>
<p>美国在二战期间和之后，女性参与远海调查受到了更多限制，例如SIO海洋研究所正式禁止女性登船，这归因于SIO与美国海军之间的关系强化，拉蒙特地质观测站和WHIO (WHOI) 也有类似的限制。在1950年代，WHOI研究生罗伯塔·艾克认为，出海调查对她的职业生涯很重要。虽然WHOI的许多男性海洋学家愿意让女性出海，但他们表示前提是“船更大、更舒适”。1956年，艾克厌倦了等待，并藏匿在一艘研究船上，导致她被WHOI解雇，结束了她的海洋学生涯。</p>
<p>1963年SIO的R/V Argo航次促使制度变化，两名苏联科学家加入其中，其中一名是女性地球物理学家埃琳娜·卢比莫娃。从那时起，SIO允许女性出海，伍兹霍尔也是如此。而拉蒙特第一次允许女性上船时间在1965年。</p>
<p>尽管越来越多的女性出海，但调查船仍然缺乏女性基本设施，例如用于卫生产品的废物处理箱。即使在最近几年，许多船只也没有储存适合女性尺寸的防护服。</p>
<h3 id="限制教育和就业"><a href="#限制教育和就业" class="headerlink" title="限制教育和就业"></a>限制教育和就业</h3><p>女性接受海洋学教育的历史很长，如统计学家Rosa Lee在1900年代初受雇于英国海洋生物协会，Easter Ellen Cupp是首位从SIO获得博士学位的女性（1934年），Mary Sears于1933年从拉德克利夫学院获得博士学位。 然而，他们的就业经常受到性别偏见阻碍，例如Rosa Lee的公务员职位在结婚后被终止，Ellen Cupp在SIO被主任<strong>Harald Svedrup</strong>解雇，这很可能是因为她是一个女人。 <strong>反裙带关系</strong>规则还阻止与其他海洋学家结婚的女性在同一机构受雇。</p>
<p>尽管女性可以在整个20世纪获得海洋学高等教育，但她们的成功取决于男性教师是否愿意为她们提供指导。SIO在1960年代讨论过禁止招收女性博士，因为她们的失败率太高。</p>
<h3 id="降低贡献"><a href="#降低贡献" class="headerlink" title="降低贡献"></a>降低贡献</h3><p>尽管女性参与海洋学存在这些障碍，但仍有几位女性从岸上的实验室为美国海洋学做出了重要贡献，其中包括 <strong>June Pattullo（第一位获得物理海洋学博士学位的美国女性）</strong>，Mary Robinson领导了SIO的深海温度计设备发展，海军的海洋生物学Mary Sears，和制作了第一张大西洋中脊裂谷水深图的拉蒙特地图学家玛Marie Tharpe。然而，与男性同行相比，这些女性的工作往往被低估。人们往往认为这些女性海洋学家的工作是常规的和无聊的，最重要的是“非英雄式的”，因为它不涉及出海调查。</p>
<h3 id="骚扰"><a href="#骚扰" class="headerlink" title="骚扰"></a>骚扰</h3><p>女性参与出海调查的持续障碍是性骚扰。有限的海上空间使女性难以避免骚扰者。随着船只上的女性人数增加，骚扰事件也随之增加。</p>
<h2 id="进展和现状"><a href="#进展和现状" class="headerlink" title="进展和现状"></a>进展和现状</h2><h3 id="就业"><a href="#就业" class="headerlink" title="就业"></a>就业</h3><blockquote>
<p>在全球范围内，女性占海洋科研人员的39%，比自然科学整体高出约10%。但全球女性海洋科学家的比例仅比2013年的38%略有增加。</p>
</blockquote>
<p>不同国家之间存在很大差异，克罗地亚的女性海洋研究人员比例最高,为63%，日本的比例最低，为12%。其他国家的女性海洋研究人员的比例是：美国：35%，英国：43%，德国：40%，西班牙：43%，巴西：50%，南非：33%。</p>
<h3 id="PhD"><a href="#PhD" class="headerlink" title="PhD"></a>PhD</h3><p>海洋学性别平等的一个指标是博士学位数据。</p>
<p>美国国家科学基金跟踪不同科学领域的博士完成情况以及相关的人口统计数据，自2007年左右以来，美国海洋学博士的女性比例一直保持在50%左右，而1988年是30%，2000年是40%，美国在海洋学领域获得博士学位的女性比例超过了其他地球科学领域。</p>
<p>我们使用公开数据对2019-2021年中国4所不同大学的博士和硕士学位获得者的性别进行了调查，发现女性在硕士阶段的比例在38-65%之间，博士水平的40-60%。</p>
<h3 id="就业和评职称"><a href="#就业和评职称" class="headerlink" title="就业和评职称"></a>就业和评职称</h3><p>海洋学博士学位只是海洋学研究生涯的第一步。为了让女性充分为海洋学做出贡献，她们的专业知识需要得到对口的工作。从历史上看，担任海洋学教师职位的女性比例一直低于获得海洋学博士学位的女性比例预期。</p>
<p>2014年对于26所不同的美国机构的调查显示，平均40%的女教师处于助理教授级别，30%处于副教授级别，15%处于正教授级别。<strong>女性从一个职业阶段晋升到下一个职业阶段的可能性低于男性</strong>。</p>
<p>其他地方也注意到较高职称的女性人数减少：在欧洲所有自然科学领域，2016年女性占博士毕业生的近40%，但仅占教授的15%;来自法国CNRS、意大利学术界和西班牙的2021年数据均显示，女性的比例从博士水平的50%左右下降到最高学术水平（教授）的25%左右。</p>
<p>在中国也看到了类似的趋势，我们从公开数据中调查了当前（2022年初）<strong>15所不同大学</strong>海洋学系的教师人数，女性占讲师的38.1%、副教授的30.7%和教授的18.2%，在每个职业生涯的各个阶段都在下降。<strong>讲师级别的女性比例低于其中四个机构获得博士学位的女性比例，这表明女性博士找到教职工作的可能性较小。</strong>教授级别的性别差异在不同学科之间差异很大：<strong>物理海洋学教授中只有12%是女性</strong>，<strong>而海洋生物学教授中有23.2%是女性</strong>。在讲师层面，海洋生态学中女性超过男性（61.4%），物理海洋学（46.2%女性）接近平等，但在海洋地质学中仍然只占很小的比例（29.5%）。</p>
<p><img src="./images/wm2.png" alt></p>
<p>女性在领导层中的比例仍然很低，2019年只有24%的法国CNRS海洋实验室由女性领导，西班牙海洋科学研究所负责人中只有33%是女性。巴西7个海洋科学研究所中只有1个由女性领导，国家海洋和水道研究所18位高级研究人员中只有3位是一个女性。然而，在美国，6个海洋学机构中的3个任命了女性主任，表明取得了一定的进展。</p>
<p>职称晋升并不是唯一衡量标准，但这可能是其他潜在不平等的来源。WHIO进行了性别平等审查表明，在科学人员的薪酬方面存在性别不平等，男女在就业后存在差异，以及办公室空间分配方面的性别不平等，男性终身科学家拥有比女性终身科学家多约50%的办公室空间。</p>
<h3 id="经费"><a href="#经费" class="headerlink" title="经费"></a>经费</h3><p>美国许多基础研究都由<strong>国家科学基金会</strong>资助，该基金会每年都发布绩效评估。 2009 年，向女性首席研究员 (PI) 资助的成功率从 2006 年的 23% 增加到 2008 年的27% 。2019年绩效审查显示，自2009 年以来，所有 NSF 女性 PI 的资助率一直是比男性 PI 的资助率高约 1 或 2 个百分点，女性提交的提案比例从 2009 年的约 23% 略微上升到 2019 年的 29%。特别是在地球科学部，2019年26%的提案有女性PI，56%有男性PI（17%的PI的性别未知），女性PI提交的提案中有40%获得了资助，而男性 PI 提交的提案中有 37% 获得了资助。另一个促成资助率性别平等的因素可能是<strong>NSF项目管理人员的性别平衡</strong>：在整个 NSF 项目管理人员中，女性项目管理人员的比例从 2006年的36%到2019年的47%。NSF旨在确保公平公正的政策是另一个可能的因素。我们不知道其他美国海洋学资助机构（例如ONR）的类似构成，它们的评估结构非常不同。</p>
<h3 id="首席"><a href="#首席" class="headerlink" title="首席"></a>首席</h3><p>海洋学中的一个重要职位是研究船上的首席科学家或领队。在UNOLS船上，女性首席科学家的比例从 2000 年代初的 10% 增加到 2010 年代初的 20%，在德国 Polarstern研究船上从 15% 增加到 30% 。来自德国科考船的数据显示，在 2018 年和 2019 年的 255 次科学调查中，24% 的首席科学家是女性。</p>
<p>深海钻探项目 (Deep Sea Drilling Project, 1968-1983) 和大洋钻探计划 (Ocean Drilling Program,1985-2003) 表明，女性的参与率从 1970 年代的不到 10% 上升到 2000 年代初期的 25% 以上 。 DSDP 中只有 4 名女性担任联合首席科学家，而ODP则有16位 女性联合首席科学家。对于多平台综合海洋钻探计划(Integrated Ocean Drilling Program)，在 2004-2013 年期间女性平均占科学团队的 30%，但仅占联合首席科学家的 12%。IODP 对提供资金国家的联合首席科学比例家提出了要求，<strong>尽管日本是一个重要的捐助者，但没有日本女性联合首席科学家</strong>。最近，在国际海洋发现计划（International Ocean Discovery Program，2014 年至今）期间，性别平衡有所改善：在 2014 年至 2018 年期间，女性占联合首席科学家的 32%。</p>
<h3 id="发论文"><a href="#发论文" class="headerlink" title="发论文"></a>发论文</h3><p>以AGU期刊JGR:Oceans 2016-2021年数据为例。女性通讯作者的比例从2016年的21%增加到 2021 年达到 25%。 编辑邀请的审稿人中女性比例从 2016 年的 19% 稳步上升到2021年的26%。 在2017-2020年期间，女性第一作者最终被接受论文的百分比约67% 而男性第一作者约59%。<strong>女性作者在所有年份的接受率都比男性作者高几个百分点</strong>。其他AGU期刊也是如此。</p>
<h3 id="会议"><a href="#会议" class="headerlink" title="会议"></a>会议</h3><p>除了教育程度、就业和出版之外，跟踪女性对海洋学贡献的另一种方法是看看她们参与科学会议的情况。</p>
<p>IOC-UNESCO调查了2015-2018年举行的 37次国际海洋会议的参与者名单，发现 43% 的参与者是女性，但这一比例因主题而异（海洋健康领域的参与者超过50%会议是女性，在海洋生态系统会议中约占50%，在海洋地壳和海洋地质灾害会议中仅约30%），并因国籍而异（女性占俄罗斯、意大利、巴西和葡萄牙参与者的 50% 以上，而日本低于20%）。</p>
<p><strong>女性平均仅占特邀报告的29%，远低于她们的平均参与水平。</strong></p>
<h3 id="奖项"><a href="#奖项" class="headerlink" title="奖项"></a>奖项</h3><p>奖项通常由专业和学术团体颁发，是对科学家成就的重要认可。直到 21 世纪，女性海洋学家基本上都没有出现在这些荣誉榜上。</p>
<p>下表显示了21世纪以前美国地球物理联盟 (AGU)、美国气象学会 (AMS)、欧洲地球物理联盟 (EGU)、国际海洋物理科学协会 (IAPSO)、湖泊学和海洋学科学协会 (ASLO) 和海洋学学会 (TOS)授予女性的专业海洋学奖项。</p>
<table>
<thead>
<tr>
<th align="center">机构</th>
<th align="center">奖项名称</th>
<th align="center">时间段</th>
<th align="center">女性/总数</th>
<th align="center">女性比例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">AGU</td>
<td align="center">Ewing Medal</td>
<td align="center">2007-2021</td>
<td align="center">4/14</td>
<td align="center">29%</td>
</tr>
<tr>
<td align="center">AGU</td>
<td align="center">Revelle Medal</td>
<td align="center">2004-2021</td>
<td align="center">6/17</td>
<td align="center">35%</td>
</tr>
<tr>
<td align="center">AGU</td>
<td align="center">Ocean Sciences Award</td>
<td align="center">2002-2021</td>
<td align="center">1/11</td>
<td align="center">9%</td>
</tr>
<tr>
<td align="center">AGU</td>
<td align="center"><strong>Ocean sciences early career award</strong></td>
<td align="center">2002-2021</td>
<td align="center">5/12</td>
<td align="center">42%</td>
</tr>
<tr>
<td align="center">AGU</td>
<td align="center">Ocean sciences voyager award</td>
<td align="center">2014-2020</td>
<td align="center">2/4</td>
<td align="center">50%</td>
</tr>
<tr>
<td align="center">AGU</td>
<td align="center">Emiliani Lecture</td>
<td align="center">2005-2021</td>
<td align="center">9/21</td>
<td align="center">33%</td>
</tr>
<tr>
<td align="center">AGU</td>
<td align="center">Svedrup Lecture</td>
<td align="center">2000-2021</td>
<td align="center">12/22</td>
<td align="center">54%</td>
</tr>
<tr>
<td align="center">AMS</td>
<td align="center">Stommel Research Medal</td>
<td align="center">2011-2022</td>
<td align="center">2/12</td>
<td align="center">16%</td>
</tr>
<tr>
<td align="center">AMS</td>
<td align="center">Svedrup Medal</td>
<td align="center">2011-2022</td>
<td align="center">2/12</td>
<td align="center">16%</td>
</tr>
<tr>
<td align="center">AMS</td>
<td align="center"><strong>Fofonoff award</strong></td>
<td align="center">2011-2022</td>
<td align="center">5/12</td>
<td align="center">42%</td>
</tr>
<tr>
<td align="center">EGU</td>
<td align="center">Nansen medal</td>
<td align="center">2011-2022</td>
<td align="center">3/12</td>
<td align="center">25%</td>
</tr>
<tr>
<td align="center">EGU</td>
<td align="center"><strong>Ocean div. early career award</strong></td>
<td align="center">2011-2022</td>
<td align="center">3/8</td>
<td align="center">38%</td>
</tr>
<tr>
<td align="center">IAPSO</td>
<td align="center">Prince Albert medal</td>
<td align="center">2000-2021</td>
<td align="center">2/11</td>
<td align="center">18%</td>
</tr>
<tr>
<td align="center">IAPSO</td>
<td align="center"><strong>Eugene LaFond medal</strong></td>
<td align="center">2003-2019</td>
<td align="center">5/9</td>
<td align="center">55%</td>
</tr>
<tr>
<td align="center">IAPSO</td>
<td align="center"><strong>early career scientist medal</strong></td>
<td align="center">2019-2021</td>
<td align="center">2/4</td>
<td align="center">50%</td>
</tr>
<tr>
<td align="center">ASLO</td>
<td align="center"><strong>Lindemann Award</strong></td>
<td align="center">2000-2021</td>
<td align="center">10/22</td>
<td align="center">45%</td>
</tr>
<tr>
<td align="center">ASLO</td>
<td align="center">Hutchinson Award</td>
<td align="center">2010-2021</td>
<td align="center">3/12</td>
<td align="center">25%</td>
</tr>
<tr>
<td align="center">ASLO</td>
<td align="center">Redfield lifetime achievement award</td>
<td align="center">2015-2021</td>
<td align="center">3/8</td>
<td align="center">38%</td>
</tr>
<tr>
<td align="center">ASLO</td>
<td align="center"><strong>Yentsch-Schindler early career award</strong></td>
<td align="center">2013-2022</td>
<td align="center">4/10</td>
<td align="center">40%</td>
</tr>
<tr>
<td align="center">TOS</td>
<td align="center">Munk Medal</td>
<td align="center">1993-2017</td>
<td align="center">1/13</td>
<td align="center">8%</td>
</tr>
<tr>
<td align="center">TOS</td>
<td align="center">Jerlov award</td>
<td align="center">2000-2020</td>
<td align="center">1/11</td>
<td align="center">9%</td>
</tr>
</tbody></table>
<p>在早期职业类型奖励中（AGU 海洋科学早期职业奖、AMS Fofonoff 奖、EGU 海洋部早期职业奖、IAPSO Eugene LaFond 和早期职业科学家奖章、ASLO Lindemann 和 Yentsch-Schindler 奖）性别平等尤为明显，女性占到了38-55%。 </p>
<p>AGU 海洋科学航海者（职业生涯中期）奖获得者中有 50% 是女性，而 AGU 的Emiliani 和 Svedrup 奖项越来越多地授予女性。</p>
<p>对于高级奖项，性别比例是多变的。虽然 AGU Maurice Ewing 和 Roger Revelle奖自2014年以来提高了她们的性别比例，但AGU海洋科学奖（奖励高级海洋学家）仅授予一名女性。ASLO Redfield自 2015 年以来，8 个奖项中有 3 个授予女性成就奖。AMS（Stommel 和 Svedrup）和 IAPSO（Prince Albert medal）的高级海洋学奖很少授予女性，而历史悠久的两个 TOS 高级奖项（ Munk Medal 和 Nils Gunnar Jerlov 奖）均只授予女性一次。</p>
<h3 id="委员会、董事会、小组"><a href="#委员会、董事会、小组" class="headerlink" title="委员会、董事会、小组"></a>委员会、董事会、小组</h3><p>海洋学界对女性的包容和认可的另一个指标是她们在领导职位中的代表性，如董事会、委员会和小组。</p>
<p>调查发现女性占<strong>沿海地球科学和工程专业组</strong>成员的30%左右。然而，<strong>沿海地球科学和工程国际会议</strong>的组委会中只有22%是女性。相比之下，在关注海洋在气候中的作用的世界气候研究计划 <strong>CLIVAR</strong>项目中，女性目前占其小组成员的44%。</p>
<p>海洋学专业协会的主席是最高级别领导职位。从 1989 年到 2010 年，海洋学会只有 2/10 的女性主席，而从 2010 年到 2022 年，2/6 的主席是女性。 AGU 的海洋科学部在 1988 年首次有一名女主席，从 1990 年到 2022 年有 6/15 名女主席，自 2010 年以来有 3/5 名女主席。 ASLO 于 1988 年首次有女一把手，从 1990 年到2022年有 6/16 位女一把手，其中自 2010 年以来有 3/6 位。最后，自 2010 年以来，IAPSO 自1919年的整个历史中只有2位女一把手，还是21世纪后提名的。</p>
<h2 id="措施"><a href="#措施" class="headerlink" title="措施"></a>措施</h2><h3 id="数据采集"><a href="#数据采集" class="headerlink" title="数据采集"></a>数据采集</h3><p>如果没有海洋学活动所有参与者的完整性别分类数据，就无法准确识别参与的性别障碍。</p>
<p>“为联合国海洋科学可持续发展十年赋予妇女权力”计划已开始从选定的国际组织和国家机构收集数据。** Baltic Consortium on Promoting Gender Equality in Marine Research Organizations (Baltic Gender) ** 项目与来自波罗的海地区5个国家的8个机构合作，制定了一套13项性别敏感指标，包括性别薪酬差距、就业指数、研究航次中女性和男性首席科学家的比例、董事会和委员会中女性的比例、女性和男性工作申请、面试和录用的比例。</p>
<h3 id="体制变革"><a href="#体制变革" class="headerlink" title="体制变革"></a>体制变革</h3><p>目前已经制定了几项举措来促进机构变革，目标是在学术和科研机构的教职员工/首席研究员层面实现性别平等。例子包括美国的NSF ADVANCE计划和英国的Athena SWAN计划。</p>
<h3 id="互联网"><a href="#互联网" class="headerlink" title="互联网"></a>互联网</h3><p>在学术和研究机构之外，为基于性别平等提供网络支持。包括海科女性协会、地科女网 (<a href="https://eswnonline.org/)、沿海地科女网" target="_blank" rel="noopener">https://eswnonline.org/)、沿海地科女网</a> ( <a href="http://womenincoastal.org/" target="_blank" rel="noopener">http://womenincoastal.org/</a> )、海女网（ <a href="https://womenforoneocean.com/" target="_blank" rel="noopener">https://womenforoneocean.com/</a> ）和海洋黑人网（ <a href="https://www.blackinmarinescience.org/" target="_blank" rel="noopener">https://www.blackinmarinescience.org/</a> ）。</p>
<p><img src="./images/wm3.png" alt></p>
<h3 id="骚扰问题"><a href="#骚扰问题" class="headerlink" title="骚扰问题"></a>骚扰问题</h3><p>如果不解决陆上和船上工作环境中的性骚扰问题，将无法实现性别公平的目标。解决这个问题需要制度变革，而不仅仅是事后惩罚个别肇事者。最近的促进野外科学安全研讨会提供了一长串建议，包括文化变革、问责制、政策制定等，强调了处理海上骚扰。自2019年以来，UNOLS设立了一个关于维护尊重船上环境的常设委员会。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li><p>调查显示，在许多国家，女性在海洋学本科和研究生教育中的比例接近平等，并且在早期就业水平中的平等程度正在提高。因此，女性对海洋学并不缺乏兴趣。</p>
</li>
<li><p>虽然女性第一作者和 PI 的比例尚未与女性海洋学博士的比例相匹配，但在某些资助计划中，女性 PI 的提案与男性 PI 的提案一样可能得到资助。</p>
</li>
<li><p>不同组织在奖项性别比例方面的改善差异很大，女性在小组和委员会中的代表性也是如此。不同组织之间的差异可能反映了不同的选择过程，其中一些可能更容易受到结构和认知偏见的影响。</p>
</li>
<li><p>海洋学分支学科之间的性别平等仍然存在差异，<strong>女性参与物理海洋学的人数少于生物海洋学</strong>。</p>
</li>
</ul>
<p>然而，这些在最广泛层面上的性别平等掩盖了女性群体持续存在的不平等现象。海洋学中真正的性别平等必须包括女性在所有生命阶段、社会经济背景、种族、性取向和身体能力方面的参与。性别平等还必须包括所有性别的跨性别者，他们面临性别歧视和骚扰以及制度障碍。</p>
<p><img src="./images/wm4.png" alt></p>
<center><font face="黑体" size="3" color="gold">女孩们在北极探险</font></center>
<center><font face="黑体" size="3" color="gold">插图创造者：Baby的小肉手</font></center>
<center><font face="黑体" size="3" color="red">算法提供：Disco Diffusion v5.2</font></center>
<center><font face="黑体" size="3" color="gray">"A nice painting of a group girls exploring the arctic ocean,  by Pride & Prejudice", "blue color scheme"</font></center>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://assz0a.coding-pages.com/2022/06/03/carl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/xingchi.jpg">
      <meta itemprop="name" content="Yang Lei">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="学习笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/03/carl/" class="post-title-link" itemprop="url">世界知名海洋学家CARL WUNSCH</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-03 17:25:16" itemprop="dateCreated datePublished" datetime="2022-06-03T17:25:16+08:00">2022-06-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-19 23:02:48" itemprop="dateModified" datetime="2022-06-19T23:02:48+08:00">2022-06-19</time>
              </span>

          
            <span id="/2022/06/03/carl/" class="post-meta-item leancloud_visitors" data-flag-title="世界知名海洋学家CARL WUNSCH" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/06/03/carl/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/06/03/carl/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="CARL-WUNSCH"><a href="#CARL-WUNSCH" class="headerlink" title="CARL WUNSCH"></a>CARL WUNSCH</h1><p><img src="./images/carl.png" alt></p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Carl Wunsch（1941-）是MIT教授，1962年他在MIT获得数学学士学位，1966获得MIT地球物理博士学位（导师：斯托梅尔）。</p>
<p>Wunsch在物理海洋学及其气候变化领域开展研究，重点是利用卫星遥感、声层析及常规方法进行全球规模的海洋观测。他主持了早期的卫星测高科学委员会，深入研究大洋环流及其气候影响分析，并对古海洋学进行解释。他的工作涡流、潮汐和混合过程等各种海洋过程提供了深刻的见解。</p>
<p>他将<strong>逆向反演</strong>应用于北大西洋环流问题，揭示了与有限观测数据相一致的理论框架。Wunsch也是世界海洋环流实验（World Ocean Circulation Experiment，WOCE）的发起人，该计划研究了大洋环流在地球系统中的作用。</p>
<p>他是美国国家科学院院士、敦皇家学会外籍会员，美国艺术与科学院、美国哲学学会、美国地球物理学会和美国气象学会会员，获得了2006年美国地球物理学会鲍伊奖和2015年沃尔特-蒙克奖。</p>
<h2 id="成就"><a href="#成就" class="headerlink" title="成就"></a>成就</h2><p>2006年，Carl的门生（Jochem Marotzke，Lee-Lueng Fu，Eli Tziperman）在<strong>JPO</strong>杂志策划特刊，庆祝Carl Wunsch 65岁生日，总结了他的4次物理海洋学革命性成就：</p>
<ul>
<li>1）Carl Wunsch和Walter Munk发明了声学层析成像技术；</li>
<li>2）Carl说服NASA支持TOPEX/Posiedon测高卫星；</li>
<li>3）Carl是有史以来规模最大的海洋学实验WOCE的创造者和驱动者；</li>
<li>4）Carl将<strong>逆向建模</strong>的机制引入了物理海洋学，并将其从<strong>地球物理学</strong>中转移出来。</li>
</ul>
<h2 id="自传"><a href="#自传" class="headerlink" title="自传"></a>自传</h2><p>Carl曾今为蒙克（1917-2019）和斯托梅尔（1920-1992）撰写了讣告，可见其在物理海洋学江湖地位之高。Carl目前仍旧活跃在一线，偶尔发表一些回忆录和科学史方面的文章。下面我们通过他2021年发表的一篇自传文章（80岁纪念）来了解这位科学家的故事。</p>
<blockquote>
<p>WUNSCH C. Right Place, Right Time: An Informal Memoir[J/OL]. Annual Review of Marine Science, 2021, 13(1): 1-21. DOI:10.1146/annurev-marine-021320-125821.</p>
</blockquote>
<h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>从和100年以前一样的纯机械仪器观测开始，到现代电子技术产生的巨大新能力，我的职业生涯可以说是涵盖了海洋研究的革命。在假设的稳态海洋中存在着优雅的理论。今天我们了解到海洋是一种高度湍流的流体，并在全球范围内相互作用，现在世界各地的研究团队正在利用航天器和各种独立的原位仪器对其进行研究。我的职业是偶然的：<strong>我很幸运能在正确的时间出现在正确的地方。</strong></p>
</blockquote>
<p>我职业生涯的大部分时间都在MIT（MIT）和伍兹霍尔海洋研究所（WHOI）担任<strong>物理海洋学家</strong>，同时涉足<strong>固体地球物理和古气候</strong>等领域。六十年对于任何一门活跃的学科来说都是一段很长的时间，这个领域无论是在其文化上还是在我们所理解的各方面都发生了翻天覆地的变化。当我在20世纪60年代初进入物理海洋学的时候，它是一个小型的、几乎像俱乐部一样的团体，其中主要从业者是WHOI和SIO的出海调查人员，以及纽约克、西雅图、夏威夷、英国、法国、斯堪的纳维亚和德国的少量参与者。人们大多遵循自然主义传统，很少使用数学来解释他们在海上看到的东西，<strong>少数是学术人士（如雷·蒙哥马利和亨利·斯托梅尔）</strong>。</p>
<p>人们几乎可以了解世界各地该领域的所有人（苏联除外）。大部分工作都是在非大学环境下完成的，比如WHOI和SIO，这是好像是人们眼中的一种宁静的追求。开始，这项技术几乎是完全机械化的，主要是使用原始的深海温度仪和南森瓶的反向温度计。人们曾多次尝试开发电子仪器，但有时剧烈移动的船舶物理环境、高压和腐蚀，意味着很少有此类设备可以使用。那时，导航依靠星星、太阳和月亮、六分仪，非常考验船员的真正技能。可用的英语教科书是Sverdrup等人（1942），以及Defant（1961），但是内容并不深刻。这一领域对我的吸引力是，一个人可以成为一名多面手，研究各种各样的物理问题，并产生影响。今天，知识大爆炸，要成为一名多面手几乎是不可能的。</p>
<p>在接下来的内容中，我主要说说过去的日子，因为年轻科学家对这段时间不太熟悉，它代表了我们向当代科学方式的转变，开始有大型的、国际性的调查项目、卫星观测、以及超级计算机，这些东西结合在一起，具有越来越复杂的结构。我简化了对我个人生活的描述。在 《Annual Review of Marine Science》 中描述80大寿和近60年的职业生涯是一个相当大的挑战。</p>
<h3 id="父母"><a href="#父母" class="headerlink" title="父母"></a>父母</h3><p>这是一个关于1900年左右来到美国的犹太移民的老生常谈的故事，他们为子女和孙子孙女在职业、学术和其他方面而奋斗。我的父母都是移民的孩子，我的母亲海伦（Helen Wunsch）出生于新泽西州，是莫里斯·盖利斯和米妮·伯恩斯坦·盖利斯的女儿，他们分别于1908年左右从<strong>立陶宛的维尔纳（Vilna）</strong>和<strong>白俄罗斯的明斯克（Minsk）</strong> 附近移民过来。我的母亲在新罕布什尔州的克莱蒙特长大，我的祖父在那里成为了一名成功的商人（经营萨尔茨公司，并建造了一些最早的加油站）。 </p>
<p>我的祖父母于1905年从现在的<strong>乌克兰</strong>来到美国，但当时属于奥匈帝国（加利西亚）。父亲的哥哥姐姐出生在欧洲，但我父亲和一个弟弟都出生在曼哈顿下东区。</p>
<p>我的外祖母在我父亲11岁时去世，我的祖父是一位失败的裁缝，后来当糖果店老板也失败了。我父亲的长兄约瑟夫·沃尔夫·文施把这家人从贫困中解救出来，他进入布鲁克林理工学院并获得了工程学学位。他在布鲁克林办了一家起重机公司。公司非常成功，他将全家从布朗斯维尔搬到了布鲁克林，并支付了兄弟姐妹上大学的费用。我父亲在<strong>康奈尔大学</strong>学习，在那里他遇到了我母亲。 </p>
<h3 id="童年"><a href="#童年" class="headerlink" title="童年"></a>童年</h3><p>1941年5月5日，我出生在纽约布鲁克林。直到12岁，一直住在弗拉特布什的中西部地区。<strong>这个家庭是舒适的中产阶级和世俗化的犹太人。</strong> 我父亲是一名机械工程师，起初在起重机公司工作，然后在我十几岁的时候，在康涅狄格州丹伯里的一家制造厂工作；后来，他在康涅狄格州斯坦福德经营自己的制造公司。在第二次世界大战期间，他在起重机公司负责为美国海军建造重型起重设备、起重机、绞盘等。<strong>我父母有五个孩子，其中我是第二个。</strong> 我的哥哥成了马萨诸塞州洛厄尔大学的电气工程教授，我的弟弟詹姆斯是纽约州立大学帝国州立学院的教授，我的兄弟耶利米是一名退休的养老金律师，现居住在芝加哥，最小的是我的妹妹萨拉，她是一位著名的民权律师，现已从马萨诸塞州美国公民自由联盟退休。（在最近的一次感恩节晚宴上，我数了一下两代直系亲属中的<strong>七位“Wunsch教授”。</strong>） </p>
<h3 id="搬到郊区"><a href="#搬到郊区" class="headerlink" title="搬到郊区"></a>搬到郊区</h3><p>20世纪50年代初，我的父母加入了中产阶级搬到郊区的行列，特别是搬到康涅狄格州的韦斯特波特。这座城镇因小说《穿灰色法兰绒西装的人》以及其对郊区环境的描述而臭名昭著。我不喜欢它，迫不及待地想离开。西港的斯台普斯高中专注于人文学科、英语、外语等，在我来到MIT之前，高中的科学和数学似乎已经足够了，但我意识到许多公立高中学生比我准备得好得多。1957年夏天，多尔·奥利弗基金会在哈特福德附近的卢米斯学校举办了一个项目，我从中受益匪浅。<strong>就是在那里，我第一次遇到了电脑，整个夏天我都在学习如何在为数不多的穿孔卡输入IBM 704s编程。</strong> 罗伊·纳特（RoyNutt）和其他人是我学习FORTRAN语言的领路者。一路上，在初中和高中，我幸运地遇到了一些令人兴奋的老师。其中一位是威廉·谢尔德，他对科学的热情在西港是罕见的，是他鼓励我申请多尔·奥利弗项目。 </p>
<h3 id="大学"><a href="#大学" class="headerlink" title="大学"></a>大学</h3><p>我想去哈佛学习历史，但被拒绝了。</p>
<p>我选择<strong>MIT</strong>有各种原因，这也是一个幸运的选择，然后我想成为一名纯粹的数学家。1958年的MIT似乎势不可挡。但到了第一年年底，我已经相当满意了，我交了许多朋友。到了第二年，<strong>我意识到我缺乏成为一名纯粹数学家的天赋——拥有这种天赋的学生似乎在一个不同的精神世界中工作，我的方向也不清楚。</strong> 我获得了历史写作奖，成为《科技周报》的编辑，并结识了MIT管理层的各种各样的人，包括MIT公司的董事长、总裁和许多其他人。<strong>我渐渐地进入了应用数学领域，并逐渐意识到地球物理学有许多引人入胜的数学方面。</strong> 这些现象包括自由振荡、地球物理热通量和地磁，我的大部分理解来自哈罗德·杰弗里斯的书。MIT的一位朋友菲利普·纳尔逊主修地质学和地球物理学，他鼓励我走这条路。</p>
<h3 id="毕业后"><a href="#毕业后" class="headerlink" title="毕业后"></a>毕业后</h3><p>毕业后，我在《普罗维登斯公报》担任总记者。当时，该报在罗德岛州各地设立了办事处。这段经历非常迷人，因为我能够处理镇上分配给我的所有事情，从<strong>讣告</strong>到镇议会会议，再到正在进行的州长竞选的候选人。坐着听他们讲话本身就是一种教育。作为新人，我通常在工作日的晚上4点到午夜换班，周末我常常独自一人在办公室。我们被要求制作周末专题文章，这些文章不是硬新闻，有一些兴趣成分。<strong>在这里，我学会了讲故事。</strong> 街对面的酒吧是记者们常去的地方，我喝着酒与当地的政客们交谈，这也是一种非常不同的教育。</p>
<p>当报纸要求我留下来时，我说想先去读研究生。</p>
<h3 id="幸运"><a href="#幸运" class="headerlink" title="幸运"></a>幸运</h3><p>回顾我的科学生涯，我惊讶地发现我是多么幸运，<strong>在正确的时间，在正确的地点，遇到了正确的人。</strong> </p>
<p>就在20世纪70年代电子革命之前，我成为了一名物理海洋学家。当时的观测方法为前几代海洋学家所熟悉，甚至可以追溯到帆船探险。我发现使用南森瓶、深海温度计、航位推算导航、冯·阿克斯海流计等老式航海方法极具吸引力。我遇到过包括雷蒙德·海德、亨利·斯托梅尔、弗兰克·普莱斯和沃尔特·芒克在内的长期合作者。他们和其他重要的名字将出现在下面。</p>
<h3 id="研究生和物理海洋"><a href="#研究生和物理海洋" class="headerlink" title="研究生和物理海洋"></a>研究生和物理海洋</h3><p>随着我对地球物理越来越感兴趣，我申请了研究生院。</p>
<p>与我考虑过的其他大学相比，MIT地质与地球物理系似乎更加任性、友好和无组织，这又是一点运气。我被指派为助理教授史蒂夫·辛普森的第一年研究助理。他管理着一个MIT小组，旨在解决区分地下核试验和地震的问题。我学习了许多地震学和时间序列分析，并选修了经典力学、地磁、应用数学等课程。因此，我获得了当时大多数物理海洋学学生都不熟悉的背景。出于某种原因，MIT杰出的实验室流体动力学家<strong>Raymond Hide</strong>对我很感兴趣。正是他为我获得了NASA的实习机会。1963年春天的一天，他建议我在秋季（我的第二年）去见一位即将从哈佛来的新老师<strong>亨利·斯托梅尔</strong>，我从未听说过他。我与他的相遇让我兴奋不已，并奠定了我科学兴趣的基石。<strong>我第一次遇到了一位真正有魅力的科学家。</strong> 他迷人、平易近人，且鼓舞人心，充满有趣的想法和故事。<strong>我决定我不在乎他做什么，我想和他一起工作。</strong> 我告诉他我对海洋一无所知，他的评论是：“那样更好。” </p>
<p>Stommel建议我研究的第一个问题是旋转流体中稳定粘性运动的侧壁边界层。当时，奇异摄动理论已成为理论海洋学的流行数学。<strong>我没有解决这个问题的数学技能，汉克也没有。</strong> 经过几个月的斗争，他建议 我咨询了哈佛大学老师艾伦·罗宾逊。我与罗宾逊的第一次会面令人难忘，因为他向我保证，他们已经解决了问题，即将公布结果。回到MIT，我看起来一定有点沮丧，当我告诉他时，他只是笑着说：“罗宾逊总是这么说。”事实证明，英国数学家基思·斯图尔特森和后来的作者最终解决了这一重要问题，产生了现在被称为斯图尔特森层的东西。</p>
<p>我已经做了足够多的工作，通过了博士预科普通考试。然后，汉克建议将<strong>长期潮汐</strong>作为博士论文的主题。这个主题很不流行，但有一个很大的优势，<strong>那就是对海洋的无知通常不会成为一个严重的障碍。</strong> 该领域的重要人物都在很久以前：<strong>拉普拉斯、开尔文、瑞利、霍夫、G.达尔文</strong>等。我在时间序列和固体潮汐方面的经验使这个方向成为了一个实际的方向。我需要长时间的验潮数据，汉克知道SIO的沃尔特·芒克对潮汐有着浓厚的兴趣，并一直在编辑和数字化纸质记录仪数据。1964年秋天，沃尔特参加了MIT的一次研讨会。晚上，汉克在一个聚会上介绍了我们。然后他走开了，留下我向沃尔特解释我想要这些资料的原因。令我惊讶的是，沃尔特断然地说：“没有。”但他邀请我到SIO去处理资料。在汉克的同意和资助下，我于第二年秋天驱车前往拉霍拉，在那里停留了几个月。<strong>沃尔特在考验我，看我是否有能力。这是沃尔特·芒克和我之间终身密切合作和友谊的开始。</strong> </p>
<h3 id="出海"><a href="#出海" class="headerlink" title="出海"></a>出海</h3><p>斯托梅尔和我都认为，如果我真的想在海上工作，我应该首先应该学习在海上工作中的经验。他让我与Art Voorhis取得联系，他是一位理智、随和的物理学家，当时他对海洋表面锋特别感兴趣。</p>
<p>1964年2月，我们乘坐研究船从伍兹霍尔驶入北大西洋，那里的近海正下着暴风雪。我很晕船，但两三天后我感觉好多了，这是一次奇妙的经历，与我以前遇到的任何事情都不一样。我们的仪器是旧的深海测温仪、带有反转温度计的南森水文模型和一条拖曳式热敏电阻链。几乎所有的东西都是机械的，我能理解所有东西是如何工作的。人们可以将普通的陆地科学与如此有趣的观测形式相结合，这使得物理海洋学似乎是一个更具吸引力的领域。<strong>出海有力地强化了我的推论，即无论理论多么复杂，观测数据都是了解海洋的关键。</strong> </p>
<h3 id="家庭"><a href="#家庭" class="headerlink" title="家庭"></a>家庭</h3><p>1970年，我和同样来自布鲁克林的马乔里·马克尔结婚，多年前我们在康涅狄格州的韦斯特波特见过，我就认识她了。我们有两个孩子：贾里德，1971年出生，汉娜，1975年出生。在撰写本文（2020年）时，贾里德是西北大学的数学教授，汉娜是托伦托大学医学院的危重病护理教授。马乔里和我对我们的子孙感到非常幸运，非常感谢他们。50多年来，我幸运地拥有了一位忠诚、乐于助人的妻子。</p>
<p><strong>马乔里是几本儿童读物的作者和插画家，还做过杂志和其他插图。</strong> 她拥有康奈尔大学英语学士学位和哈佛大学建筑与教育硕士学位。近年来，她一直专注于油画。</p>
<h3 id="早期职业生涯"><a href="#早期职业生涯" class="headerlink" title="早期职业生涯"></a>早期职业生涯</h3><p>我的博士学位于1966年秋季完成，在<strong>海军研究办公室（ONR）</strong> 的支持下，我成为了亨利·斯托梅尔的博士后。在后人造卫星时代，ONR积极寻求人员支持。几个月后，我被任命为MIT地质与地球物理系的讲师，新到的弗兰克 ·普莱斯主任正着手在该系建立海洋学科，该系当时与气象系不同，但共用一栋大楼。第二年，我被任命为助理教授，开始在MIT教职中走上正轨。<strong>沃尔特·芒克成为了我的亲密朋友和同事</strong> 。和沃尔特一样，我从固体地球物理学开始，对时间序列分析感兴趣。<code>那时，我对沃尔特非常了解，认识到他是物理海洋学和地球物理学的木星：任何有着类似兴趣（和我一样）的人，如果进入他的轨道，都可能再也逃不掉了。</code></p>
<p>这些年来，我收到了各种各样的邀请，他们希望我能搬到一些更加优秀而有吸引力的地方，但我最终得出结论，我在MIT和WHOI的同事让这成为我最理想的地方。普莱斯通过说服该系的长期赞助者，授予我<strong>塞西尔和艾达物理海洋学的绿色教授职位</strong>，让我很容易留下来。我在1975年至2012年担任该职位。1977年初，新当选的吉米·卡特总统选择弗兰克·普莱斯作为他的科学顾问。到那时，弗兰克已经担任部门主任12年了，正在寻找新的接班人。令我完全惊讶的是，<strong>他坚持认为我是他唯一可能的继任者。那时，我35岁，正在建立自己的科学事业，家里有两个年幼的孩子。</strong> 我本不想这么做，但弗兰克是一个很有说服力的人，最后我同意成为代理部门主任，直到找到其他人来接手。从我与弗兰克的长时间交谈中，我真正记得的是，他坚持认为我对科学问题<strong>有“品味”</strong> ，这是工作中非常重要的因素。在MIT，与主席轮换的地方相比，系主任的职位相当强大。</p>
<p>我们对局外人进行了走访。大约两年后，结果空空如也，我不得不同意担任总共五年的负责人。事后看来，这是一次有趣且非常有用的与人合作和组织事情的经验，但在当时我并不喜欢。<strong>五年过去了，我就逃到英国剑桥去休假。</strong> 我感谢我有两位非常有帮助的部门行政官员：首先是林恩·霍奇斯·迪基，然后是道格拉斯·菲弗。他们都非常有组织性，在非常多样化的部门中善于倾听实际情况，并提供了良好的建议。</p>
<h3 id="MIT和WHOI"><a href="#MIT和WHOI" class="headerlink" title="MIT和WHOI"></a>MIT和WHOI</h3><p>从20世纪60年代开始，MIT与WHOI就联合培养博士的可能性进行了持续的讨论。1965年，弗兰克·普莱斯出任MIT地质学和地球物理学系的新任系主任后，双方的讨论开始僵化。1968年签署了一项正式协议，导致该项目于明年开始。在这段时间里，我要么是研究生，要么是初级教师，因此对这一过程几乎没有了解。后来听说，<strong>WHOI方面的一个强烈动机是需要筹款，并认为教育计划将是一个很好的工具。在MIT方面，弗兰克·普莱斯决心加强该系的出海观测能力。</strong> </p>
<p>在我看来，这个项目是必不可少的，几乎我所有的博士生和硕士生都是来自这个联合项目。普莱斯请我担任第一个联合监督委员会主席，在那些年里，海洋学（物理海洋学、化学海洋学、生物海洋学、工程学、地质学和地球物理学）中非常不同的元素都是由这一委员会管理的。我们试图在所有这些领域制定一套连贯的课程，对教师进行质量控制，管理住房和机构间交通，等等。这些年来，我教授了各种关于海洋环流、时间序列分析、海浪、反演方法和其他学科的课程，部分是因为需要，部分是因为反映了我自己的兴趣。我自己的团队对职业和教学生活至关重要：<strong>我有29名成功的博士生、22名硕士生、43名博士后和各种本科生论文生</strong>。讲述他们的故事远远超出了我的篇幅限制！<strong>多年来，我与汉克·斯托梅尔的合作经历让我建议那些想攻读博士学位的学生首先决定他们想与谁合作。</strong> 一个人可以在以后改变领域和重点，但一个好的导师是最重要的因素。</p>
<p>这一联合机制已经在世界各地的海洋学界得到了广泛的复制，并被认为是一个巨大的成功。然而，在不断变化的海洋学文化中，人们担心它的未来。</p>
<h3 id="科学"><a href="#科学" class="headerlink" title="科学"></a>科学</h3><h4 id="内波"><a href="#内波" class="headerlink" title="内波"></a>内波</h4><p>读完博士学位后，我和当时的任何海洋学学生一样，对时间序列分析有着丰富的经验。Stommel建议，鉴于我所在的新<strong>浮标小组</strong>正努力从系泊系统获取时间序列数据，我不妨尝试以<strong>百慕大岛</strong>为平台进行温度测量。这一建议由来已久。首先，在20世纪50年代初，斯托梅尔有了在百慕大群岛上建造一座天文台的想法，该岛距离波士顿和科德角很近，而且有当地船只可供使用。除了一些全球分散的验潮仪的测量之外，几乎不存在海洋时间序列数据。建造天文台后，他在维护几个不同的仪器操作和解释复杂数据方面都遇到了很大困难，于是他放弃了它。其次，斯托梅尔写了几篇劝诫性的论文，敦促“一些优秀的工程师”参与海洋学。他曾与MIT仪器实验室的一群<strong>前阿波罗计划工程师</strong>联系，他们很高兴摆脱了与NASA合作的严格规则，获得了海军ONR的宽松氛围。斯托梅尔把我介绍给这个小组，并帮助我获得ONR支持，我们开始了合作。</p>
<p>当时，WHOI海流计既没有测量温度也没有测量压力。Draper–MIT 温度/压力记录仪曾一度被广泛使用，但随着电流表开发人员增加该功能，该记录仪逐渐过时。德雷珀工程师喜欢称之为“海洋望远镜”的电缆处理技术被有效地应用于WHOI内波实验。</p>
<p>我开始担心巨大的百慕大地形对我们正在研究的现象的影响。在我第一次尝试理解地形影响时，我假设波浪在到达顶点之前会从斜坡反射。当我们在WHOI实验室技术人员的帮助下，试图在水槽中再现这些波时，很明显，它们并没有在我们使用的频率下反射，而是传播到角落里，在那里它们发生了故障。这促使我写了第二篇论文，强调了临界坡度的作用。</p>
<p>对百慕大群岛的海洋混合和搅动效应存在一些生物学推测。作为一名最近的博士后，我在新的亚特兰蒂斯II上获得了两周的出海时间。一个博士后，在获得博士学位一两个月后，可能会成为一艘拥有大约30名船员的大型海洋学船上的首席科学家，以及一支规模类似的科学团队，这在今天可能是一种幻想。事后看来，这可能是我所有工作中最可怕的一项，包括召集一个科学研讨会（没有船上的技术人员）；借用STD（盐度-温度-深度）系统、实验室表格等；邀请足够多的人上船，这样我们就可以24小时不间断地使用这艘船。当我们准备离开伍兹霍尔前往百慕大群岛时，汉克·斯托梅尔上船对我说，“记住你不能早回来”。这提醒我们，船上的时间不能浪费。</p>
<h3 id="Inverse-Methods"><a href="#Inverse-Methods" class="headerlink" title="Inverse Methods"></a>Inverse Methods</h3><p>20世纪70年代，瓦尔（Val Worthington）多年来一直试图从水文数据中拼凑出北大西洋环流，并最终下结论：该海流必须打破地转平衡。当时的假设是，基于船测的长距离剖面数据代表了时间平均环流。他将向任何能找到<strong>平衡质量、温度、溶解氧等的地转流解决方案</strong>的人提供一箱威士忌。当时，我从未从事过海洋环流研究，但这事听起来很有趣，我也参加了。</p>
<p>我听了沃辛顿的话，认为存在大规模海流破坏地转平衡的想法不太可能。我认为解决这个问题会很有趣，但我并不清楚该如何着手。我问瓦尔，他是否可以给我一个数据集，我可以用它来理解这个问题，他立即给了我一组水文剖面数据，从哈特拉斯角附近的美国海岸到百慕大，然后再回到佛罗里达州的美国海岸。他说，如果我能平衡地转三角，他会相信的。 </p>
<p>我所做的就是写下不同层的质量和温度守恒要求，让参考能级速度未知。这在我逐渐淡忘的地球物理问题记忆中敲响了一个警钟，我知道由乔治·巴克斯和弗里曼·吉尔伯特在SIO提出的<strong>地球物理逆理论</strong>声称能够在存在噪音的情况下处理这种情况。然后我读了巴克斯和吉尔伯特的各种文章。巴科斯是一位应用数学家，他开始在函数空间中证明定理，而我却在苦苦挣扎。所以有一天，我打电话给我的地球物理学同事西奥多·麦登，简要地解释了我想做的事情，他很快说，“哦，不要读那些，得读拉尔夫·威金斯的论文”。拉尔夫在离散空间中让数学变得更加简单（线性代数）。沃辛顿的结论被推翻了：存在一个无穷多的数字，用方程的零空间表示。 </p>
<p>我写了一文章给出解决方案，它似乎很受欢迎。最后，瓦尔站了起来，说他不懂我说的话，但给了我一箱威士忌微缩模型！事后看来，日本著名海洋学家Hidaka Koji（1940）也曾尝试过类似的方法。但德凡已经证明，Hidaka的方程是病态的，实际上扼杀了这个方向。无论如何，都需要一台电脑！</p>
<p>巧合的是，当时正在德国休假的汉克·斯托梅尔与弗里茨·肖特一起工作，他提出了贝塔螺旋法来寻找参考层速度。我们用两种看起来截然不同的方法来解决经典问题，Russ Davis（1978）很快证明了它们在形式上是相同的，尽管在实践中有所不同。</p>
<h4 id="The-Mid-Ocean-Dynamics-Experiment-and-Eddies"><a href="#The-Mid-Ocean-Dynamics-Experiment-and-Eddies" class="headerlink" title="The Mid-Ocean Dynamics Experiment and Eddies"></a>The Mid-Ocean Dynamics Experiment and Eddies</h4><p>汉克·斯托梅尔在担任MIT教授的15年里，一直对利用周围数百名工程师的创造力有兴趣。他建议，应共同努力开发新装备并观测更佳的时间序列。Walter Munk、D.James Baker和其他人一直在完善海底压力计；尼尔·布朗的CTD系统几乎司空见惯；约翰·斯沃洛、托马斯·罗斯比等人开发了中性浮力浮标和其他技术；模式界也在用新的计算机能力前进。</p>
<p>人们知道涡流场在大气环流中的强大作用。大洋中部动力学实验（MODE）及美苏POLYMODE结果表明，海洋中充满了支配海洋动能的地转平衡涡流场（错误命名为“中尺度”）。这一推论突然破坏我们已知的知识结构，<strong>即对海洋环流的漂亮理论受到了挑战</strong>，包括斯维尔德鲁普平衡、斯托梅尔-阿隆深海流、稳定的埃克曼层等等。</p>
<p>这似乎需要进行全球调查，许多科学家开始在世界各地的不同地点放置系泊装置一到两年，以了解全球领域的典型情况。然而，考虑到现有资源，很明显，要在全球范围内获得此类记录，需要几十年的时间，即便如此，在一个地点一年或两年是否足够还不清楚。</p>
<p><img src="./images/carl2.png" alt></p>
<p>怎么办？</p>
<h3 id="A-GLOBAL-TURBULENT-OCEAN"><a href="#A-GLOBAL-TURBULENT-OCEAN" class="headerlink" title="A GLOBAL TURBULENT OCEAN"></a>A GLOBAL TURBULENT OCEAN</h3><p>当我们完成MODE-1时，要么物理海洋学家将成为无关紧要的理论科学家，要么我们必须解决获得可用的全球测量问题。</p>
<p>我去寻找解决方案。</p>
<h4 id="卫星高度计"><a href="#卫星高度计" class="headerlink" title="卫星高度计"></a>卫星高度计</h4><p>我最初参与遥感是不情愿的，因为我认为NASA所做的大部分工作的重要性被大大夸大了。有些牵强，我加入了一个国家研究委员会，该委员会大约在1973年左右为NASA提供咨询。如果足够精确的话，<strong>海面测高是我们可以与整个物理海洋学联系起来的唯一一种海洋表面测量方法</strong>。Seasat将于1978年飞行，携带一个原型高度计。</p>
<p><img src="./images/carl3.png" alt></p>
<p>Seasat测量只持续了三个月，但这足以让我用真实数据写一篇文章，描述<strong>大地水准面改善和海洋动力信号的非凡存在</strong>。JPL的科学家和工程师因此对更精确的测高航天器产生了热情。</p>
<p>Bob Stewart，Charlie Yamarone和我，以及在许多其他人的投入下，<strong>成立了一个测高科学工作组，该工作组涵盖了测高所涉及令人惊讶的不同领域，包括大地测量、轨道确定、潮汐、跟踪系统、后向散射、大气负荷、数据缩减和使用，电离层和大气水蒸气校正、校准</strong>，以及创建一颗能在轨数年工作的卫星所需的所有工程专业知识。</p>
<p>然而，美国海洋学界是不太情愿投入到这个项目中来的。一位著名的WHOI科学家告诉我，“<strong>我宁愿再有一艘船</strong>”，另一位说，“<strong>我们真正需要的是在墨西哥湾流附近有更多的浮标。</strong>”在一次简报会上，NASA局长詹姆斯·贝格斯尖锐地问我，<strong>为什么WHOI和SIO的人那么少</strong>。</p>
<p>我们利用TOPEX/Poseidon 帮助证明WOCE的现场数据是合理的，这是一个用真实的全球数据集补充现场测量的机会。T/P是NASA和法国CNES合作资助项目，法国<strong>大地测量科学家Michel Lefebvre</strong>的积极参与极大地帮助了与WOCE的合作，他从参与法国Poseidon高度计项目开始，就成为全球支持海洋学项目的精明而热情的支持者。与此同时，我们还与欧洲航天局合作发射ERS-1，该卫星的高度计精度稍低。</p>
<p>从1980年TOPEX报告中的草图设计到1992年TOPEX/Poseidon的实际发射，以及第一批数据集的发布，这段漫长的时间是一段传奇故事。从与法国合作的决定，到关于轨道的长期辩论，到当时被称为<strong>国防测绘局</strong>的对所有数据进行<strong>保密的威胁</strong>（存在一个保密但质量低的军事测高任务<strong>GEOSAT</strong>），到NASA/CNES需要确定一个非保密的大地水准面，再到与WOCE的结合。还有发射前发生了许多危机，包括NASA要求航天器可回收，电池将在数月内失效的公告，等等，这本身就是一个个的故事。</p>
<p>最后，现在大量的测高文献和测高任务的运行延续是这一努力值得的最好证明。<strong>我曾经是卫星测高专家，现在我是旁观者。</strong></p>
<h4 id="声学断层摄影"><a href="#声学断层摄影" class="headerlink" title="声学断层摄影"></a>声学断层摄影</h4><p>这是我参与的另一项主要技术，也是偶然发现的。1977年夏天，作为JASON政府咨询小组的一名成员，我去了拉荷亚进行为期三周的夏季研究，主要针对<strong>非声学反潜战</strong>。沃尔特·芒克很有说服力，他让我相信美国的能力正存在危机，而我应当有爱国责任与他一起解决这个问题。沃尔特描述了他的学生彼得·伍斯特进行的25公里声波互传实验。我一直在研究无运动水平问题的逆方法。当闲聊时突然意识到，如果我们把沃尔特对声学的了解与我对逆方法的了解结合起来，我们可以制作一个有趣的观测系统，尤其是在远距离。我们继续研究距离、覆盖范围、处理等细节。</p>
<p>几天后，JASON的主任迪克·加温进来问我们在做什么，当我们告诉他时，他说：“<strong>你刚刚重新发明了（医学）断层摄影术</strong>”。沃尔特和我在与伍斯特以及声学、工程学和海洋学的众多同事合作的基础上，继续将其付诸实践。在后来的一本书（Munk等人，1995年）中，我们试图对这项工作进行总结。</p>
<p>当沃尔特和我在英国剑桥的一次联合休假中再次共用一间办公室时，我们借此机会写了一篇论文，强调了到20世纪90年代已经或将要使用的新技术。<strong>我们确实强调了与测高相关的层析成像等</strong>，因为测高需要航天局批准数亿美元的支出，而层析成像似乎更多地掌握在我们一小群科学家自己的手中。尽管层析成像技术取得了很大进展，但它尚未得到我们预期的广泛应用。</p>
<h4 id="世界海洋环流实验"><a href="#世界海洋环流实验" class="headerlink" title="世界海洋环流实验"></a>世界海洋环流实验</h4><p>有没有可能理解一个以变化（variability）为主导的地球系统行为？</p>
<p>1981年，迪恩·罗米奇和我受反演方法的启发，完成了自国际地球物理年（International Geophysical Year，IGY）以来第一次跨北大西洋自上而下的水文剖面。迪恩和我写下了与IGY中观察到的差异，但我们的论文标题以“明显的……变化”开头，因为旧南森瓶段和新南森瓶段之间的校准偏移量不清楚。这一切都证实了我的感觉，即作为物理海洋学家，我们需要在技术和采样策略方面采取新的方法。我于1979年在迈阿密的一次国际会议上提出了第一个被称为<strong>WOCE</strong>的建议，该小组正试图制定一个涵盖全球气候实验的后续方案。随后是数年的讨论、规划会议，最终于1992年至1997年期间推出了T/P卫星项目。<strong>自那时以来，测高测量一直在继续</strong>,我们最终还获得了星载风散射计和卫星重力任务（GRACE以及GOCE卫星），以及Argo剖面测量计划。</p>
<h4 id="全球大洋环流数据同化模式系统-ECCO"><a href="#全球大洋环流数据同化模式系统-ECCO" class="headerlink" title="全球大洋环流数据同化模式系统 ECCO"></a>全球大洋环流数据同化模式系统 ECCO</h4><p>到1992年左右，很明显会出现某种形式的WOCE，届时我们会有各种全球数据集。它们将具有完全不同的类型和采样属性。我们如何使用它们？我们所知道的将全球数据应用于流体的唯一例子是数值天气预报。目前正在做的是每隔6小时将大气观测数据同化到大气环流模式（GCM）中，目的是生成提前几天的有用预报，<strong>这基本上是一个工程问题</strong>。然而，对于年度和更长的时间尺度，<strong>海洋问题不是预测，而是理解</strong>。预测和理解是不同的目标。</p>
<p>20世纪90年代初，Jochem Marotzke作为博士后从基尔来到这里。我们着手证明，我们可以调整完整的海洋GCM，使其与各种数据类型保持一致。Marotzke和我决定在普林斯顿地球物理流体动力学实验室GCM进行尝试。20世纪90年代中期，拉尔夫·吉林作为博士后来到汉堡，他曾是克劳斯·哈塞尔曼 <strong>（Klaus Hasselmann，2021年获得诺贝尔物理学奖）</strong> 的学生，他的博士论文涉及到编写计算机代码。由于非常大的GCM代码不断被修改和更新，手动维护相应的伴随代码是一项禁止的任务。</p>
<p>巧合的是，约翰·马歇尔作为伦敦帝国理工学院的一名教员来到这里，他正在建造一个新的海洋GCM。在Giering的建议和帮助下，我们设法使MITgcm（正如大家所知）至少半自动地、始终是可调整的。随着同样来自基尔的<strong>Detlef Stammer</strong>的到来，我们制定了一个计划，并最终制定了一个成功的方案，名为 <strong>“全球大洋环流数据同化模式系统”（Estimating the Circulation and Climate of the Ocean，ECCO）</strong>，项目一直持续到今天。</p>
<h4 id="古气候"><a href="#古气候" class="headerlink" title="古气候"></a>古气候</h4><p>随着WOCE的预期成功，我自己的注意力转向了全球海洋。</p>
<p>如果全球采样需要几十年的等待，很难理解海洋环流及其预期变化对气候系统的影响。如果复杂的区域行为不能从一个地方推广到另一个地方呢？很明显，海洋确实在任何地方、任何时候，在无数的时空尺度上都发生了变化。即使是最基本的理论也表明，<strong>海洋环流在几秒钟到数千年的时间尺度上发生变化</strong>。由于海洋是多尺度运动的集成体，<strong>海洋应该“记住”数百至数千年来大气和其他变化（冰盖）的影响</strong>。</p>
<p>我知道古气候发生了革命，包括古海洋学。这项激动人心的活动大部分是基于<strong>同位素分馏化学和测量</strong>。古气候记录将补充过去事件的一些缺失数据，这一概念非常有吸引力。<strong>我开始熟悉古海洋学和古气候，从基础课本开始。</strong> 一个有力的结论是，过去气候系统和海洋的状态肯定完全不同。但我对区分过去可能发生的事情和原因，以及明显发生的事情和原因带有一些有点偏见的观点。也许古海洋学将遵循物理海洋学的模式，在数据密度上进行一场革命，然后在物理理解上取得巨大进步。 </p>
<h4 id="回到潮汐"><a href="#回到潮汐" class="headerlink" title="回到潮汐"></a>回到潮汐</h4><p>高度计解决了确定公海正压潮汐的世纪难题。T/P发现内潮在全球范围内显著存在。根据我与阿德里安·吉尔的论文经验，我本应该预料到这一点。实际上，理查德·雷及其合作者的工作开创了一个潮汐新领域，这个领域至今仍在全面发展。<strong>我一直倾向于寻找海洋学问题，在那里我不必担心来自许多其他群体的严重竞争。</strong> 因此，除了我与Haidvogel和Iskandarani一起写的一篇关于长周期潮汐建模的论文外，我基本不涉及测高的这一方面。</p>
<p>然而，1996年<strong>大卫·卡特赖特 (David Cartwright)</strong> 70岁时，伦敦皇家学会为纪念他举行了一次研讨会，沃尔特·芒克和我都参加了。我们开始思考潮汐耗散问题，当时人们普遍认为它主要发生在浅海大陆架上。沃尔特对这个主题非常感兴趣，并写了几篇关于潮汐消散的论文，<strong>部分原因是关于月球轨道的历史存在着一个重大的谜团。</strong> 我们开始了关于强大的内潮含义的讨论，这又促使我们研究了海洋混合现象，我们写这篇文章有点开玩笑，正如一位同事对我说的，<strong>“每个人都知道潮汐与海洋环流无关。”</strong> 但它触动了人们的心弦，成为研究内潮生成、传播和衰减的一个刺激因素。</p>
<h4 id="改变"><a href="#改变" class="headerlink" title="改变"></a>改变</h4><p>当我开始从事物理海洋学研究时，吸引力在于能够几乎认识所有人。从前，无论是理论上还是观测上，都存在着许多明显的问题，而且不需要与任何其他人竞争。广大公众对我们在做什么没有特别的兴趣。</p>
<p>经过几十年的努力，观测和计算能力才开始接近应对的需要。物理海洋学已经发生了翻天覆地的变化，<strong>在1980年6月的JPO杂志中，有一篇论文有三个作者，三篇有两个作者，其余14篇有一个作者。在2019年6月的期刊中，没有论文只有一个作者，5篇有两个作者，其余11篇有3个或更多（2篇有8个作者）。</strong> 这些数字说明了一个成熟的、现在高度合作的科学的故事，这对前几十年的海洋科学家来说是无法想象的。它必然会随着时代的变化而变化，并随着新技术或新思想的出现而变化。对于物理海洋学来说，将新思想的出现与新技术的出现分开是不可能的。<strong>除了极少数的例外情况，理论都是跟着新的观察结果走的。</strong> </p>
<p>在MODE之后，出现了无数的湍流研究。许多人在他们的职业生涯中作为第八或第十五位作者出现在不断延长的名单中，而他们的真正贡献不为外人所知。<strong>随着论文增长和多样化，一些评价委员会采取简单地统计出版物、引文等，而不去了解文章原创性。</strong></p>
<p>在所有的空间和时间尺度上，海洋的大量新的和有趣的问题，仍然是未来几十年内需要解决的核心。</p>
<blockquote>
<p>原文有所删减。</p>
</blockquote>
<p><img src="./images/index3.png" alt></p>
<center><font face="黑体" size="3" color="gold">图：大洋环流和湍流作用图</font></center>
<center><font face="黑体" size="3" color="gold">插图创造者：Baby的小肉手</font></center>
<center><font face="黑体" size="3" color="red">算法提供：Disco Diffusion v5.2</font></center>
<center><font face="黑体" size="3" color="gray">"A beautiful painting of highly turbulent fluid interacting with global scales currents.", "blue color scheme"</font></center>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yang Lei"
      src="/images/xingchi.jpg">
  <p class="site-author-name" itemprop="name">Yang Lei</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">121</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">77</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://getmyte.com/" title="https:&#x2F;&#x2F;getmyte.com&#x2F;" rel="noopener" target="_blank">getmyte</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.economist.com/" title="https:&#x2F;&#x2F;www.economist.com&#x2F;" rel="noopener" target="_blank">Economist</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://l7.antv.vision/en/" title="https:&#x2F;&#x2F;l7.antv.vision&#x2F;en&#x2F;" rel="noopener" target="_blank">AntV</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yang Lei</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0
  </div>

        






  <script>
  function leancloudSelector(url) {
    url = encodeURI(url);
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.getAttribute('id'));
      var title = visitors.getAttribute('data-flag-title');

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .then(() => {
                leancloudSelector(url).innerText = counter.time + 1;
              })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              })
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.getAttribute('id'));
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (let item of results) {
            let { url, time } = item;
            leancloudSelector(url).innerText = time;
          }
          for (let url of entries) {
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=a05sUJqbxBXDbnppdO8OVgiC-gzGzoHsz')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method: method,
          headers: {
            'X-LC-Id': 'a05sUJqbxBXDbnppdO8OVgiC-gzGzoHsz',
            'X-LC-Key': 'YRcXfwqMVEWtFfgTumCdt2il',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el: '#valine-comments',
      verify: false,
      notify: false,
      appId: 'a05sUJqbxBXDbnppdO8OVgiC-gzGzoHsz',
      appKey: 'YRcXfwqMVEWtFfgTumCdt2il',
      placeholder: "Just go go",
      avatar: 'mm',
      meta: guest,
      pageSize: '10' || 10,
      visitor: false,
      lang: 'zh-cn' || 'zh-cn',
      path: location.pathname,
      recordIP: false,
      serverURLs: ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
